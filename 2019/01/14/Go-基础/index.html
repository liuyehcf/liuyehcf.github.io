<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 5.3.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"example.com","root":"/","scheme":"Muse","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":true,"show_result":false,"style":"mac"},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},"path":"search.xml"};
  </script>

  <meta name="description" content="阅读更多">
<meta property="og:type" content="article">
<meta property="og:title" content="Go-基础">
<meta property="og:url" content="http://example.com/2019/01/14/Go-%E5%9F%BA%E7%A1%80/index.html">
<meta property="og:site_name" content="Liuye Notebook">
<meta property="og:description" content="阅读更多">
<meta property="og:locale" content="zh_CN">
<meta property="article:published_time" content="2019-01-14T10:52:47.000Z">
<meta property="article:modified_time" content="2021-10-10T15:56:07.605Z">
<meta property="article:author" content="Liuyehcf">
<meta property="article:tag" content="原创">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="http://example.com/2019/01/14/Go-%E5%9F%BA%E7%A1%80/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : false,
    isPost : true,
    lang   : 'zh-CN'
  };
</script>

  <title>Go-基础 | Liuye Notebook</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">Liuye Notebook</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a>

  </li>
        <li class="menu-item menu-item-about">

    <a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>关于</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>标签</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>分类</a>

  </li>
        <li class="menu-item menu-item-explore">

    <a href="/explore/" rel="section"><i class="fa fa-sitemap fa-fw"></i>发现</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档</a>

  </li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>搜索
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup">
        <div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off"
           placeholder="搜索..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div id="search-result">
  <div id="no-result">
    <i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>
  </div>
</div>

    </div>
  </div>

</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content post posts-expand">
            

    
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2019/01/14/Go-%E5%9F%BA%E7%A1%80/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpg">
      <meta itemprop="name" content="Liuyehcf">
      <meta itemprop="description" content="大音希声，大象无形">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Liuye Notebook">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          Go-基础
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2019-01-14 18:52:47" itemprop="dateCreated datePublished" datetime="2019-01-14T18:52:47+08:00">2019-01-14</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2021-10-10 23:56:07" itemprop="dateModified" datetime="2021-10-10T23:56:07+08:00">2021-10-10</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Go/" itemprop="url" rel="index"><span itemprop="name">Go</span></a>
                </span>
                  ，
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Go/Basic/" itemprop="url" rel="index"><span itemprop="name">Basic</span></a>
                </span>
            </span>

          
            <span id="/2019/01/14/Go-%E5%9F%BA%E7%A1%80/" class="post-meta-item leancloud_visitors" data-flag-title="Go-基础" title="阅读次数">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">阅读次数：</span>
              <span class="leancloud-visitors-count"></span>
            </span>
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Valine：</span>
    
    <a title="valine" href="/2019/01/14/Go-%E5%9F%BA%E7%A1%80/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/2019/01/14/Go-%E5%9F%BA%E7%A1%80/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <p><strong>阅读更多</strong></p>
<a id="more"></a>
<h1 id="1-基本概念"><a class="markdownIt-Anchor" href="#1-基本概念"></a> 1 基本概念</h1>
<h2 id="11-包"><a class="markdownIt-Anchor" href="#11-包"></a> 1.1 包</h2>
<p>包是结构化代码的一种方式：每个程序都由包（通常简称为<code>pkg</code>）的概念组成，可以使用自身的包或者从其它包中导入内容。</p>
<p>如同其它一些编程语言中的类库或命名空间的概念，每个<code>Go</code>文件都<code>属于且仅属于</code>一个包。一个包可以由许多以<code>.go</code>为扩展名的源文件组成，因此文件名和包名一般来说都是不相同的。</p>
<p>你必须在源文件中非注释的第一行指明这个文件属于哪个包，如：<code>package main</code>。<code>package main</code>表示一个可独立执行的程序，每个<code>Go</code>应用程序都包含一个名为<code>main</code>的包。</p>
<p>一个应用程序可以包含不同的包，而且即使你只使用<code>main</code>包也不必把所有的代码都写在一个巨大的文件里：你可以用一些较小的文件，并且在每个文件非注释的第一行都使用<code>package main</code>来指明这些文件都属于<code>main</code>包。如果你打算编译包名不是为<code>main</code>的源文件，如<code>pack1</code>，编译后产生的对象文件将会是<code>pack1.a</code>而不是可执行程序。另外要注意的是，所有的包名都应该使用小写字母。</p>
<h2 id="12-可见性规则"><a class="markdownIt-Anchor" href="#12-可见性规则"></a> 1.2 可见性规则</h2>
<p>当标识符（包括常量、变量、类型、函数名、结构字段等等）以一个大写字母开头，如：Group1，那么使用这种形式的标识符的对象就可以被外部包的代码所使用（客户端程序需要先导入这个包），这被称为导出（像面向对象语言中的<code>public</code>）；标识符如果以小写字母开头，则对包外是不可见的，但是他们在整个包的内部是可见并且可用的（像面向对象语言中的<code>private</code>）。</p>
<p>（大写字母可以使用任何<code>Unicode</code>编码的字符，比如希腊文，不仅仅是<code>ASCII</code>码中的大写字母）。</p>
<p>因此，在导入一个外部包后，能够且只能够访问该包中导出的对象。</p>
<p>假设在包<code>pack1</code>中我们有一个变量或函数叫做<code>Thing</code>（以<code>T</code>开头，所以它能够被导出），那么在当前包中导入<code>pack1</code>包，<code>Thing</code>就可以像面向对象语言那样使用点标记来调用：<code>pack1.Thing</code>（<strong><code>pack1</code>在这里是不可以省略的</strong>）。</p>
<p>因此包也可以作为命名空间使用，帮助避免命名冲突（名称冲突）：两个包中的同名变量的区别在于他们的包名，例如<code>pack1.Thing</code>和<code>pack2.Thing</code>。</p>
<p>你可以通过使用包的别名来解决包名之间的名称冲突，或者说根据你的个人喜好对包名进行重新设置，如：<code>import fm &quot;fmt&quot;</code>。下面的代码展示了如何使用包的别名：</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> fm <span class="string">&quot;fmt&quot;</span> <span class="comment">// alias3</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">   fm.Println(<span class="string">&quot;hello, world&quot;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1 id="2-tips"><a class="markdownIt-Anchor" href="#2-tips"></a> 2 Tips</h1>
<h2 id="21-值类型与引用类型"><a class="markdownIt-Anchor" href="#21-值类型与引用类型"></a> 2.1 值类型与引用类型</h2>
<ol>
<li><code>int</code>、<code>float</code>、<code>bool</code>、<code>array</code>、<code>struct</code>是值类型</li>
<li><code>slice</code>、<code>map</code>、<code>func</code>、<code>method</code>、<code>chan</code>、<code>interface</code>、<code>string</code>是引用类型</li>
</ol>
<h2 id="22-数组与切片"><a class="markdownIt-Anchor" href="#22-数组与切片"></a> 2.2 数组与切片</h2>
<ol>
<li>数组是固定大小的 <code>[&lt;n&gt;]Type</code></li>
<li>引用是可变的（可理解为动态数组）<code>[]Type</code></li>
</ol>
<h2 id="23-类型转换"><a class="markdownIt-Anchor" href="#23-类型转换"></a> 2.3 类型转换</h2>
<p><code>Type(v)</code></p>
<h2 id="24-类型识别"><a class="markdownIt-Anchor" href="#24-类型识别"></a> 2.4 类型识别</h2>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">  <span class="keyword">if</span> value, ok := obj.(T); ok &#123;</span><br><span class="line">	</span><br><span class="line">  &#125; </span><br><span class="line">  </span><br><span class="line">  <span class="keyword">switch</span> t := obj.(<span class="keyword">type</span>) &#123;</span><br><span class="line"><span class="keyword">case</span> T1:</span><br><span class="line">     <span class="comment">//xxx</span></span><br><span class="line">  <span class="keyword">case</span> *T2:</span><br><span class="line">     <span class="comment">//xxx</span></span><br><span class="line">  <span class="keyword">default</span>:</span><br><span class="line">     <span class="comment">//xxx</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="25-字符串拼接"><a class="markdownIt-Anchor" href="#25-字符串拼接"></a> 2.5 字符串拼接</h2>
<p><code>fmt.Sprintf</code></p>
<h2 id="26-各种类型转为字符串"><a class="markdownIt-Anchor" href="#26-各种类型转为字符串"></a> 2.6 各种类型转为字符串</h2>
<p><code>fmt.Sprintf</code></p>
<h2 id="27-go文件命名规范"><a class="markdownIt-Anchor" href="#27-go文件命名规范"></a> 2.7 go文件命名规范</h2>
<p><strong>区分平台和cpu架构：<code>&lt;name&gt;_&lt;platform&gt;_&lt;cpu arch&gt;.go</code></strong></p>
<ul>
<li><code>file.go</code></li>
<li><code>file_linux.go</code></li>
<li><code>file_linux_amd64.go</code></li>
</ul>
<p><strong>测试：<code>&lt;name&gt;_&lt;platform&gt;_&lt;cpu arch&gt;_test.go</code></strong></p>
<ul>
<li><code>file_test.go</code></li>
<li><code>file_linux_test.go</code></li>
<li><code>file_linux_amd64_test.go</code></li>
</ul>
<h2 id="28-交叉编译"><a class="markdownIt-Anchor" href="#28-交叉编译"></a> 2.8 交叉编译</h2>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 查看环境变量</span></span><br><span class="line">go env</span><br><span class="line"></span><br><span class="line"><span class="comment"># 编译指定cpuArch的二进制</span></span><br><span class="line">env GOOS=linux GOARCH=amd64 go build -o &lt;target_binary&gt; &lt;src.go&gt; </span><br></pre></td></tr></table></figure>
<h2 id="29-类似trycatch"><a class="markdownIt-Anchor" href="#29-类似trycatch"></a> 2.9 类似try…catch</h2>
<ol>
<li><code>panic</code>：抛出异常</li>
<li><code>defer</code>&amp;<code>recover</code>：捕获异常</li>
</ol>
<h2 id="210-bindata-打包资源文件"><a class="markdownIt-Anchor" href="#210-bindata-打包资源文件"></a> 2.10 bindata-打包资源文件</h2>
<p><code>go build</code>只能编译go文件，但是项目中如果存在资源文件，比如<code>css</code>，<code>html</code>等文件，是无法被<code>go build</code>打包进二进制文件的</p>
<p><code>go-bindata</code>提供了打包资源文件的方式，原理很简单：就是将这些资源文件序列化成<code>[]byte</code>，包含在自动创建的<code>go</code>文件中</p>
<p><a target="_blank" rel="noopener" href="https://github.com/elazarl/go-bindata-assetfs">go-bindata-github</a></p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 安装go-bindata</span></span><br><span class="line">go get github.com/jteeuwen/go-bindata/...</span><br><span class="line">go get github.com/elazarl/go-bindata-assetfs/...</span><br><span class="line"></span><br><span class="line"><span class="comment"># 生成包含指定资源文件的go文件</span></span><br><span class="line">go-bindata -pkg &lt;package&gt; -o &lt;go file path&gt; &lt;resource path1&gt; &lt;resource path2&gt; ...</span><br><span class="line"><span class="comment"># &lt;package&gt; : 生成go文件的包</span></span><br><span class="line"><span class="comment"># &lt;go file path&gt; : 生成的go文件路径</span></span><br><span class="line"><span class="comment"># &lt;resource path1&gt; : 具体要打包的资源路径</span></span><br></pre></td></tr></table></figure>
<h2 id="211-log-framework"><a class="markdownIt-Anchor" href="#211-log-framework"></a> 2.11 log-framework</h2>
<p><a target="_blank" rel="noopener" href="https://github.com/natefinch/lumberjack">lumberjack</a></p>
<p><a target="_blank" rel="noopener" href="https://studygolang.com/articles/2772">Golang 获取用户 home 目录路径</a></p>
<p><a target="_blank" rel="noopener" href="https://github.com/liuyehcf/common-gtools">logback-for-go</a></p>
<h2 id="212-同步"><a class="markdownIt-Anchor" href="#212-同步"></a> 2.12 同步</h2>
<h3 id="2121-cond"><a class="markdownIt-Anchor" href="#2121-cond"></a> 2.12.1 Cond</h3>
<p>go中的Cond类似于Java中的<code>AbstractQueuedSynchronizer以及ConditionObject</code></p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">    <span class="string">&quot;sync&quot;</span></span><br><span class="line">    <span class="string">&quot;time&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">    m := sync.Mutex&#123;&#125;</span><br><span class="line">    c := sync.NewCond(&amp;m)</span><br><span class="line">    <span class="keyword">go</span> <span class="function"><span class="keyword">func</span><span class="params">()</span></span> &#123;</span><br><span class="line">        time.Sleep(<span class="number">1</span> * time.Second)</span><br><span class="line">        c.Broadcast()</span><br><span class="line">    &#125;()</span><br><span class="line">    m.Lock()</span><br><span class="line">    time.Sleep(<span class="number">2</span> * time.Second)</span><br><span class="line">    c.Wait()</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="213-faq"><a class="markdownIt-Anchor" href="#213-faq"></a> 2.13 <a target="_blank" rel="noopener" href="https://golang.org/doc/faq">FAQ</a></h2>
<ol>
<li><a target="_blank" rel="noopener" href="https://golang.org/doc/faq#new_and_make">new和make的区别</a></li>
<li><a target="_blank" rel="noopener" href="https://golang.org/doc/faq#methods_on_values_or_pointers">方法参数引用和非引用</a></li>
</ol>
<h1 id="3-包管理工具"><a class="markdownIt-Anchor" href="#3-包管理工具"></a> 3 包管理工具</h1>
<h2 id="31-go-get"><a class="markdownIt-Anchor" href="#31-go-get"></a> 3.1 go get</h2>
<ol>
<li>要求工程必须在<code>GOPATH</code>中</li>
</ol>
<h3 id="311-从gitlab上下载依赖包"><a class="markdownIt-Anchor" href="#311-从gitlab上下载依赖包"></a> 3.1.1 从gitlab上下载依赖包</h3>
<p>需要开启交互，默认是禁止的（在下载过程中需要进行auth，输入用户名和密码）</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">export</span> GIT_TERMINAL_PROMPT=1</span><br></pre></td></tr></table></figure>
<h2 id="32-go-module"><a class="markdownIt-Anchor" href="#32-go-module"></a> 3.2 go module</h2>
<h3 id="321-如何开启"><a class="markdownIt-Anchor" href="#321-如何开启"></a> 3.2.1 如何开启</h3>
<ol>
<li>go版本大于<code>1.12</code></li>
<li>满足下面两个条件中的任意一个
<ol>
<li>在<code>GOPATH/src</code>目录之外，且目录中（当前目录或父目录）存在<code>go.mod</code></li>
<li>设置环境变量<code>GO111MODULE=on</code></li>
</ol>
</li>
</ol>
<h3 id="322-如何使用"><a class="markdownIt-Anchor" href="#322-如何使用"></a> 3.2.2 如何使用</h3>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 初始化go module项目，执行完毕之后，会在当前路径下生成go.mod文件</span></span><br><span class="line">go mod init github.com/aaa/bbb</span><br><span class="line"></span><br><span class="line"><span class="comment"># 更新依赖</span></span><br><span class="line">go get github.com/aaa/bbb@master</span><br><span class="line"></span><br><span class="line"><span class="comment"># 显示依赖</span></span><br><span class="line">go list -m all</span><br><span class="line"></span><br><span class="line"><span class="comment"># 显示依赖及可升级的版本</span></span><br><span class="line">go list -u -m all</span><br><span class="line"></span><br><span class="line"><span class="comment"># 引入不存在的依赖/删除多余的依赖</span></span><br><span class="line">go mod tidy</span><br><span class="line"></span><br><span class="line"><span class="comment"># 将外部依赖包缓存到vendor/目录中</span></span><br><span class="line">go mod vendor</span><br><span class="line"></span><br><span class="line"><span class="comment"># 使用vendor/目录下的包进行编译</span></span><br><span class="line">go build -mod=vendor</span><br></pre></td></tr></table></figure>
<h3 id="323-版本管理"><a class="markdownIt-Anchor" href="#323-版本管理"></a> 3.2.3 版本管理</h3>
<p>go module支持在报名后增加<code>/v2</code>，<code>/v3</code>这样的后缀和对应的三位版本号标签（<code>git tag</code>），解决兼容性问题，<strong>包的版本号格式为：<code>v&#123;major&#125;.&#123;minor&#125;.&#123;patch&#125;</code></strong></p>
<p>go module对版本号的约定</p>
<ol>
<li><code>v0</code>、<code>v1</code>版本不存在兼容性问题</li>
<li><code>v2</code>开始，不同的<code>major</code>代表和前一个版本不兼容</li>
<li>如果一个go程序导入（直接依赖或间接依赖）同一个包的多个兼容版本，默认会使用版本号较高的那个
<ul>
<li>如果同时依赖了<code>v0.1.2</code>和<code>v1.0.1</code>，那么会使用<code>v1.0.1</code></li>
<li>如果同时依赖了<code>v2.0.1</code>和<code>v2.0.2</code>，那么会使用<code>v2.0.2</code></li>
</ul>
</li>
<li>如果一个go程序导入（直接依赖或间接依赖）同一个包的多个不兼容版本，则使用各自版本的包
<ul>
<li>如果同时依赖了<code>v1.1.0</code>和<code>v2.1.0</code>，那么会同时存在</li>
</ul>
</li>
</ol>
<h3 id="324-部分包想用本地版本"><a class="markdownIt-Anchor" href="#324-部分包想用本地版本"></a> 3.2.4 部分包想用本地版本</h3>
<p>用replace指向本地的依赖</p>
<h3 id="325-从github上下载依赖包"><a class="markdownIt-Anchor" href="#325-从github上下载依赖包"></a> 3.2.5 从github上下载依赖包</h3>
<h4 id="3251-修改proxy"><a class="markdownIt-Anchor" href="#3251-修改proxy"></a> 3.2.5.1 修改proxy</h4>
<p>在墙内下载依赖包，很有可能会timeout，可以通过配置proxy来解决这个问题</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">go env -w GOPROXY=https://goproxy.cn,direct</span><br></pre></td></tr></table></figure>
<h4 id="3252-修改sum"><a class="markdownIt-Anchor" href="#3252-修改sum"></a> 3.2.5.2 修改sum</h4>
<p>go module默认会从<code>sum.golang.org</code>对依赖包进行一个校验，但是在墙内环境，<code>sum.golang.org</code>是无法访问的，通常会报如下的一个错误</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">verifying github.com/xxx/yyy/go.mod: github.com/xxxyyy@v0.1.11/go.mod: Get https://sum.golang.org/lookup/github.com/xxx/yyy@v0.1.11: dial tcp 216.58.197.113:443: i/o timeout</span><br></pre></td></tr></table></figure>
<p>此时，我们有两种选择</p>
<ol>
<li>关闭校验：<code>go env -w GOSUMDB=off</code></li>
<li>修改校验地址：<code>go env -w GOSUMDB=&quot;sum.golang.google.cn&quot;</code></li>
</ol>
<h3 id="326-从gitlab上下载依赖包"><a class="markdownIt-Anchor" href="#326-从gitlab上下载依赖包"></a> 3.2.6 从gitlab上下载依赖包</h3>
<p>需要设置环境变量<code>GOPROXY</code>以及<code>GOPRIVATE</code></p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 不使用代理，默认会使用 proxy.golang.org</span></span><br><span class="line"><span class="built_in">export</span> GOPROXY=direct</span><br><span class="line"></span><br><span class="line"><span class="comment"># 这样配置后，就可以从gitlab中下载tom以及jerry这两个组织中的所有代码了，否则会出现 410 Gone 这样的错误信息</span></span><br><span class="line"><span class="built_in">export</span> GOPRIVATE=gitlab.com/tom/*, gitlab.com/jerry/*</span><br></pre></td></tr></table></figure>
<p><strong><a target="_blank" rel="noopener" href="https://gitlab.com/gitlab-org/gitlab-foss/issues/65681">unable to install go module (private nested repository)</a></strong></p>
<p>在设置完<code>GOPROXY</code>以及<code>GOPRIVATE</code>之后，有时会出现如下问题</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">... imports</span><br><span class="line">        gitlab.com/xxx/yyy: git ls-remote -q https://gitlab.com/xxx/yyy.git in /Users/hechenfeng/.gorepo/pkg/mod/cache/vcs/82c21665246dae55cc8f78cc6ebbe6bed9f6ccc4d86a36f71bfb28f7477c0aee: exit status 128:</span><br><span class="line">        fatal: could not read Username for &#x27;https://gitlab.com&#x27;: terminal prompts disabled</span><br><span class="line">Confirm the import path was entered correctly.</span><br><span class="line">If this is a private repository, see https://golang.org/doc/faq#git_https for additional information.</span><br></pre></td></tr></table></figure>
<p>我们可以通过设置<code>export GIT_TERMINAL_PROMPT=1</code>来开启交互模式，<strong>但是随后执行<code>go mod tidy</code>时，auth的交互是有bug的，他会让你输入两次密码（很坑）</strong>。所以我们换另一种方式来解决，执行<code>git ls-remote -q https://gitlab.com/xxx/yyy.git</code>，执行过程中会要求你输入<code>gitlab</code>的账号和密码</p>
<p>随后，我们继续执行<code>go mod tidy</code>，还是报错，但报错信息如下</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">... imports</span><br><span class="line">        gitlab.com/xxx/yyy: git ls-remote -q https://gitlab.com/xxx.git <span class="keyword">in</span> /Users/hechenfeng/.gorepo/pkg/mod/cache/vcs/abaeae1021d76630bfb57ffb11ec22f4a1f393859f7c63b7c849108ca94a2157: <span class="built_in">exit</span> status 128:</span><br><span class="line">        remote: Not Found</span><br><span class="line">        fatal: repository <span class="string">&#x27;https://gitlab.com/xxx.git/&#x27;</span> not found</span><br></pre></td></tr></table></figure>
<p>这里就有点奇怪了，我的gitlab项目地址其实是<code>gitlab.com/xxx/yyy.git</code>，但是错误信息里面确尝试下载的是<code>gitlab.com/xxx.git</code>。最后发现，我只是在代码里面引入了<code>gitlab.com/xxx/yyy</code>，但并未在<code>go.mod</code>文件的<code>require</code>中配置<code>gitlab.com/xxx/yyy</code>的依赖项，所以<code>go mod</code>误认为<code>gitlab.com/xxx</code>是仓库地址</p>
<p>所以我们现在在<code>go.mod</code>文件中，将依赖加上即可</p>
<p><strong>此外，如果我们<code>gitlab</code>的账号密码更新了，那么<code>git</code>仍然会用上一次的密码来进行鉴权，此时需要将该过期的密码从系统的秘钥中删除</strong></p>
<ul>
<li>如果是Mac的OSX系统，在钥匙串的密码一项中，找到gitlab相关的数据，删掉即可</li>
</ul>
<h3 id="327-ide-goland"><a class="markdownIt-Anchor" href="#327-ide-goland"></a> 3.2.7 IDE-GoLand</h3>
<p><strong>新建go module项目</strong></p>
<ol>
<li>在新建时，可以直接选择go module项目（<code>Go Modules (vgo)</code>）</li>
<li>创建完毕之后，会自动在项目根目录创建go.mod文件</li>
</ol>
<p><strong>将非go module项目改造成go module项目</strong></p>
<ol>
<li>在工程根目录执行<code>go mod init xxx/xxx</code>创建<code>go.mod</code>文件</li>
<li><code>Preferences</code>-&gt;<code>GO</code>-&gt;<code>Go Modules (vgo)</code>-&gt;勾上<code>Enable Go Modules (vgo) integration</code></li>
</ol>
<h2 id="33-go-dep"><a class="markdownIt-Anchor" href="#33-go-dep"></a> 3.3 go dep</h2>
<h3 id="331-安装"><a class="markdownIt-Anchor" href="#331-安装"></a> 3.3.1 安装</h3>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 在工程中执行下面的命令安装dep</span></span><br><span class="line">go get -u github.com/golang/dep/cmd/dep</span><br><span class="line"></span><br><span class="line"><span class="comment"># 查看是否安装成功</span></span><br><span class="line">dep <span class="built_in">help</span></span><br></pre></td></tr></table></figure>
<h3 id="332-使用"><a class="markdownIt-Anchor" href="#332-使用"></a> 3.3.2 使用</h3>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 初始化，会创建两个文件Gopkg.lock、Gopkg.toml，以及目录vendor</span></span><br><span class="line">dep init</span><br><span class="line"></span><br><span class="line"><span class="comment"># 添加依赖项到当前工程中</span></span><br><span class="line">dep ensure -add github.com/pkg/errors</span><br><span class="line"></span><br><span class="line"><span class="comment"># 安装依赖项到vendor目录汇总</span></span><br><span class="line">dep ensure</span><br></pre></td></tr></table></figure>
<h1 id="4-pprof"><a class="markdownIt-Anchor" href="#4-pprof"></a> 4 pprof</h1>
<h1 id="5-common-libs"><a class="markdownIt-Anchor" href="#5-common-libs"></a> 5 Common-Libs</h1>
<h2 id="51-mysql"><a class="markdownIt-Anchor" href="#51-mysql"></a> 5.1 mysql</h2>
<p><a target="_blank" rel="noopener" href="https://studygolang.com/articles/3022">使用go语言操作mysql数据库</a></p>
<h2 id="52-template"><a class="markdownIt-Anchor" href="#52-template"></a> 5.2 template</h2>
<p>[gotemplate](<a target="_blank" rel="noopener" href="https://golang.org/pkg/text/template/%EF%BC%89">https://golang.org/pkg/text/template/）</a></p>
<h1 id="6-goland"><a class="markdownIt-Anchor" href="#6-goland"></a> 6 GoLand</h1>
<h2 id="61-build-tags"><a class="markdownIt-Anchor" href="#61-build-tags"></a> 6.1 build tags</h2>
<p>例如，我在Mac上安装了GoLand，但是我想要调用linux环境下的syscall，但是在GoLand默认解析的是Mac版本的源码（<code>syscall_darwin_amd64.go</code>）</p>
<p>可以通过配置<code>build tags</code>，将OS配置成linux，配置方式：</p>
<ul>
<li><code>Preferences</code>
<ul>
<li><code>Go</code>
<ul>
<li><code>Vendoring &amp; Build Tags</code>，然后将<code>OS</code>改成<code>linux</code>即可</li>
</ul>
</li>
</ul>
</li>
</ul>
<h1 id="7-参考"><a class="markdownIt-Anchor" href="#7-参考"></a> 7 参考</h1>
<ul>
<li><a target="_blank" rel="noopener" href="https://golang.org/doc/faq">Frequently Asked Questions</a></li>
<li><a target="_blank" rel="noopener" href="https://studygolang.com/articles/7165">go中包的概念、导入与可见性</a></li>
<li><a target="_blank" rel="noopener" href="http://c.biancheng.net/golang/">Go语言入门教程，Golang入门教程（非常详细）</a></li>
<li><a target="_blank" rel="noopener" href="https://www.jianshu.com/p/d634316a9487">Go log 日志</a></li>
<li><a target="_blank" rel="noopener" href="https://juejin.im/post/5c8e503a6fb9a070d878184a">go mod</a></li>
<li><a target="_blank" rel="noopener" href="https://blog.csdn.net/zzhongcy/article/details/97243826">go mod常用命令 已经 常见问题</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/golang/go/wiki/Configuring-GoLand-for-WebAssembly">Configuring GoLand for WebAssembly</a></li>
<li><a target="_blank" rel="noopener" href="https://www.jianshu.com/p/66aaf908045e">Go语言的%d,%p,%v等占位符的使用</a></li>
<li><a target="_blank" rel="noopener" href="https://stackoverflow.com/questions/32232655/go-get-results-in-terminal-prompts-disabled-error-for-github-private-repo">go-get-results-in-terminal-prompts-disabled-error-for-github-private-repo</a></li>
<li><a target="_blank" rel="noopener" href="https://www.jianshu.com/p/5eb3a91458de">git报错remote: Repository not found的一种可能</a></li>
<li><a target="_blank" rel="noopener" href="https://stackoverflow.com/questions/36857167/how-to-correctly-use-sync-cond">How to correctly use sync.Cond?</a></li>
<li><a target="_blank" rel="noopener" href="https://blog.csdn.net/LXDOS/article/details/104749071/">go安装gin框架失败错误解决：sum.golang.org被墙</a></li>
<li><a target="_blank" rel="noopener" href="https://pkg.go.dev/net/http/pprof">pprof doc</a></li>
<li><a target="_blank" rel="noopener" href="http://team.jiunile.com/blog/2020/09/go-pprof.html">如何使用go pprof定位内存泄露</a></li>
<li><a target="_blank" rel="noopener" href="https://www.jianshu.com/p/4e4ff6be6af9">Golang 大杀器之性能剖析 PProf</a></li>
<li><a target="_blank" rel="noopener" href="https://gist.github.com/Jimmy-Xu/85fb01cd7620454c6d65">How to run go pprof on Docker daemon</a></li>
</ul>

    </div>

    
    
    

      <footer class="post-footer">
          <div class="post-tags">
              <a href="/tags/%E5%8E%9F%E5%88%9B/" rel="tag"># 原创</a>
          </div>

        


        
    <div class="post-nav">
      <div class="post-nav-item">
    <a href="/2019/01/03/Apache-Mina-Demo/" rel="prev" title="Apache-Mina-Demo">
      <i class="fa fa-chevron-left"></i> Apache-Mina-Demo
    </a></div>
      <div class="post-nav-item">
    <a href="/2019/01/16/Akka-Overview/" rel="next" title="Akka-Overview">
      Akka-Overview <i class="fa fa-chevron-right"></i>
    </a></div>
    </div>
      </footer>
    
  </article>
  
  
  



          </div>
          
      <div class="tabs tabs-comment">
        <ul class="nav-tabs">
            <li class="tab"><a href="#comment-valine">valine</a></li>
            <li class="tab"><a href="#comment-livere">livere</a></li>
        </ul>
        <div class="tab-content">
            <div class="tab-pane valine" id="comment-valine">
              <div class="comments" id="valine-comments"></div>
            </div>
            <div class="tab-pane livere" id="comment-livere">
              
  <div class="comments">
    <div id="lv-container" data-id="city" data-uid="MTAyMC8zMzY0My8xMDE5OA=="></div>
  </div>
  
            </div>
        </div>
      </div>

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#1-%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5"><span class="nav-text"> 1 基本概念</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#11-%E5%8C%85"><span class="nav-text"> 1.1 包</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#12-%E5%8F%AF%E8%A7%81%E6%80%A7%E8%A7%84%E5%88%99"><span class="nav-text"> 1.2 可见性规则</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#2-tips"><span class="nav-text"> 2 Tips</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#21-%E5%80%BC%E7%B1%BB%E5%9E%8B%E4%B8%8E%E5%BC%95%E7%94%A8%E7%B1%BB%E5%9E%8B"><span class="nav-text"> 2.1 值类型与引用类型</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#22-%E6%95%B0%E7%BB%84%E4%B8%8E%E5%88%87%E7%89%87"><span class="nav-text"> 2.2 数组与切片</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#23-%E7%B1%BB%E5%9E%8B%E8%BD%AC%E6%8D%A2"><span class="nav-text"> 2.3 类型转换</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#24-%E7%B1%BB%E5%9E%8B%E8%AF%86%E5%88%AB"><span class="nav-text"> 2.4 类型识别</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#25-%E5%AD%97%E7%AC%A6%E4%B8%B2%E6%8B%BC%E6%8E%A5"><span class="nav-text"> 2.5 字符串拼接</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#26-%E5%90%84%E7%A7%8D%E7%B1%BB%E5%9E%8B%E8%BD%AC%E4%B8%BA%E5%AD%97%E7%AC%A6%E4%B8%B2"><span class="nav-text"> 2.6 各种类型转为字符串</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#27-go%E6%96%87%E4%BB%B6%E5%91%BD%E5%90%8D%E8%A7%84%E8%8C%83"><span class="nav-text"> 2.7 go文件命名规范</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#28-%E4%BA%A4%E5%8F%89%E7%BC%96%E8%AF%91"><span class="nav-text"> 2.8 交叉编译</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#29-%E7%B1%BB%E4%BC%BCtrycatch"><span class="nav-text"> 2.9 类似try…catch</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#210-bindata-%E6%89%93%E5%8C%85%E8%B5%84%E6%BA%90%E6%96%87%E4%BB%B6"><span class="nav-text"> 2.10 bindata-打包资源文件</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#211-log-framework"><span class="nav-text"> 2.11 log-framework</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#212-%E5%90%8C%E6%AD%A5"><span class="nav-text"> 2.12 同步</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#2121-cond"><span class="nav-text"> 2.12.1 Cond</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#213-faq"><span class="nav-text"> 2.13 FAQ</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#3-%E5%8C%85%E7%AE%A1%E7%90%86%E5%B7%A5%E5%85%B7"><span class="nav-text"> 3 包管理工具</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#31-go-get"><span class="nav-text"> 3.1 go get</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#311-%E4%BB%8Egitlab%E4%B8%8A%E4%B8%8B%E8%BD%BD%E4%BE%9D%E8%B5%96%E5%8C%85"><span class="nav-text"> 3.1.1 从gitlab上下载依赖包</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#32-go-module"><span class="nav-text"> 3.2 go module</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#321-%E5%A6%82%E4%BD%95%E5%BC%80%E5%90%AF"><span class="nav-text"> 3.2.1 如何开启</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#322-%E5%A6%82%E4%BD%95%E4%BD%BF%E7%94%A8"><span class="nav-text"> 3.2.2 如何使用</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#323-%E7%89%88%E6%9C%AC%E7%AE%A1%E7%90%86"><span class="nav-text"> 3.2.3 版本管理</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#324-%E9%83%A8%E5%88%86%E5%8C%85%E6%83%B3%E7%94%A8%E6%9C%AC%E5%9C%B0%E7%89%88%E6%9C%AC"><span class="nav-text"> 3.2.4 部分包想用本地版本</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#325-%E4%BB%8Egithub%E4%B8%8A%E4%B8%8B%E8%BD%BD%E4%BE%9D%E8%B5%96%E5%8C%85"><span class="nav-text"> 3.2.5 从github上下载依赖包</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#3251-%E4%BF%AE%E6%94%B9proxy"><span class="nav-text"> 3.2.5.1 修改proxy</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#3252-%E4%BF%AE%E6%94%B9sum"><span class="nav-text"> 3.2.5.2 修改sum</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#326-%E4%BB%8Egitlab%E4%B8%8A%E4%B8%8B%E8%BD%BD%E4%BE%9D%E8%B5%96%E5%8C%85"><span class="nav-text"> 3.2.6 从gitlab上下载依赖包</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#327-ide-goland"><span class="nav-text"> 3.2.7 IDE-GoLand</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#33-go-dep"><span class="nav-text"> 3.3 go dep</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#331-%E5%AE%89%E8%A3%85"><span class="nav-text"> 3.3.1 安装</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#332-%E4%BD%BF%E7%94%A8"><span class="nav-text"> 3.3.2 使用</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#4-pprof"><span class="nav-text"> 4 pprof</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#5-common-libs"><span class="nav-text"> 5 Common-Libs</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#51-mysql"><span class="nav-text"> 5.1 mysql</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#52-template"><span class="nav-text"> 5.2 template</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#6-goland"><span class="nav-text"> 6 GoLand</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#61-build-tags"><span class="nav-text"> 6.1 build tags</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#7-%E5%8F%82%E8%80%83"><span class="nav-text"> 7 参考</span></a></li></ol></div>
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="Liuyehcf"
      src="/images/avatar.jpg">
  <p class="site-author-name" itemprop="name">Liuyehcf</p>
  <div class="site-description" itemprop="description">大音希声，大象无形</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">281</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">102</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">2</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 2017 – 
  <span itemprop="copyrightYear">2022</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Liuyehcf</span>
</div>
  <div class="powered-by">由 <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://muse.theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Muse</a> 强力驱动
  </div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/muse.js"></script>


<script src="/js/next-boot.js"></script>




  




  
<script src="/js/local-search.js"></script>











<script>
if (document.querySelectorAll('pre.mermaid').length) {
  NexT.utils.getScript('//cdn.jsdelivr.net/npm/mermaid@8/dist/mermaid.min.js', () => {
    mermaid.initialize({
      theme    : 'forest',
      logLevel : 3,
      flowchart: { curve     : 'linear' },
      gantt    : { axisFormat: '%m/%d/%Y' },
      sequence : { actorMargin: 50 }
    });
  }, window.mermaid);
}
</script>


  

  

  


<script>
NexT.utils.loadComments(document.querySelector('#valine-comments'), () => {
  NexT.utils.getScript('//unpkg.com/valine/dist/Valine.min.js', () => {
    var GUEST = ['nick', 'mail', 'link'];
    var guest = 'nick,mail,link';
    guest = guest.split(',').filter(item => {
      return GUEST.includes(item);
    });
    new Valine({
      el         : '#valine-comments',
      verify     : false,
      notify     : false,
      appId      : 'qhEhLuMeMOy1zgcBhkqUS6P8-gzGzoHsz',
      appKey     : 'uhkruDLNLNdL5rQjRBY2X9Ke',
      placeholder: "Just go go",
      avatar     : 'mm',
      meta       : guest,
      pageSize   : '10' || 10,
      visitor    : true,
      lang       : '' || 'zh-cn',
      path       : location.pathname,
      recordIP   : false,
      serverURLs : ''
    });
  }, window.Valine);
});
</script>

<script>
NexT.utils.loadComments(document.querySelector('#lv-container'), () => {
  window.livereOptions = {
    refer: location.pathname.replace(CONFIG.root, '').replace('index.html', '')
  };
  (function(d, s) {
    var j, e = d.getElementsByTagName(s)[0];
    if (typeof LivereTower === 'function') { return; }
    j = d.createElement(s);
    j.src = 'https://cdn-city.livere.com/js/embed.dist.js';
    j.async = true;
    e.parentNode.insertBefore(j, e);
  })(document, 'script');
});
</script>

</body>
</html>
