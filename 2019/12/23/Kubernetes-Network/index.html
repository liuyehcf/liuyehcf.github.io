<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 7.1.1">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"example.com","root":"/","scheme":"Muse","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":true,"show_result":false,"style":"mac"},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},"path":"search.xml"};
  </script>

  <meta name="description" content="阅读更多">
<meta property="og:type" content="article">
<meta property="og:title" content="Kubernetes-Network">
<meta property="og:url" content="http://example.com/2019/12/23/Kubernetes-Network/index.html">
<meta property="og:site_name" content="Liuye Notebook">
<meta property="og:description" content="阅读更多">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="http://example.com/images/Kubernetes-Network/overall.png">
<meta property="og:image" content="http://example.com/images/Kubernetes-Concept/proxy-mode-userspace.svg">
<meta property="og:image" content="http://example.com/images/Kubernetes-Concept/proxy-mode-iptables.svg">
<meta property="og:image" content="http://example.com/images/Kubernetes-Concept/proxy-mode-ipvs.svg">
<meta property="og:image" content="http://example.com/images/Kubernetes-Network/iptables-chains.svg">
<meta property="article:published_time" content="2019-12-23T06:43:11.000Z">
<meta property="article:modified_time" content="2024-03-18T13:37:51.000Z">
<meta property="article:author" content="Liuyehcf">
<meta property="article:tag" content="原创">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://example.com/images/Kubernetes-Network/overall.png">

<link rel="canonical" href="http://example.com/2019/12/23/Kubernetes-Network/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : false,
    isPost : true,
    lang   : 'zh-CN'
  };
</script>

  <title>Kubernetes-Network | Liuye Notebook</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">Liuye Notebook</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a>

  </li>
        <li class="menu-item menu-item-about">

    <a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>关于</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>标签</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>分类</a>

  </li>
        <li class="menu-item menu-item-explore">

    <a href="/explore/" rel="section"><i class="fa fa-sitemap fa-fw"></i>发现</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档</a>

  </li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>搜索
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup">
        <div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off"
           placeholder="搜索..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div id="search-result">
  <div id="no-result">
    <i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>
  </div>
</div>

    </div>
  </div>

</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content post posts-expand">
            

    
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2019/12/23/Kubernetes-Network/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpg">
      <meta itemprop="name" content="Liuyehcf">
      <meta itemprop="description" content="大音希声，大象无形">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Liuye Notebook">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          Kubernetes-Network
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2019-12-23 14:43:11" itemprop="dateCreated datePublished" datetime="2019-12-23T14:43:11+08:00">2019-12-23</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2024-03-18 21:37:51" itemprop="dateModified" datetime="2024-03-18T21:37:51+08:00">2024-03-18</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Kubernetes/" itemprop="url" rel="index"><span itemprop="name">Kubernetes</span></a>
                </span>
            </span>

          
            <span id="/2019/12/23/Kubernetes-Network/" class="post-meta-item leancloud_visitors" data-flag-title="Kubernetes-Network" title="阅读次数">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">阅读次数：</span>
              <span class="leancloud-visitors-count"></span>
            </span>
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Valine：</span>
    
    <a title="valine" href="/2019/12/23/Kubernetes-Network/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/2019/12/23/Kubernetes-Network/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <p><strong>阅读更多</strong></p>
<span id="more"></span>
<h1 id="1-综述"><a class="markdownIt-Anchor" href="#1-综述"></a> 1 综述</h1>
<p><img src="/images/Kubernetes-Network/overall.png" alt="overall" /></p>
<p><strong>pod的网络类型可以是容器网络也可以是主机网络，这里仅讨论容器网络这一类型的pod</strong></p>
<ul>
<li><strong>同主机pod互访</strong>：<code>A-&gt;B</code></li>
<li><strong>pod访问外网</strong>：<code>A-&gt;C-&gt;E</code></li>
<li><strong>跨主机pod互访</strong>：<code>A-&gt;D-&gt;F-&gt;J-&gt;H</code></li>
</ul>
<h1 id="2-kube-proxy"><a class="markdownIt-Anchor" href="#2-kube-proxy"></a> 2 kube-proxy</h1>
<h2 id="21-工作模式"><a class="markdownIt-Anchor" href="#21-工作模式"></a> 2.1 工作模式</h2>
<h3 id="211-proxy-mode-userspace"><a class="markdownIt-Anchor" href="#211-proxy-mode-userspace"></a> 2.1.1 Proxy-mode: userspace</h3>
<ol>
<li><strong>该模式最主要的特征是：流量重定向工作是由<code>kube-proxy</code>完成的，也就是在用户空间完成的</strong></li>
<li><code>kube-proxy</code>会监听<code>Service</code>的创建和删除，当发现新的<code>Service</code>创建出来后，<code>kube-proxy</code>会在<code>localhost</code>网络开启一个随机端口（记为<code>loPort</code>）进行监听，同时向<code>iptable</code>写入路由规则（<code>Cluster IP:Port</code>-&gt;<code>localhost:loPort</code>），即将流向<code>Service</code>的流量转发到本地监听的端口上来</li>
<li><code>kube-proxy</code>会监听<code>Endpoint</code>的变更，并将<code>Service</code>及其对应的<code>Pod</code>列表保存起来</li>
</ol>
<p><img src="/images/Kubernetes-Concept/proxy-mode-userspace.svg" alt="proxy-mode-userspace" /></p>
<p>在<code>Pod</code>中访问<code>Service</code>的时序图如下</p>
<img src='data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXMtYXNjaWkiIHN0YW5kYWxvbmU9Im5vIj8+PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBjb250ZW50U3R5bGVUeXBlPSJ0ZXh0L2NzcyIgaGVpZ2h0PSIzMjhweCIgcHJlc2VydmVBc3BlY3RSYXRpbz0ibm9uZSIgc3R5bGU9IndpZHRoOjEwMDZweDtoZWlnaHQ6MzI4cHg7YmFja2dyb3VuZDojRUVFQkRDOyIgdmVyc2lvbj0iMS4xIiB2aWV3Qm94PSIwIDAgMTAwNiAzMjgiIHdpZHRoPSIxMDA2cHgiIHpvb21BbmRQYW49Im1hZ25pZnkiPjxkZWZzLz48Zz48cmVjdCBmaWxsPSIjRUVFQkRDIiBoZWlnaHQ9IjMyOCIgc3R5bGU9InN0cm9rZTpub25lO3N0cm9rZS13aWR0aDoxLjA7IiB3aWR0aD0iMTAwNiIgeD0iMCIgeT0iMCIvPjxwYXRoIGQ9Ik0yNywzOS43ODkxIEwyNy4yODAyLDM5Ljc4OTEgTDI2LjQ0NzYsNDkuNzg2MyBMMjcuMjU3Nyw1OS43ODM0IEwyNy41MzI5LDY5Ljc4MDYgTDI2LjA0ODgsNzkuNzc3OCBMMjYuODk2NCw4OS43NzUgTDI2LjQzMTMsOTkuNzcyMiBMMjYuNDg4NywxMDkuNzY5NCBMMjYuOTA5MSwxMTkuNzY2NiBMMjYuMDc4MiwxMjkuNzYzOCBMMjcuNzM4MiwxMzkuNzYwOSBMMjYuMTU5NiwxNDkuNzU4MSBMMjYuNzM2MywxNTkuNzU1MyBMMjcuNTc1OSwxNjkuNzUyNSBMMjYuODg1NiwxNzkuNzQ5NyBMMjcuMDkxLDE4OS43NDY5IEwyNi45NTc0LDE5OS43NDQxIEwyNy4yMzgsMjA5Ljc0MTMgTDI3LjMxODgsMjE5LjczODQgTDI3Ljc4MDksMjI5LjczNTYgTDI3Ljg5NDcsMjM5LjczMjggTDI3LjkwNTcsMjQ5LjczIEwyNy4zMzk1LDI1OS43MjcyIEwyNy42MTgxLDI2OS43MjQ0IEwyNy45MzYzLDI3OS43MjE2IEwyNywyODkuNzE4OCAiIGZpbGw9Im5vbmUiIHN0eWxlPSJzdHJva2U6IzAwMDBGRjtzdHJva2Utd2lkdGg6MC41O3N0cm9rZS1kYXNoYXJyYXk6NS4wLDUuMDsiLz48cGF0aCBkPSJNMjYwLDM5Ljc4OTEgTDI2MC4yODAyLDM5Ljc4OTEgTDI1OS40NDc2LDQ5Ljc4NjMgTDI2MC4yNTc3LDU5Ljc4MzQgTDI2MC41MzI5LDY5Ljc4MDYgTDI1OS4wNDg4LDc5Ljc3NzggTDI1OS44OTY0LDg5Ljc3NSBMMjU5LjQzMTMsOTkuNzcyMiBMMjU5LjQ4ODcsMTA5Ljc2OTQgTDI1OS45MDkxLDExOS43NjY2IEwyNTkuMDc4MiwxMjkuNzYzOCBMMjYwLjczODIsMTM5Ljc2MDkgTDI1OS4xNTk2LDE0OS43NTgxIEwyNTkuNzM2MywxNTkuNzU1MyBMMjYwLjU3NTksMTY5Ljc1MjUgTDI1OS44ODU2LDE3OS43NDk3IEwyNjAuMDkxLDE4OS43NDY5IEwyNTkuOTU3NCwxOTkuNzQ0MSBMMjYwLjIzOCwyMDkuNzQxMyBMMjYwLjMxODgsMjE5LjczODQgTDI2MC43ODA5LDIyOS43MzU2IEwyNjAuODk0NywyMzkuNzMyOCBMMjYwLjkwNTcsMjQ5LjczIEwyNjAuMzM5NSwyNTkuNzI3MiBMMjYwLjYxODEsMjY5LjcyNDQgTDI2MC45MzYzLDI3OS43MjE2IEwyNjAsMjg5LjcxODggIiBmaWxsPSJub25lIiBzdHlsZT0ic3Ryb2tlOiMwMDAwRkY7c3Ryb2tlLXdpZHRoOjAuNTtzdHJva2UtZGFzaGFycmF5OjUuMCw1LjA7Ii8+PHBhdGggZD0iTTM1MiwzOS43ODkxIEwzNTIuMjgwMiwzOS43ODkxIEwzNTEuNDQ3Niw0OS43ODYzIEwzNTIuMjU3Nyw1OS43ODM0IEwzNTIuNTMyOSw2OS43ODA2IEwzNTEuMDQ4OCw3OS43Nzc4IEwzNTEuODk2NCw4OS43NzUgTDM1MS40MzEzLDk5Ljc3MjIgTDM1MS40ODg3LDEwOS43Njk0IEwzNTEuOTA5MSwxMTkuNzY2NiBMMzUxLjA3ODIsMTI5Ljc2MzggTDM1Mi43MzgyLDEzOS43NjA5IEwzNTEuMTU5NiwxNDkuNzU4MSBMMzUxLjczNjMsMTU5Ljc1NTMgTDM1Mi41NzU5LDE2OS43NTI1IEwzNTEuODg1NiwxNzkuNzQ5NyBMMzUyLjA5MSwxODkuNzQ2OSBMMzUxLjk1NzQsMTk5Ljc0NDEgTDM1Mi4yMzgsMjA5Ljc0MTMgTDM1Mi4zMTg4LDIxOS43Mzg0IEwzNTIuNzgwOSwyMjkuNzM1NiBMMzUyLjg5NDcsMjM5LjczMjggTDM1Mi45MDU3LDI0OS43MyBMMzUyLjMzOTUsMjU5LjcyNzIgTDM1Mi42MTgxLDI2OS43MjQ0IEwzNTIuOTM2MywyNzkuNzIxNiBMMzUyLDI4OS43MTg4ICIgZmlsbD0ibm9uZSIgc3R5bGU9InN0cm9rZTojMDAwMEZGO3N0cm9rZS13aWR0aDowLjU7c3Ryb2tlLWRhc2hhcnJheTo1LjAsNS4wOyIvPjxwYXRoIGQ9Ik01MDYsMzkuNzg5MSBMNTA2LjI4MDIsMzkuNzg5MSBMNTA1LjQ0NzYsNDkuNzg2MyBMNTA2LjI1NzcsNTkuNzgzNCBMNTA2LjUzMjksNjkuNzgwNiBMNTA1LjA0ODgsNzkuNzc3OCBMNTA1Ljg5NjQsODkuNzc1IEw1MDUuNDMxMyw5OS43NzIyIEw1MDUuNDg4NywxMDkuNzY5NCBMNTA1LjkwOTEsMTE5Ljc2NjYgTDUwNS4wNzgyLDEyOS43NjM4IEw1MDYuNzM4MiwxMzkuNzYwOSBMNTA1LjE1OTYsMTQ5Ljc1ODEgTDUwNS43MzYzLDE1OS43NTUzIEw1MDYuNTc1OSwxNjkuNzUyNSBMNTA1Ljg4NTYsMTc5Ljc0OTcgTDUwNi4wOTEsMTg5Ljc0NjkgTDUwNS45NTc0LDE5OS43NDQxIEw1MDYuMjM4LDIwOS43NDEzIEw1MDYuMzE4OCwyMTkuNzM4NCBMNTA2Ljc4MDksMjI5LjczNTYgTDUwNi44OTQ3LDIzOS43MzI4IEw1MDYuOTA1NywyNDkuNzMgTDUwNi4zMzk1LDI1OS43MjcyIEw1MDYuNjE4MSwyNjkuNzI0NCBMNTA2LjkzNjMsMjc5LjcyMTYgTDUwNiwyODkuNzE4OCAiIGZpbGw9Im5vbmUiIHN0eWxlPSJzdHJva2U6IzAwMDBGRjtzdHJva2Utd2lkdGg6MC41O3N0cm9rZS1kYXNoYXJyYXk6NS4wLDUuMDsiLz48cGF0aCBkPSJNOTU2LjUsMzkuNzg5MSBMOTU2Ljc4MDIsMzkuNzg5MSBMOTU1Ljk0NzYsNDkuNzg2MyBMOTU2Ljc1NzcsNTkuNzgzNCBMOTU3LjAzMjksNjkuNzgwNiBMOTU1LjU0ODgsNzkuNzc3OCBMOTU2LjM5NjQsODkuNzc1IEw5NTUuOTMxMyw5OS43NzIyIEw5NTUuOTg4NywxMDkuNzY5NCBMOTU2LjQwOTEsMTE5Ljc2NjYgTDk1NS41NzgyLDEyOS43NjM4IEw5NTcuMjM4MiwxMzkuNzYwOSBMOTU1LjY1OTYsMTQ5Ljc1ODEgTDk1Ni4yMzYzLDE1OS43NTUzIEw5NTcuMDc1OSwxNjkuNzUyNSBMOTU2LjM4NTYsMTc5Ljc0OTcgTDk1Ni41OTEsMTg5Ljc0NjkgTDk1Ni40NTc0LDE5OS43NDQxIEw5NTYuNzM4LDIwOS43NDEzIEw5NTYuODE4OCwyMTkuNzM4NCBMOTU3LjI4MDksMjI5LjczNTYgTDk1Ny4zOTQ3LDIzOS43MzI4IEw5NTcuNDA1NywyNDkuNzMgTDk1Ni44Mzk1LDI1OS43MjcyIEw5NTcuMTE4MSwyNjkuNzI0NCBMOTU3LjQzNjMsMjc5LjcyMTYgTDk1Ni41LDI4OS43MTg4ICIgZmlsbD0ibm9uZSIgc3R5bGU9InN0cm9rZTojMDAwMEZGO3N0cm9rZS13aWR0aDowLjU7c3Ryb2tlLWRhc2hhcnJheTo1LjAsNS4wOyIvPjxwb2x5Z29uIGZpbGw9IiMxRTkwRkYiIHBvaW50cz0iNy41LDUsNy41LDUuMDcwMSwxNS4zLDQuODYxOSwyMy4xLDUuMDY0NCwzMC45LDUuMTMzMiwzOC43LDQuNzYyMiw0Ni41LDUsNDYuNDkwMSw0Ljk3NjEsNDYuNzk5MSw1LjAxNTEsNDcuMTU4Miw1LjE3NDgsNDcuNTUyLDUuNDE4NCw0Ny44MjYsNS4zNzI5LDQ4LjI2NzgsNS43MzIyLDQ4LjQzODMsNS44MDI5LDQ4LjIyMDEsNi4wMDU0LDQ4LjQ5OTgsNi40MTQxLDQ4Ljg0MDEsNi44NDgsNDguODI3MSw3LjEzNTUsNDksNy41LDQ5LjAyMjcsNy41LDQ4Ljk4OTQsMTMuMjU3OCw0OS4wNTk1LDE5LjAxNTYsNDkuMDc5NywyNC43NzM0LDQ5LjE5NTIsMzAuNTMxMyw0OSwzNi4yODkxLDQ5LjIwNjcsMzYuMzc0Nyw0OS4wNjI3LDM2LjcyOTMsNDguNzg1NSwzNy4wMjg2LDQ4LjcwMzQsMzcuNDA4OSw0OC42MzA1LDM3Ljc5MjksNDguMjY3OCwzOC4wNTY4LDQ4LjE3NTgsMzcuODM0Nyw0OC4wMDA4LDM4LjQxMjIsNDcuNTIyOCwzOC4yNTg0LDQ3LjI3NTIsMzguNjYwNiw0Ni43OTA0LDM4LjQ5MDIsNDYuNSwzOC43ODkxLDQ2LjUsMzguNzY2MiwzOC43LDM5LjAzNjMsMzAuOSwzOC43NzI4LDIzLjEsMzguODI0MiwxNS4zLDM4LjkwMTksNy41LDM4Ljc4OTEsNy41NTMxLDM4LjkxNzIsNy4xNDU5LDM4LjY0MTQsNi44Mjk1LDM4LjU4NDYsNi4zNjYzLDM4LjE3MzQsNi4xMjIxLDM4LjI5MDksNS43MzIyLDM4LjA1NjgsNS45MDExLDM4LjEyNjgsNS43MjI3LDM3Ljc2LDUuNjI4MSwzNy40Mjc5LDUuMTQ0MSwzNi45MzQ1LDQuOTQ1NiwzNi41NTk0LDUsMzYuMjg5MSw0Ljc5MjksMzYuMjg5MSw0Ljk4MDQsMzAuNTMxMyw0LjkzNDUsMjQuNzczNCw1LjIyNzEsMTkuMDE1Niw0Ljk0MTgsMTMuMjU3OCw1LDcuNSw0Ljg5NDQsNy40NTYyLDUuMjE2Nyw3LjE3NTYsNS4wODc1LDYuNzA3OCw1LjI3OTUsNi4zNzMxLDUuNzg1Niw2LjE2ODYsNS43MzIyLDUuNzMyMiw1Ljc4NzgsNS44NjY0LDYuMTc5NSw1LjgxMiw2LjM5ODMsNS4zNDAyLDYuODMzNiw1LjM5MTIsNy4yMjE4LDUuMzI4Myw3LjUsNSIgc3R5bGU9InN0cm9rZTojMDBCRkZGO3N0cm9rZS13aWR0aDowLjU7Ii8+PHRleHQgZmlsbD0iI0E5RENERiIgZm9udC1mYW1pbHk9IkltcGFjdCIgZm9udC1zaXplPSIxNyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIzMCIgeD0iMTIiIHk9IjI3Ljc3OTgiPlBvZDwvdGV4dD48cG9seWdvbiBmaWxsPSIjMUU5MEZGIiBwb2ludHM9IjcuNSwyODguNzE4OCw3LjUsMjg4Ljc4ODgsMTUuMywyODguNTgwNiwyMy4xLDI4OC43ODMyLDMwLjksMjg4Ljg1MiwzOC43LDI4OC40ODEsNDYuNSwyODguNzE4OCw0Ni40OTAxLDI4OC42OTQ4LDQ2Ljc5OTEsMjg4LjczMzksNDcuMTU4MiwyODguODkzNSw0Ny41NTIsMjg5LjEzNzEsNDcuODI2LDI4OS4wOTE2LDQ4LjI2NzgsMjg5LjQ1MSw0OC40MzgzLDI4OS41MjE2LDQ4LjIyMDEsMjg5LjcyNDEsNDguNDk5OCwyOTAuMTMyOSw0OC44NDAxLDI5MC41NjY3LDQ4LjgyNzEsMjkwLjg1NDMsNDksMjkxLjIxODgsNDkuMDIyNywyOTEuMjE4OCw0OC45ODk0LDI5Ni45NzY2LDQ5LjA1OTUsMzAyLjczNDQsNDkuMDc5NywzMDguNDkyMiw0OS4xOTUyLDMxNC4yNSw0OSwzMjAuMDA3OCw0OS4yMDY3LDMyMC4wOTM0LDQ5LjA2MjcsMzIwLjQ0OCw0OC43ODU1LDMyMC43NDc0LDQ4LjcwMzQsMzIxLjEyNzYsNDguNjMwNSwzMjEuNTExNiw0OC4yNjc4LDMyMS43NzU2LDQ4LjE3NTgsMzIxLjU1MzUsNDguMDAwOCwzMjIuMTMxLDQ3LjUyMjgsMzIxLjk3NzIsNDcuMjc1MiwzMjIuMzc5Myw0Ni43OTA0LDMyMi4yMDg5LDQ2LjUsMzIyLjUwNzgsNDYuNSwzMjIuNDg1LDM4LjcsMzIyLjc1NSwzMC45LDMyMi40OTE2LDIzLjEsMzIyLjU0MjksMTUuMywzMjIuNjIwNyw3LjUsMzIyLjUwNzgsNy41NTMxLDMyMi42MzYsNy4xNDU5LDMyMi4zNjAyLDYuODI5NSwzMjIuMzAzNCw2LjM2NjMsMzIxLjg5MjIsNi4xMjIxLDMyMi4wMDk2LDUuNzMyMiwzMjEuNzc1Niw1LjkwMTEsMzIxLjg0NTUsNS43MjI3LDMyMS40Nzg3LDUuNjI4MSwzMjEuMTQ2Nyw1LjE0NDEsMzIwLjY1MzMsNC45NDU2LDMyMC4yNzgyLDUsMzIwLjAwNzgsNC43OTI5LDMyMC4wMDc4LDQuOTgwNCwzMTQuMjUsNC45MzQ1LDMwOC40OTIyLDUuMjI3MSwzMDIuNzM0NCw0Ljk0MTgsMjk2Ljk3NjYsNSwyOTEuMjE4OCw0Ljg5NDQsMjkxLjE3NSw1LjIxNjcsMjkwLjg5NDMsNS4wODc1LDI5MC40MjY2LDUuMjc5NSwyOTAuMDkxOSw1Ljc4NTYsMjg5Ljg4NzMsNS43MzIyLDI4OS40NTEsNS43ODc4LDI4OS41ODUyLDYuMTc5NSwyODkuNTMwNyw2LjM5ODMsMjg5LjA1OSw2LjgzMzYsMjg5LjEwOTksNy4yMjE4LDI4OS4wNDcsNy41LDI4OC43MTg4IiBzdHlsZT0ic3Ryb2tlOiMwMEJGRkY7c3Ryb2tlLXdpZHRoOjAuNTsiLz48dGV4dCBmaWxsPSIjQTlEQ0RGIiBmb250LWZhbWlseT0iSW1wYWN0IiBmb250LXNpemU9IjE3IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjMwIiB4PSIxMiIgeT0iMzExLjQ5ODUiPlBvZDwvdGV4dD48cG9seWdvbiBmaWxsPSIjMUU5MEZGIiBwb2ludHM9IjIxOS41LDUsMjE5LjUsNS4yMTAyLDIyOS42MjUsNC41ODU3LDIzOS43NSw1LjE5MzMsMjQ5Ljg3NSw1LjM5OTcsMjYwLDQuMjg2NiwyNzAuMTI1LDQuOTIyMywyODAuMjUsNC41NzM1LDI5MC4zNzUsNC42MTY1LDMwMC41LDUsMzAwLjQ5MTMsNC45NzksMzAwLjc2NTQsNC45MzM1LDMwMS4yNzc3LDUuNDYzNCwzMDEuNDgwMyw1LjI0NTIsMzAxLjg4OSw1LjUyNDksMzAyLjI2NzgsNS43MzIyLDMwMi40MDA4LDUuNzg3MywzMDIuMzg3OCw2LjA3NDgsMzAyLjU4MTcsNi40NDgsMzAyLjY5NzMsNi43ODg4LDMwMi45MDg1LDcuMTY5MiwzMDMsNy41LDMwMy4wNzk3LDcuNSwzMDMuMTk1MiwxMy4yNTc4LDMwMy4yMjM3LDE5LjAxNTYsMzAzLjIyNjQsMjQuNzczNCwzMDMuMDg0OSwzMC41MzEzLDMwMywzNi4yODkxLDMwMy4xNDI4LDM2LjM0ODIsMzAzLjA2OTgsMzYuNzMyMiwzMDIuNDg1LDM2LjkwNDIsMzAyLjc2OTYsMzcuNDM2MywzMDIuMzIyOSwzNy42NjU1LDMwMi4yNjc4LDM4LjA1NjgsMzAyLjMzNTksMzguMjIxMiwzMDEuODUxMSwzOC4wNTA4LDMwMS41NTE5LDM4LjMyODYsMzAxLjMwMTcsMzguNzI0NiwzMDAuODQ3MywzOC42Mjc2LDMwMC41LDM4Ljc4OTEsMzAwLjUsMzguODk0NCwyOTAuMzc1LDM5LjEyNzcsMjgwLjI1LDM5LjIwNTMsMjcwLjEyNSwzOC43ODUyLDI2MCwzOS4wNzYzLDI0OS44NzUsMzguMjE2NiwyMzkuNzUsMzkuMDczNCwyMjkuNjI1LDM5LjMzNzMsMjE5LjUsMzguNzg5MSwyMTkuNTU2NywzOC45MjYsMjE5LjIyNDYsMzguODMxNCwyMTguNzMxMywzOC4zNDc0LDIxOC4zNTYxLDM4LjE0ODksMjE4LjAwNjUsMzguMDExOSwyMTcuNzMyMiwzOC4wNTY4LDIxNy43MTQxLDM4LjA0OTMsMjE3LjUyNTMsMzcuNjc4MiwyMTcuNjQ5MiwzNy40MzY2LDIxNy4yMzkxLDM2Ljk3MzksMjE3LjA0MDgsMzYuNTk4OSwyMTcsMzYuMjg5MSwyMTcuMDc2MSwzNi4yODkxLDIxNi43Nzc3LDMwLjUzMTMsMjE2LjgyNywyNC43NzM0LDIxNy4yMTYzLDE5LjAxNTYsMjE3LjE0NTIsMTMuMjU3OCwyMTcsNy41LDIxNy4yMjYyLDcuNTkzNywyMTcuMDQ3Myw3LjEwNTQsMjE3LjM5MTIsNi44MzM2LDIxNy42MjEyLDYuNTE0NywyMTcuNDQwMyw2LjAyNTUsMjE3LjczMjIsNS43MzIyLDIxNy43Miw1LjcwMjcsMjE4LjEwMTksNS42MjQ2LDIxOC41MjI1LDUuNjQwMSwyMTguNzkyNCw1LjI5MTYsMjE5LjIwNTUsNS4yODg5LDIxOS41LDUiIHN0eWxlPSJzdHJva2U6IzAwQkZGRjtzdHJva2Utd2lkdGg6MC41OyIvPjx0ZXh0IGZpbGw9IiNBOURDREYiIGZvbnQtZmFtaWx5PSJJbXBhY3QiIGZvbnQtc2l6ZT0iMTciIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNzIiIHg9IjIyNCIgeT0iMjcuNzc5OCI+Y29yZUROUzwvdGV4dD48cG9seWdvbiBmaWxsPSIjMUU5MEZGIiBwb2ludHM9IjIxOS41LDI4OC43MTg4LDIxOS41LDI4OC45Mjg5LDIyOS42MjUsMjg4LjMwNDQsMjM5Ljc1LDI4OC45MTIsMjQ5Ljg3NSwyODkuMTE4NCwyNjAsMjg4LjAwNTQsMjcwLjEyNSwyODguNjQxLDI4MC4yNSwyODguMjkyMywyOTAuMzc1LDI4OC4zMzUzLDMwMC41LDI4OC43MTg4LDMwMC40OTEzLDI4OC42OTc4LDMwMC43NjU0LDI4OC42NTIzLDMwMS4yNzc3LDI4OS4xODIxLDMwMS40ODAzLDI4OC45NjQsMzAxLjg4OSwyODkuMjQzNiwzMDIuMjY3OCwyODkuNDUxLDMwMi40MDA4LDI4OS41MDYxLDMwMi4zODc4LDI4OS43OTM2LDMwMi41ODE3LDI5MC4xNjY4LDMwMi42OTczLDI5MC41MDc2LDMwMi45MDg1LDI5MC44ODgsMzAzLDI5MS4yMTg4LDMwMy4wNzk3LDI5MS4yMTg4LDMwMy4xOTUyLDI5Ni45NzY2LDMwMy4yMjM3LDMwMi43MzQ0LDMwMy4yMjY0LDMwOC40OTIyLDMwMy4wODQ5LDMxNC4yNSwzMDMsMzIwLjAwNzgsMzAzLjE0MjgsMzIwLjA2NjksMzAzLjA2OTgsMzIwLjQ1MDksMzAyLjQ4NSwzMjAuNjIyOSwzMDIuNzY5NiwzMjEuMTU1LDMwMi4zMjI5LDMyMS4zODQyLDMwMi4yNjc4LDMyMS43NzU2LDMwMi4zMzU5LDMyMS45NCwzMDEuODUxMSwzMjEuNzY5NiwzMDEuNTUxOSwzMjIuMDQ3NCwzMDEuMzAxNywzMjIuNDQzMywzMDAuODQ3MywzMjIuMzQ2NCwzMDAuNSwzMjIuNTA3OCwzMDAuNSwzMjIuNjEzMSwyOTAuMzc1LDMyMi44NDY0LDI4MC4yNSwzMjIuOTI0LDI3MC4xMjUsMzIyLjUwMzksMjYwLDMyMi43OTUsMjQ5Ljg3NSwzMjEuOTM1NCwyMzkuNzUsMzIyLjc5MjIsMjI5LjYyNSwzMjMuMDU2LDIxOS41LDMyMi41MDc4LDIxOS41NTY3LDMyMi42NDQ3LDIxOS4yMjQ2LDMyMi41NTAyLDIxOC43MzEzLDMyMi4wNjYyLDIxOC4zNTYxLDMyMS44Njc2LDIxOC4wMDY1LDMyMS43MzA3LDIxNy43MzIyLDMyMS43NzU2LDIxNy43MTQxLDMyMS43NjgxLDIxNy41MjUzLDMyMS4zOTcsMjE3LjY0OTIsMzIxLjE1NTQsMjE3LjIzOTEsMzIwLjY5MjYsMjE3LjA0MDgsMzIwLjMxNzYsMjE3LDMyMC4wMDc4LDIxNy4wNzYxLDMyMC4wMDc4LDIxNi43Nzc3LDMxNC4yNSwyMTYuODI3LDMwOC40OTIyLDIxNy4yMTYzLDMwMi43MzQ0LDIxNy4xNDUyLDI5Ni45NzY2LDIxNywyOTEuMjE4OCwyMTcuMjI2MiwyOTEuMzEyNCwyMTcuMDQ3MywyOTAuODI0MSwyMTcuMzkxMiwyOTAuNTUyNCwyMTcuNjIxMiwyOTAuMjMzNCwyMTcuNDQwMywyODkuNzQ0MywyMTcuNzMyMiwyODkuNDUxLDIxNy43MiwyODkuNDIxNSwyMTguMTAxOSwyODkuMzQzMywyMTguNTIyNSwyODkuMzU4OCwyMTguNzkyNCwyODkuMDEwNCwyMTkuMjA1NSwyODkuMDA3NiwyMTkuNSwyODguNzE4OCIgc3R5bGU9InN0cm9rZTojMDBCRkZGO3N0cm9rZS13aWR0aDowLjU7Ii8+PHRleHQgZmlsbD0iI0E5RENERiIgZm9udC1mYW1pbHk9IkltcGFjdCIgZm9udC1zaXplPSIxNyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI3MiIgeD0iMjI0IiB5PSIzMTEuNDk4NSI+Y29yZUROUzwvdGV4dD48cG9seWdvbiBmaWxsPSIjMUU5MEZGIiBwb2ludHM9IjMxNS41LDUsMzE1LjUsNS4yMTAyLDMyNi4wNzE0LDQuNTg1NywzMzYuNjQyOSw1LjE5MzMsMzQ3LjIxNDMsNS4zOTk3LDM1Ny43ODU3LDQuMjg2NiwzNjguMzU3MSw0LjkyMjMsMzc4LjkyODYsNC41NzM1LDM4OS41LDUsMzg5LjQ1MTEsNC44ODE5LDM4OS44NDQ5LDUuMTI1NSwzOTAuMTE4OSw1LjA4LDM5MC42MzEzLDUuNjA5OCwzOTAuODMzOCw1LjM5MTcsMzkxLjI2NzgsNS43MzIyLDM5MS4yMDY5LDUuNzA3LDM5MS41NDcyLDYuMTQwOSwzOTEuNTM0Miw2LjQyODQsMzkxLjcyODEsNi44MDE2LDM5MS44NDM3LDcuMTQyNCwzOTIsNy41LDM5Mi4wNTk1LDcuNSwzOTIuMDc5NywxMy4yNTc4LDM5Mi4xOTUyLDE5LjAxNTYsMzkyLjIyMzcsMjQuNzczNCwzOTIuMjI2NCwzMC41MzEzLDM5MiwzNi4yODkxLDM5Mi4wNzg0LDM2LjMyMTUsMzkxLjk5NjMsMzYuNzAxOCwzOTEuOTIzNCwzNy4wODU3LDM5MS4zMzg2LDM3LjI1NzcsMzkxLjYyMzIsMzcuNzg5OCwzOTEuMjY3OCwzOC4wNTY4LDM5MS4yMjk5LDM3Ljk2NTUsMzkwLjk4MjMsMzguMzY3NywzOTAuNDk3NSwzOC4xOTczLDM5MC4xOTg0LDM4LjQ3NTEsMzg5Ljk0ODIsMzguODcxLDM4OS41LDM4Ljc4OTEsMzg5LjUsMzguNzQwMywzNzguOTI4NiwzOC44OTQ0LDM2OC4zNTcxLDM5LjEyNzcsMzU3Ljc4NTcsMzkuMjA1MywzNDcuMjE0MywzOC43ODUyLDMzNi42NDI5LDM5LjA3NjMsMzI2LjA3MTQsMzguMjE2NiwzMTUuNSwzOC43ODkxLDMxNS41MzYzLDM4Ljg3NjYsMzE1LjIxNjQsMzguODExNCwzMTQuODQ5NiwzOC42MzMxLDMxNC41MTc1LDM4LjUzODUsMzE0LjAyNDIsMzguMDU0NSwzMTMuNzMyMiwzOC4wNTY4LDMxMy41MzE0LDM3Ljk3MzYsMzEzLjM5NDQsMzcuNjI0LDMxMy40MjEyLDM3LjM0MjIsMzEzLjIzMjQsMzYuOTcxMSwzMTMuMzU2MywzNi43Mjk1LDMxMywzNi4yODkxLDMxMi45NDE4LDM2LjI4OTEsMzEyLjg4NTYsMzAuNTMxMywzMTMuMDc2MSwyNC43NzM0LDMxMi43Nzc3LDE5LjAxNTYsMzEyLjgyNywxMy4yNTc4LDMxMyw3LjUsMzEzLjE5OTksNy41ODI4LDMxMy4yODA2LDcuMjAyLDMxMy41MTkxLDYuODg2NiwzMTMuMzQwMiw2LjM5ODMsMzEzLjY4NDEsNi4xMjY1LDMxMy43MzIyLDUuNzMyMiwzMTMuODA3NSw1LjkxNDEsMzE0LjAyNTUsNS40NDAzLDMxNC40MjcxLDUuNDA5OCwzMTQuODA5LDUuMzMxNywzMTUuMjI5Niw1LjM0NzIsMzE1LjUsNSIgc3R5bGU9InN0cm9rZTojMDBCRkZGO3N0cm9rZS13aWR0aDowLjU7Ii8+PHRleHQgZmlsbD0iI0E5RENERiIgZm9udC1mYW1pbHk9IkltcGFjdCIgZm9udC1zaXplPSIxNyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI2NSIgeD0iMzIwIiB5PSIyNy43Nzk4Ij5pcHRhYmxlczwvdGV4dD48cG9seWdvbiBmaWxsPSIjMUU5MEZGIiBwb2ludHM9IjMxNS41LDI4OC43MTg4LDMxNS41LDI4OC45Mjg5LDMyNi4wNzE0LDI4OC4zMDQ0LDMzNi42NDI5LDI4OC45MTIsMzQ3LjIxNDMsMjg5LjExODQsMzU3Ljc4NTcsMjg4LjAwNTQsMzY4LjM1NzEsMjg4LjY0MSwzNzguOTI4NiwyODguMjkyMywzODkuNSwyODguNzE4OCwzODkuNDUxMSwyODguNjAwNiwzODkuODQ0OSwyODguODQ0MiwzOTAuMTE4OSwyODguNzk4NywzOTAuNjMxMywyODkuMzI4NiwzOTAuODMzOCwyODkuMTEwNCwzOTEuMjY3OCwyODkuNDUxLDM5MS4yMDY5LDI4OS40MjU4LDM5MS41NDcyLDI4OS44NTk2LDM5MS41MzQyLDI5MC4xNDcxLDM5MS43MjgxLDI5MC41MjAzLDM5MS44NDM3LDI5MC44NjExLDM5MiwyOTEuMjE4OCwzOTIuMDU5NSwyOTEuMjE4OCwzOTIuMDc5NywyOTYuOTc2NiwzOTIuMTk1MiwzMDIuNzM0NCwzOTIuMjIzNywzMDguNDkyMiwzOTIuMjI2NCwzMTQuMjUsMzkyLDMyMC4wMDc4LDM5Mi4wNzg0LDMyMC4wNDAzLDM5MS45OTYzLDMyMC40MjA1LDM5MS45MjM0LDMyMC44MDQ1LDM5MS4zMzg2LDMyMC45NzY1LDM5MS42MjMyLDMyMS41MDg2LDM5MS4yNjc4LDMyMS43NzU2LDM5MS4yMjk5LDMyMS42ODQzLDM5MC45ODIzLDMyMi4wODY0LDM5MC40OTc1LDMyMS45MTYsMzkwLjE5ODQsMzIyLjE5MzgsMzg5Ljk0ODIsMzIyLjU4OTgsMzg5LjUsMzIyLjUwNzgsMzg5LjUsMzIyLjQ1OTEsMzc4LjkyODYsMzIyLjYxMzEsMzY4LjM1NzEsMzIyLjg0NjQsMzU3Ljc4NTcsMzIyLjkyNCwzNDcuMjE0MywzMjIuNTAzOSwzMzYuNjQyOSwzMjIuNzk1LDMyNi4wNzE0LDMyMS45MzU0LDMxNS41LDMyMi41MDc4LDMxNS41MzYzLDMyMi41OTU0LDMxNS4yMTY0LDMyMi41MzAyLDMxNC44NDk2LDMyMi4zNTE4LDMxNC41MTc1LDMyMi4yNTczLDMxNC4wMjQyLDMyMS43NzMzLDMxMy43MzIyLDMyMS43NzU2LDMxMy41MzE0LDMyMS42OTI0LDMxMy4zOTQ0LDMyMS4zNDI4LDMxMy40MjEyLDMyMS4wNjEsMzEzLjIzMjQsMzIwLjY4OTgsMzEzLjM1NjMsMzIwLjQ0ODMsMzEzLDMyMC4wMDc4LDMxMi45NDE4LDMyMC4wMDc4LDMxMi44ODU2LDMxNC4yNSwzMTMuMDc2MSwzMDguNDkyMiwzMTIuNzc3NywzMDIuNzM0NCwzMTIuODI3LDI5Ni45NzY2LDMxMywyOTEuMjE4OCwzMTMuMTk5OSwyOTEuMzAxNSwzMTMuMjgwNiwyOTAuOTIwOCwzMTMuNTE5MSwyOTAuNjA1MywzMTMuMzQwMiwyOTAuMTE3LDMxMy42ODQxLDI4OS44NDUzLDMxMy43MzIyLDI4OS40NTEsMzEzLjgwNzUsMjg5LjYzMjgsMzE0LjAyNTUsMjg5LjE1OTEsMzE0LjQyNzEsMjg5LjEyODYsMzE0LjgwOSwyODkuMDUwNCwzMTUuMjI5NiwyODkuMDY1OSwzMTUuNSwyODguNzE4OCIgc3R5bGU9InN0cm9rZTojMDBCRkZGO3N0cm9rZS13aWR0aDowLjU7Ii8+PHRleHQgZmlsbD0iI0E5RENERiIgZm9udC1mYW1pbHk9IkltcGFjdCIgZm9udC1zaXplPSIxNyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI2NSIgeD0iMzIwIiB5PSIzMTEuNDk4NSI+aXB0YWJsZXM8L3RleHQ+PHBvbHlnb24gZmlsbD0iIzFFOTBGRiIgcG9pbnRzPSI0NTUuNSw1LDQ1NS41LDUuMjEwMiw0NjUuNyw0LjU4NTcsNDc1LjksNS4xOTMzLDQ4Ni4xLDUuMzk5Nyw0OTYuMyw0LjI4NjYsNTA2LjUsNC45MjIzLDUxNi43LDQuNTczNSw1MjYuOSw0LjYxNjUsNTM3LjEsNC45MzE4LDU0Ny4zLDQuMzA4Niw1NTcuNSw1LDU1Ny41NzA2LDUuMTcwNSw1NTcuNzczMiw0Ljk1MjMsNTU4LjE4MTksNS4yMzIsNTU4LjYxNTgsNS41NzI0LDU1OC45MDMzLDUuNTU5NCw1NTkuMjY3OCw1LjczMjIsNTU5LjI4ODgsNS43NDA5LDU1OS40MDQ0LDYuMDgxNyw1NTkuNjE1Niw2LjQ2MjEsNTU5Ljc4MDgsNi44MjM0LDU2MC4wMzM5LDcuMjIxMiw1NjAsNy41LDU2MC4yMjM3LDcuNSw1NjAuMjI2NCwxMy4yNTc4LDU2MC4wODQ5LDE5LjAxNTYsNTYwLjE1NDUsMjQuNzczNCw1NjAuMjM0MSwzMC41MzEzLDU2MCwzNi4yODkxLDU1OS43Nzc5LDM2LjE5NzEsNTYwLjA2MjUsMzYuNzI5Miw1NTkuNjE1OCwzNi45NTgzLDU1OS43MjUxLDM3LjQxNzgsNTU5LjI2MTgsMzcuNjQwMSw1NTkuMjY3OCwzOC4wNTY4LDU1OS4yNTksMzguMDM1Nyw1NTkuMDA4OCwzOC40MzE3LDU1OC41NTQ0LDM4LjMzNDcsNTU4LjIyMDUsMzguNTI4Niw1NTcuODk2NywzOC43NDY5LDU1Ny41LDM4Ljc4OTEsNTU3LjUsMzkuMjA1Myw1NDcuMywzOC43ODUyLDUzNy4xLDM5LjA3NjMsNTI2LjksMzguMjE2Niw1MTYuNywzOS4wNzM0LDUwNi41LDM5LjMzNzMsNDk2LjMsMzkuMjMzNiw0ODYuMSwzOS40MDIxLDQ3NS45LDM4LjMwNiw0NjUuNywzOC4xMzY5LDQ1NS41LDM4Ljc4OTEsNDU1LjQyMDcsMzguNTk3Nyw0NTUuMTM4OSwzOC42MjQ1LDQ1NC43Njc4LDM4LjQzNTYsNDU0LjUyNjMsMzguNTU5Niw0NTQuMDYzNSwzOC4xNDk1LDQ1My43MzIyLDM4LjA1NjgsNDUzLjYyNjYsMzguMDEzMSw0NTMuNjU2MSwzNy43MzI0LDQ1My4yMzQsMzcuMjY0Nyw0NTMuMTMzLDM2LjkyOTksNDUzLjM0NjMsMzYuNzI1NCw0NTMsMzYuMjg5MSw0NTMuMTQ1MiwzNi4yODkxLDQ1My4yNDQ4LDMwLjUzMTMsNDUyLjg5MjcsMjQuNzczNCw0NTMuMTA2NCwxOS4wMTU2LDQ1My4xOTY4LDEzLjI1NzgsNDUzLDcuNSw0NTIuODU0NSw3LjQzOTcsNDUzLjExNjksNy4xMzQyLDQ1My4zMzE3LDYuODA5LDQ1My42NDAxLDYuNTIyNSw0NTMuNTg0NSw2LjA4NTMsNDUzLjczMjIsNS43MzIyLDQ1My43OTEyLDUuODc0Nyw0NTQuMDE1MSw1LjQxNTIsNDU0LjM1MjksNS4yMzA4LDQ1NC44NTcxLDUuNDQ4LDQ1NS4wNTUsNC45MjU3LDQ1NS41LDUiIHN0eWxlPSJzdHJva2U6IzAwQkZGRjtzdHJva2Utd2lkdGg6MC41OyIvPjx0ZXh0IGZpbGw9IiNBOURDREYiIGZvbnQtZmFtaWx5PSJJbXBhY3QiIGZvbnQtc2l6ZT0iMTciIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iOTMiIHg9IjQ2MCIgeT0iMjcuNzc5OCI+a3ViZSBwcm94eTwvdGV4dD48cG9seWdvbiBmaWxsPSIjMUU5MEZGIiBwb2ludHM9IjQ1NS41LDI4OC43MTg4LDQ1NS41LDI4OC45Mjg5LDQ2NS43LDI4OC4zMDQ0LDQ3NS45LDI4OC45MTIsNDg2LjEsMjg5LjExODQsNDk2LjMsMjg4LjAwNTQsNTA2LjUsMjg4LjY0MSw1MTYuNywyODguMjkyMyw1MjYuOSwyODguMzM1Myw1MzcuMSwyODguNjUwNiw1NDcuMywyODguMDI3NCw1NTcuNSwyODguNzE4OCw1NTcuNTcwNiwyODguODg5Miw1NTcuNzczMiwyODguNjcxMSw1NTguMTgxOSwyODguOTUwNyw1NTguNjE1OCwyODkuMjkxMSw1NTguOTAzMywyODkuMjc4MSw1NTkuMjY3OCwyODkuNDUxLDU1OS4yODg4LDI4OS40NTk3LDU1OS40MDQ0LDI4OS44MDA1LDU1OS42MTU2LDI5MC4xODA5LDU1OS43ODA4LDI5MC41NDIxLDU2MC4wMzM5LDI5MC45Mzk5LDU2MCwyOTEuMjE4OCw1NjAuMjIzNywyOTEuMjE4OCw1NjAuMjI2NCwyOTYuOTc2Niw1NjAuMDg0OSwzMDIuNzM0NCw1NjAuMTU0NSwzMDguNDkyMiw1NjAuMjM0MSwzMTQuMjUsNTYwLDMyMC4wMDc4LDU1OS43Nzc5LDMxOS45MTU4LDU2MC4wNjI1LDMyMC40NDc5LDU1OS42MTU4LDMyMC42NzcxLDU1OS43MjUxLDMyMS4xMzY2LDU1OS4yNjE4LDMyMS4zNTg5LDU1OS4yNjc4LDMyMS43NzU2LDU1OS4yNTksMzIxLjc1NDUsNTU5LjAwODgsMzIyLjE1MDQsNTU4LjU1NDQsMzIyLjA1MzUsNTU4LjIyMDUsMzIyLjI0NzMsNTU3Ljg5NjcsMzIyLjQ2NTYsNTU3LjUsMzIyLjUwNzgsNTU3LjUsMzIyLjkyNCw1NDcuMywzMjIuNTAzOSw1MzcuMSwzMjIuNzk1LDUyNi45LDMyMS45MzU0LDUxNi43LDMyMi43OTIyLDUwNi41LDMyMy4wNTYsNDk2LjMsMzIyLjk1MjMsNDg2LjEsMzIzLjEyMDgsNDc1LjksMzIyLjAyNDcsNDY1LjcsMzIxLjg1NTYsNDU1LjUsMzIyLjUwNzgsNDU1LjQyMDcsMzIyLjMxNjQsNDU1LjEzODksMzIyLjM0MzIsNDU0Ljc2NzgsMzIyLjE1NDQsNDU0LjUyNjMsMzIyLjI3ODMsNDU0LjA2MzUsMzIxLjg2ODIsNDUzLjczMjIsMzIxLjc3NTYsNDUzLjYyNjYsMzIxLjczMTgsNDUzLjY1NjEsMzIxLjQ1MTEsNDUzLjIzNCwzMjAuOTgzNCw0NTMuMTMzLDMyMC42NDg3LDQ1My4zNDYzLDMyMC40NDQxLDQ1MywzMjAuMDA3OCw0NTMuMTQ1MiwzMjAuMDA3OCw0NTMuMjQ0OCwzMTQuMjUsNDUyLjg5MjcsMzA4LjQ5MjIsNDUzLjEwNjQsMzAyLjczNDQsNDUzLjE5NjgsMjk2Ljk3NjYsNDUzLDI5MS4yMTg4LDQ1Mi44NTQ1LDI5MS4xNTg1LDQ1My4xMTY5LDI5MC44NTMsNDUzLjMzMTcsMjkwLjUyNzcsNDUzLjY0MDEsMjkwLjI0MTIsNDUzLjU4NDUsMjg5LjgwNCw0NTMuNzMyMiwyODkuNDUxLDQ1My43OTEyLDI4OS41OTM0LDQ1NC4wMTUxLDI4OS4xMzQsNDU0LjM1MjksMjg4Ljk0OTUsNDU0Ljg1NzEsMjg5LjE2NjcsNDU1LjA1NSwyODguNjQ0NCw0NTUuNSwyODguNzE4OCIgc3R5bGU9InN0cm9rZTojMDBCRkZGO3N0cm9rZS13aWR0aDowLjU7Ii8+PHRleHQgZmlsbD0iI0E5RENERiIgZm9udC1mYW1pbHk9IkltcGFjdCIgZm9udC1zaXplPSIxNyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI5MyIgeD0iNDYwIiB5PSIzMTEuNDk4NSI+a3ViZSBwcm94eTwvdGV4dD48cG9seWdvbiBmaWxsPSIjMUU5MEZGIiBwb2ludHM9IjkxNSw1LDkxNSw1LjIxMDIsOTI1LjM3NSw0LjU4NTcsOTM1Ljc1LDUuMTkzMyw5NDYuMTI1LDUuMzk5Nyw5NTYuNSw0LjI4NjYsOTY2Ljg3NSw0LjkyMjMsOTc3LjI1LDQuNTczNSw5ODcuNjI1LDQuNjE2NSw5OTgsNSw5OTcuOTkxMyw0Ljk3OSw5OTguMjY1NCw0LjkzMzUsOTk4Ljc3NzcsNS40NjM0LDk5OC45ODAzLDUuMjQ1Miw5OTkuMzg5LDUuNTI0OSw5OTkuNzY3OCw1LjczMjIsOTk5LjkwMDgsNS43ODczLDk5OS44ODc4LDYuMDc0OCwxMDAwLjA4MTcsNi40NDgsMTAwMC4xOTczLDYuNzg4OCwxMDAwLjQwODUsNy4xNjkyLDEwMDAuNSw3LjUsMTAwMC41Nzk3LDcuNSwxMDAwLjY5NTIsMTMuMjU3OCwxMDAwLjcyMzcsMTkuMDE1NiwxMDAwLjcyNjQsMjQuNzczNCwxMDAwLjU4NDksMzAuNTMxMywxMDAwLjUsMzYuMjg5MSwxMDAwLjY0MjgsMzYuMzQ4MiwxMDAwLjU2OTgsMzYuNzMyMiw5OTkuOTg1LDM2LjkwNDIsMTAwMC4yNjk2LDM3LjQzNjMsOTk5LjgyMjksMzcuNjY1NSw5OTkuNzY3OCwzOC4wNTY4LDk5OS44MzU5LDM4LjIyMTIsOTk5LjM1MTEsMzguMDUwOCw5OTkuMDUxOSwzOC4zMjg2LDk5OC44MDE3LDM4LjcyNDYsOTk4LjM0NzMsMzguNjI3Niw5OTgsMzguNzg5MSw5OTgsMzguODk0NCw5ODcuNjI1LDM5LjEyNzcsOTc3LjI1LDM5LjIwNTMsOTY2Ljg3NSwzOC43ODUyLDk1Ni41LDM5LjA3NjMsOTQ2LjEyNSwzOC4yMTY2LDkzNS43NSwzOS4wNzM0LDkyNS4zNzUsMzkuMzM3Myw5MTUsMzguNzg5MSw5MTUuMDU2NywzOC45MjYsOTE0LjcyNDYsMzguODMxNCw5MTQuMjMxMywzOC4zNDc0LDkxMy44NTYxLDM4LjE0ODksOTEzLjUwNjUsMzguMDExOSw5MTMuMjMyMiwzOC4wNTY4LDkxMy4yMTQxLDM4LjA0OTMsOTEzLjAyNTMsMzcuNjc4Miw5MTMuMTQ5MiwzNy40MzY2LDkxMi43MzkxLDM2Ljk3MzksOTEyLjU0MDgsMzYuNTk4OSw5MTIuNSwzNi4yODkxLDkxMi41NzYxLDM2LjI4OTEsOTEyLjI3NzcsMzAuNTMxMyw5MTIuMzI3LDI0Ljc3MzQsOTEyLjcxNjMsMTkuMDE1Niw5MTIuNjQ1MiwxMy4yNTc4LDkxMi41LDcuNSw5MTIuNzI2Miw3LjU5MzcsOTEyLjU0NzMsNy4xMDU0LDkxMi44OTEyLDYuODMzNiw5MTMuMTIxMiw2LjUxNDcsOTEyLjk0MDMsNi4wMjU1LDkxMy4yMzIyLDUuNzMyMiw5MTMuMjIsNS43MDI3LDkxMy42MDE5LDUuNjI0Niw5MTQuMDIyNSw1LjY0MDEsOTE0LjI5MjQsNS4yOTE2LDkxNC43MDU1LDUuMjg4OSw5MTUsNSIgc3R5bGU9InN0cm9rZTojMDBCRkZGO3N0cm9rZS13aWR0aDowLjU7Ii8+PHRleHQgZmlsbD0iI0E5RENERiIgZm9udC1mYW1pbHk9IkltcGFjdCIgZm9udC1zaXplPSIxNyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI3NCIgeD0iOTE5LjUiIHk9IjI3Ljc3OTgiPmVuZHBvaW50PC90ZXh0Pjxwb2x5Z29uIGZpbGw9IiMxRTkwRkYiIHBvaW50cz0iOTE1LDI4OC43MTg4LDkxNSwyODguOTI4OSw5MjUuMzc1LDI4OC4zMDQ0LDkzNS43NSwyODguOTEyLDk0Ni4xMjUsMjg5LjExODQsOTU2LjUsMjg4LjAwNTQsOTY2Ljg3NSwyODguNjQxLDk3Ny4yNSwyODguMjkyMyw5ODcuNjI1LDI4OC4zMzUzLDk5OCwyODguNzE4OCw5OTcuOTkxMywyODguNjk3OCw5OTguMjY1NCwyODguNjUyMyw5OTguNzc3NywyODkuMTgyMSw5OTguOTgwMywyODguOTY0LDk5OS4zODksMjg5LjI0MzYsOTk5Ljc2NzgsMjg5LjQ1MSw5OTkuOTAwOCwyODkuNTA2MSw5OTkuODg3OCwyODkuNzkzNiwxMDAwLjA4MTcsMjkwLjE2NjgsMTAwMC4xOTczLDI5MC41MDc2LDEwMDAuNDA4NSwyOTAuODg4LDEwMDAuNSwyOTEuMjE4OCwxMDAwLjU3OTcsMjkxLjIxODgsMTAwMC42OTUyLDI5Ni45NzY2LDEwMDAuNzIzNywzMDIuNzM0NCwxMDAwLjcyNjQsMzA4LjQ5MjIsMTAwMC41ODQ5LDMxNC4yNSwxMDAwLjUsMzIwLjAwNzgsMTAwMC42NDI4LDMyMC4wNjY5LDEwMDAuNTY5OCwzMjAuNDUwOSw5OTkuOTg1LDMyMC42MjI5LDEwMDAuMjY5NiwzMjEuMTU1LDk5OS44MjI5LDMyMS4zODQyLDk5OS43Njc4LDMyMS43NzU2LDk5OS44MzU5LDMyMS45NCw5OTkuMzUxMSwzMjEuNzY5Niw5OTkuMDUxOSwzMjIuMDQ3NCw5OTguODAxNywzMjIuNDQzMyw5OTguMzQ3MywzMjIuMzQ2NCw5OTgsMzIyLjUwNzgsOTk4LDMyMi42MTMxLDk4Ny42MjUsMzIyLjg0NjQsOTc3LjI1LDMyMi45MjQsOTY2Ljg3NSwzMjIuNTAzOSw5NTYuNSwzMjIuNzk1LDk0Ni4xMjUsMzIxLjkzNTQsOTM1Ljc1LDMyMi43OTIyLDkyNS4zNzUsMzIzLjA1Niw5MTUsMzIyLjUwNzgsOTE1LjA1NjcsMzIyLjY0NDcsOTE0LjcyNDYsMzIyLjU1MDIsOTE0LjIzMTMsMzIyLjA2NjIsOTEzLjg1NjEsMzIxLjg2NzYsOTEzLjUwNjUsMzIxLjczMDcsOTEzLjIzMjIsMzIxLjc3NTYsOTEzLjIxNDEsMzIxLjc2ODEsOTEzLjAyNTMsMzIxLjM5Nyw5MTMuMTQ5MiwzMjEuMTU1NCw5MTIuNzM5MSwzMjAuNjkyNiw5MTIuNTQwOCwzMjAuMzE3Niw5MTIuNSwzMjAuMDA3OCw5MTIuNTc2MSwzMjAuMDA3OCw5MTIuMjc3NywzMTQuMjUsOTEyLjMyNywzMDguNDkyMiw5MTIuNzE2MywzMDIuNzM0NCw5MTIuNjQ1MiwyOTYuOTc2Niw5MTIuNSwyOTEuMjE4OCw5MTIuNzI2MiwyOTEuMzEyNCw5MTIuNTQ3MywyOTAuODI0MSw5MTIuODkxMiwyOTAuNTUyNCw5MTMuMTIxMiwyOTAuMjMzNCw5MTIuOTQwMywyODkuNzQ0Myw5MTMuMjMyMiwyODkuNDUxLDkxMy4yMiwyODkuNDIxNSw5MTMuNjAxOSwyODkuMzQzMyw5MTQuMDIyNSwyODkuMzU4OCw5MTQuMjkyNCwyODkuMDEwNCw5MTQuNzA1NSwyODkuMDA3Niw5MTUsMjg4LjcxODgiIHN0eWxlPSJzdHJva2U6IzAwQkZGRjtzdHJva2Utd2lkdGg6MC41OyIvPjx0ZXh0IGZpbGw9IiNBOURDREYiIGZvbnQtZmFtaWx5PSJJbXBhY3QiIGZvbnQtc2l6ZT0iMTciIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNzQiIHg9IjkxOS41IiB5PSIzMTEuNDk4NSI+ZW5kcG9pbnQ8L3RleHQ+PHBvbHlnb24gZmlsbD0iIzAwQkZGRiIgcG9pbnRzPSIyNDgsNjYuOTIxOSwyNDguMDI2LDY2Ljk4NjksMjQ5Ljk0ODcsNjcuNTkzNiwyNTIuMDIzOSw2OC41ODE3LDI1NC4wNDk1LDY5LjQ0NTYsMjU1LjkxMTcsNjkuOTAxMSwyNTgsNzAuOTIxOSwyNTcuOTkwNCw3MC44OTc4LDI1NS45NDcyLDcxLjU4OTksMjUzLjk1MjUsNzIuNDAzMiwyNTEuOTkxNiw3My4zMDA4LDI0OS45MTQ0LDczLjkwNzksMjQ4LDc0LjkyMTksMjQ4LjEzMDUsNzUuMDUyNCwyNDguNjUxNCw3My45NzMzLDI0OS41NTM0LDczLjI3NTMsMjUwLjUwMTgsNzIuNjIzNywyNTEuMTc5OCw3MS43MDE3LDI1Miw3MC45MjE5LDI1Mi4wMTYxLDcwLjkzOCwyNTEuMTkyNSw3MC4xMTQzLDI1MC40NDIxLDY5LjM2NCwyNDkuNjU2NCw2OC41NzgyLDI0OC45MzgsNjcuODU5OSwyNDgsNjYuOTIxOSIgc3R5bGU9InN0cm9rZTojMDBCRkZGO3N0cm9rZS13aWR0aDoxLjA7Ii8+PHBhdGggZD0iTTI3LDcwLjkyMTkgTDI3LDcxLjIwMjEgTDM2Ljg2OTYsNzAuMzY5NCBMNDYuNzM5MSw3MS4xNzk2IEw1Ni42MDg3LDcxLjQ1NDggTDY2LjQ3ODMsNjkuOTcwNyBMNzYuMzQ3OCw3MC44MTgzIEw4Ni4yMTc0LDcwLjM1MzIgTDk2LjA4Nyw3MC40MTA1IEwxMDUuOTU2NSw3MC44MzEgTDExNS44MjYxLDcwIEwxMjUuNjk1Nyw3MS42NjAxIEwxMzUuNTY1Miw3MC4wODE1IEwxNDUuNDM0OCw3MC42NTgyIEwxNTUuMzA0Myw3MS40OTc4IEwxNjUuMTczOSw3MC44MDc1IEwxNzUuMDQzNSw3MS4wMTI5IEwxODQuOTEzLDcwLjg3OTMgTDE5NC43ODI2LDcxLjE1OTkgTDIwNC42NTIyLDcxLjI0MDcgTDIxNC41MjE3LDcxLjcwMjggTDIyNC4zOTEzLDcxLjgxNjYgTDIzNC4yNjA5LDcxLjgyNzYgTDI0NC4xMzA0LDcxLjI2MTQgTDI1NCw3MC45MjE5ICIgZmlsbD0ibm9uZSIgc3R5bGU9InN0cm9rZTojMDBCRkZGO3N0cm9rZS13aWR0aDoxLjA7Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMjA5IiB4PSIzNCIgeT0iNjUuODU2Ij4mIzI2NTk3OyYjMzU4MTA7c2VydmljZU5hbWUmIzIzNTQ1OyYjMjQyMTI7JiMzMDM0MDtDbHVzdGVyIElQPC90ZXh0Pjxwb2x5Z29uIGZpbGw9IiMwMEJGRkYiIHBvaW50cz0iMzgsOTYuMDU0NywzOC4wMjYsOTYuMTE5NywzNS45NDg3LDk2LjcyNjUsMzQuMDIzOSw5Ny43MTQ1LDMyLjA0OTUsOTguNTc4NCwyOS45MTE3LDk5LjAzMzksMjgsMTAwLjA1NDcsMjcuOTkwNCwxMDAuMDMwNiwyOS45NDcyLDEwMC43MjI3LDMxLjk1MjUsMTAxLjUzNiwzMy45OTE2LDEwMi40MzM2LDM1LjkxNDQsMTAzLjA0MDcsMzgsMTA0LjA1NDcsMzguMTMwNSwxMDQuMTg1MiwzNy4wNTE0LDEwMy4xMDYxLDM2LjM1MzQsMTAyLjQwODEsMzUuNzAxOCwxMDEuNzU2NSwzNC43Nzk4LDEwMC44MzQ1LDM0LDEwMC4wNTQ3LDM0LjAxNjEsMTAwLjA3MDgsMzQuNzkyNSw5OS4yNDcyLDM1LjY0MjEsOTguNDk2OCwzNi40NTY0LDk3LjcxMTEsMzcuMzM4LDk2Ljk5MjcsMzgsOTYuMDU0NyIgc3R5bGU9InN0cm9rZTojMDBCRkZGO3N0cm9rZS13aWR0aDoxLjA7Ii8+PHBhdGggZD0iTTMyLDEwMC4wNTQ3IEwzMiwxMDAuMzM0OSBMNDEuODY5Niw5OS41MDIzIEw1MS43MzkxLDEwMC4zMTI0IEw2MS42MDg3LDEwMC41ODc2IEw3MS40NzgzLDk5LjEwMzUgTDgxLjM0NzgsOTkuOTUxMSBMOTEuMjE3NCw5OS40ODYgTDEwMS4wODcsOTkuNTQzNCBMMTEwLjk1NjUsOTkuOTYzOCBMMTIwLjgyNjEsOTkuMTMyOSBMMTMwLjY5NTcsMTAwLjc5MjkgTDE0MC41NjUyLDk5LjIxNDMgTDE1MC40MzQ4LDk5Ljc5MSBMMTYwLjMwNDMsMTAwLjYzMDYgTDE3MC4xNzM5LDk5Ljk0MDMgTDE4MC4wNDM1LDEwMC4xNDU3IEwxODkuOTEzLDEwMC4wMTIxIEwxOTkuNzgyNiwxMDAuMjkyNyBMMjA5LjY1MjIsMTAwLjM3MzUgTDIxOS41MjE3LDEwMC44MzU2IEwyMjkuMzkxMywxMDAuOTQ5NCBMMjM5LjI2MDksMTAwLjk2MDQgTDI0OS4xMzA0LDEwMC4zOTQyIEwyNTksMTAwLjA1NDcgIiBmaWxsPSJub25lIiBzdHlsZT0ic3Ryb2tlOiMwMEJGRkY7c3Ryb2tlLXdpZHRoOjEuMDtzdHJva2UtZGFzaGFycmF5OjIuMCwyLjA7Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMzkiIHg9IjQ0IiB5PSI5NC45ODg4Ij5yZXR1cm48L3RleHQ+PHBvbHlnb24gZmlsbD0iIzAwQkZGRiIgcG9pbnRzPSIzNDAuNSwxMjUuMTg3NSwzNDAuNTI2LDEyNS4yNTI1LDM0Mi40NDg3LDEyNS44NTkzLDM0NC41MjM5LDEyNi44NDczLDM0Ni41NDk1LDEyNy43MTEyLDM0OC40MTE3LDEyOC4xNjY3LDM1MC41LDEyOS4xODc1LDM1MC40OTA0LDEyOS4xNjM0LDM0OC40NDcyLDEyOS44NTU1LDM0Ni40NTI1LDEzMC42Njg4LDM0NC40OTE2LDEzMS41NjY0LDM0Mi40MTQ0LDEzMi4xNzM1LDM0MC41LDEzMy4xODc1LDM0MC42MzA1LDEzMy4zMTgsMzQxLjE1MTQsMTMyLjIzODksMzQyLjA1MzQsMTMxLjU0MDksMzQzLjAwMTgsMTMwLjg4OTMsMzQzLjY3OTgsMTI5Ljk2NzMsMzQ0LjUsMTI5LjE4NzUsMzQ0LjUxNjEsMTI5LjIwMzYsMzQzLjY5MjUsMTI4LjM4LDM0Mi45NDIxLDEyNy42Mjk2LDM0Mi4xNTY0LDEyNi44NDM5LDM0MS40MzgsMTI2LjEyNTUsMzQwLjUsMTI1LjE4NzUiIHN0eWxlPSJzdHJva2U6IzAwQkZGRjtzdHJva2Utd2lkdGg6MS4wOyIvPjxwYXRoIGQ9Ik0yNywxMjkuMTg3NSBMMjcsMTI5LjQ2NzcgTDM2Ljk4NDQsMTI4LjYzNTEgTDQ2Ljk2ODgsMTI5LjQ0NTIgTDU2Ljk1MzEsMTI5LjcyMDQgTDY2LjkzNzUsMTI4LjIzNjMgTDc2LjkyMTksMTI5LjA4MzkgTDg2LjkwNjMsMTI4LjYxODggTDk2Ljg5MDYsMTI4LjY3NjIgTDEwNi44NzUsMTI5LjA5NjYgTDExNi44NTk0LDEyOC4yNjU3IEwxMjYuODQzOCwxMjkuOTI1NyBMMTM2LjgyODEsMTI4LjM0NzEgTDE0Ni44MTI1LDEyOC45MjM4IEwxNTYuNzk2OSwxMjkuNzYzNCBMMTY2Ljc4MTMsMTI5LjA3MzEgTDE3Ni43NjU2LDEyOS4yNzg1IEwxODYuNzUsMTI5LjE0NDkgTDE5Ni43MzQ0LDEyOS40MjU1IEwyMDYuNzE4OCwxMjkuNTA2MyBMMjE2LjcwMzEsMTI5Ljk2ODQgTDIyNi42ODc1LDEzMC4wODIyIEwyMzYuNjcxOSwxMzAuMDkzMiBMMjQ2LjY1NjMsMTI5LjUyNyBMMjU2LjY0MDYsMTI5LjgwNTYgTDI2Ni42MjUsMTMwLjEyMzggTDI3Ni42MDk0LDEyOC4yMjU5IEwyODYuNTkzOCwxMzAuMDkyMiBMMjk2LjU3ODEsMTI4Ljc5MjIgTDMwNi41NjI1LDEyOS44OTkyIEwzMTYuNTQ2OSwxMjguNTI3NSBMMzI2LjUzMTMsMTI5LjA5NjIgTDMzNi41MTU2LDEzMC4xNzYzIEwzNDYuNSwxMjkuMTg3NSAiIGZpbGw9Im5vbmUiIHN0eWxlPSJzdHJva2U6IzAwQkZGRjtzdHJva2Utd2lkdGg6MS4wOyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjExNyIgeD0iMzQiIHk9IjEyNC4xMjE2Ij50cmFmZmljIHRvIENsdXN0ZXIgSVA8L3RleHQ+PHBhdGggZD0iTTM1Mi41LDE1OC4zMjAzIEwzNTIuNSwxNTguNDEzNyBMMzYwLjksMTU4LjEzNjIgTDM2OS4zLDE1OC40MDYyIEwzNzcuNywxNTguNDk3OSBMMzg2LjEsMTU4LjAwMzIgTDM5NC41LDE1OC4zMjAzICIgZmlsbD0ibm9uZSIgc3R5bGU9InN0cm9rZTojMDBCRkZGO3N0cm9rZS13aWR0aDoxLjA7Ii8+PHBhdGggZD0iTTM5NC41LDE1OC4zMjAzIEwzOTQuNTkzNCwxNTguMzIwMyBMMzk0LjMxNTksMTYwLjkyMDMgTDM5NC41ODU5LDE2My41MjAzIEwzOTQuNjc3NiwxNjYuMTIwMyBMMzk0LjE4MjksMTY4LjcyMDMgTDM5NC41LDE3MS4zMjAzICIgZmlsbD0ibm9uZSIgc3R5bGU9InN0cm9rZTojMDBCRkZGO3N0cm9rZS13aWR0aDoxLjA7Ii8+PHBhdGggZD0iTTM1My41LDE3MS4zMjAzIEwzNTMuNSwxNzEuNDEzNyBMMzYxLjcsMTcxLjEzNjIgTDM2OS45LDE3MS40MDYyIEwzNzguMSwxNzEuNDk3OSBMMzg2LjMsMTcxLjAwMzIgTDM5NC41LDE3MS4zMjAzICIgZmlsbD0ibm9uZSIgc3R5bGU9InN0cm9rZTojMDBCRkZGO3N0cm9rZS13aWR0aDoxLjA7Ii8+PHBvbHlnb24gZmlsbD0iIzAwQkZGRiIgcG9pbnRzPSIzNjMuNSwxNjcuMzIwMywzNjMuNTI2LDE2Ny4zODU0LDM2MS40NDg3LDE2Ny45OTIxLDM1OS41MjM5LDE2OC45ODAxLDM1Ny41NDk1LDE2OS44NDQsMzU1LjQxMTcsMTcwLjI5OTUsMzUzLjUsMTcxLjMyMDMsMzUzLjQ5MDQsMTcxLjI5NjMsMzU1LjQ0NzIsMTcxLjk4ODMsMzU3LjQ1MjUsMTcyLjgwMTYsMzU5LjQ5MTYsMTczLjY5OTIsMzYxLjQxNDQsMTc0LjMwNjMsMzYzLjUsMTc1LjMyMDMsMzYzLjYzMDUsMTc1LjQ1MDgsMzYyLjU1MTQsMTc0LjM3MTgsMzYxLjg1MzQsMTczLjY3MzcsMzYxLjIwMTgsMTczLjAyMjEsMzYwLjI3OTgsMTcyLjEwMDEsMzU5LjUsMTcxLjMyMDMsMzU5LjUxNjEsMTcxLjMzNjQsMzYwLjI5MjUsMTcwLjUxMjgsMzYxLjE0MjEsMTY5Ljc2MjQsMzYxLjk1NjQsMTY4Ljk3NjcsMzYyLjgzOCwxNjguMjU4NCwzNjMuNSwxNjcuMzIwMyIgc3R5bGU9InN0cm9rZTojMDBCRkZGO3N0cm9rZS13aWR0aDoxLjA7Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNTIiIHg9IjM1OS41IiB5PSIxNTMuMjU0NCI+JiMzNTI2ODsmIzIxMDE3OyYjMjEzMDU7JiMzNzE5Nzs8L3RleHQ+PHBvbHlnb24gZmlsbD0iIzAwQkZGRiIgcG9pbnRzPSI0OTQuNSwxOTYuNDUzMSw0OTQuNTI2LDE5Ni41MTgyLDQ5Ni40NDg3LDE5Ny4xMjQ5LDQ5OC41MjM5LDE5OC4xMTI5LDUwMC41NDk1LDE5OC45NzY4LDUwMi40MTE3LDE5OS40MzIzLDUwNC41LDIwMC40NTMxLDUwNC40OTA0LDIwMC40MjkxLDUwMi40NDcyLDIwMS4xMjExLDUwMC40NTI1LDIwMS45MzQ0LDQ5OC40OTE2LDIwMi44MzIsNDk2LjQxNDQsMjAzLjQzOTIsNDk0LjUsMjA0LjQ1MzEsNDk0LjYzMDUsMjA0LjU4MzYsNDk1LjE1MTQsMjAzLjUwNDYsNDk2LjA1MzQsMjAyLjgwNjUsNDk3LjAwMTgsMjAyLjE1NDksNDk3LjY3OTgsMjAxLjIzMjksNDk4LjUsMjAwLjQ1MzEsNDk4LjUxNjEsMjAwLjQ2OTIsNDk3LjY5MjUsMTk5LjY0NTYsNDk2Ljk0MjEsMTk4Ljg5NTIsNDk2LjE1NjQsMTk4LjEwOTUsNDk1LjQzOCwxOTcuMzkxMiw0OTQuNSwxOTYuNDUzMSIgc3R5bGU9InN0cm9rZTojMDBCRkZGO3N0cm9rZS13aWR0aDoxLjA7Ii8+PHBhdGggZD0iTTM1Mi41LDIwMC40NTMxIEwzNTIuNSwyMDAuNzMzNCBMMzYyLjM2NjcsMTk5LjkwMDcgTDM3Mi4yMzMzLDIwMC43MTA4IEwzODIuMSwyMDAuOTg2IEwzOTEuOTY2NywxOTkuNTAxOSBMNDAxLjgzMzMsMjAwLjM0OTUgTDQxMS43LDE5OS44ODQ1IEw0MjEuNTY2NywxOTkuOTQxOCBMNDMxLjQzMzMsMjAwLjM2MjIgTDQ0MS4zLDE5OS41MzEzIEw0NTEuMTY2NywyMDEuMTkxMyBMNDYxLjAzMzMsMTk5LjYxMjggTDQ3MC45LDIwMC4xODk0IEw0ODAuNzY2NywyMDEuMDI5MSBMNDkwLjYzMzMsMjAwLjMzODggTDUwMC41LDIwMC40NTMxICIgZmlsbD0ibm9uZSIgc3R5bGU9InN0cm9rZTojMDBCRkZGO3N0cm9rZS13aWR0aDoxLjA7Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTMwIiB4PSIzNTkuNSIgeT0iMTk1LjM4NzIiPnRyYWZmaWMgdG8ga3ViZV9wcm94eTwvdGV4dD48cGF0aCBkPSJNNTA2LjUsMjI5LjU4NTkgTDUwNi41LDIyOS42Nzk0IEw1MTQuOSwyMjkuNDAxOCBMNTIzLjMsMjI5LjY3MTggTDUzMS43LDIyOS43NjM2IEw1NDAuMSwyMjkuMjY4OSBMNTQ4LjUsMjI5LjU4NTkgIiBmaWxsPSJub25lIiBzdHlsZT0ic3Ryb2tlOiMwMEJGRkY7c3Ryb2tlLXdpZHRoOjEuMDsiLz48cGF0aCBkPSJNNTQ4LjUsMjI5LjU4NTkgTDU0OC41OTM0LDIyOS41ODU5IEw1NDguMzE1OSwyMzIuMTg1OSBMNTQ4LjU4NTksMjM0Ljc4NTkgTDU0OC42Nzc2LDIzNy4zODU5IEw1NDguMTgyOSwyMzkuOTg1OSBMNTQ4LjUsMjQyLjU4NTkgIiBmaWxsPSJub25lIiBzdHlsZT0ic3Ryb2tlOiMwMEJGRkY7c3Ryb2tlLXdpZHRoOjEuMDsiLz48cGF0aCBkPSJNNTA3LjUsMjQyLjU4NTkgTDUwNy41LDI0Mi42Nzk0IEw1MTUuNywyNDIuNDAxOCBMNTIzLjksMjQyLjY3MTggTDUzMi4xLDI0Mi43NjM2IEw1NDAuMywyNDIuMjY4OSBMNTQ4LjUsMjQyLjU4NTkgIiBmaWxsPSJub25lIiBzdHlsZT0ic3Ryb2tlOiMwMEJGRkY7c3Ryb2tlLXdpZHRoOjEuMDsiLz48cG9seWdvbiBmaWxsPSIjMDBCRkZGIiBwb2ludHM9IjUxNy41LDIzOC41ODU5LDUxNy41MjYsMjM4LjY1MSw1MTUuNDQ4NywyMzkuMjU3Nyw1MTMuNTIzOSwyNDAuMjQ1OCw1MTEuNTQ5NSwyNDEuMTA5Niw1MDkuNDExNywyNDEuNTY1MSw1MDcuNSwyNDIuNTg1OSw1MDcuNDkwNCwyNDIuNTYxOSw1MDkuNDQ3MiwyNDMuMjUzOSw1MTEuNDUyNSwyNDQuMDY3Miw1MTMuNDkxNiwyNDQuOTY0OCw1MTUuNDE0NCwyNDUuNTcyLDUxNy41LDI0Ni41ODU5LDUxNy42MzA1LDI0Ni43MTY0LDUxNi41NTE0LDI0NS42Mzc0LDUxNS44NTM0LDI0NC45MzkzLDUxNS4yMDE4LDI0NC4yODc3LDUxNC4yNzk4LDI0My4zNjU3LDUxMy41LDI0Mi41ODU5LDUxMy41MTYxLDI0Mi42MDIsNTE0LjI5MjUsMjQxLjc3ODQsNTE1LjE0MjEsMjQxLjAyOCw1MTUuOTU2NCwyNDAuMjQyMyw1MTYuODM4LDIzOS41MjQsNTE3LjUsMjM4LjU4NTkiIHN0eWxlPSJzdHJva2U6IzAwQkZGRjtzdHJva2Utd2lkdGg6MS4wOyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjQzNiIgeD0iNTEzLjUiIHk9IjIyNC41MiI+JiMyNjU5NzsmIzM1ODEwOyYjMjAxOTU7JiMyOTcwMjsmIzMxNDcxOyYjMjE0NzU7JiMyMTQ5NTsmIzIxNjQ0O1NlcnZpY2UmIzMwMzQwOyYjMjYxNDQ7JiMyMzU1NjsmIzIwODUxOyYjMzE5OTU7JiM2NTI5MjsmIzIwMTk3OyYjMjE0NTA7U2VydmljZSYjMjE2NDQ7RW5kcG9pbnQmIzMwMzQwOyYjMjYxNDQ7JiMyMzU1NjsmIzIwODUxOyYjMzE5OTU7PC90ZXh0Pjxwb2x5Z29uIGZpbGw9IiMwMEJGRkYiIHBvaW50cz0iOTQ0LjUsMjY3LjcxODgsOTQ0LjUyNiwyNjcuNzgzOCw5NDYuNDQ4NywyNjguMzkwNSw5NDguNTIzOSwyNjkuMzc4Niw5NTAuNTQ5NSwyNzAuMjQyNCw5NTIuNDExNywyNzAuNjk4LDk1NC41LDI3MS43MTg4LDk1NC40OTA0LDI3MS42OTQ3LDk1Mi40NDcyLDI3Mi4zODY4LDk1MC40NTI1LDI3My4yMDAxLDk0OC40OTE2LDI3NC4wOTc3LDk0Ni40MTQ0LDI3NC43MDQ4LDk0NC41LDI3NS43MTg4LDk0NC42MzA1LDI3NS44NDkyLDk0NS4xNTE0LDI3NC43NzAyLDk0Ni4wNTM0LDI3NC4wNzIxLDk0Ny4wMDE4LDI3My40MjA2LDk0Ny42Nzk4LDI3Mi40OTg1LDk0OC41LDI3MS43MTg4LDk0OC41MTYxLDI3MS43MzQ4LDk0Ny42OTI1LDI3MC45MTEyLDk0Ni45NDIxLDI3MC4xNjA4LDk0Ni4xNTY0LDI2OS4zNzUxLDk0NS40MzgsMjY4LjY1NjgsOTQ0LjUsMjY3LjcxODgiIHN0eWxlPSJzdHJva2U6IzAwQkZGRjtzdHJva2Utd2lkdGg6MS4wOyIvPjxwYXRoIGQ9Ik01MDYuNSwyNzEuNzE4OCBMNTA2LjUsMjcxLjk5OSBMNTE2LjU5MDksMjcxLjE2NjMgTDUyNi42ODE4LDI3MS45NzY1IEw1MzYuNzcyNywyNzIuMjUxNyBMNTQ2Ljg2MzYsMjcwLjc2NzYgTDU1Ni45NTQ1LDI3MS42MTUxIEw1NjcuMDQ1NSwyNzEuMTUwMSBMNTc3LjEzNjQsMjcxLjIwNzQgTDU4Ny4yMjczLDI3MS42Mjc5IEw1OTcuMzE4MiwyNzAuNzk2OSBMNjA3LjQwOTEsMjcyLjQ1NjkgTDYxNy41LDI3MC44Nzg0IEw2MjcuNTkwOSwyNzEuNDU1MSBMNjM3LjY4MTgsMjcyLjI5NDcgTDY0Ny43NzI3LDI3MS42MDQ0IEw2NTcuODYzNiwyNzEuODA5NyBMNjY3Ljk1NDUsMjcxLjY3NjIgTDY3OC4wNDU1LDI3MS45NTY4IEw2ODguMTM2NCwyNzIuMDM3NiBMNjk4LjIyNzMsMjcyLjQ5OTcgTDcwOC4zMTgyLDI3Mi42MTM1IEw3MTguNDA5MSwyNzIuNjI0NCBMNzI4LjUsMjcyLjA1ODMgTDczOC41OTA5LDI3Mi4zMzY5IEw3NDguNjgxOCwyNzIuNjU1MSBMNzU4Ljc3MjcsMjcwLjc1NzIgTDc2OC44NjM2LDI3Mi42MjM0IEw3NzguOTU0NSwyNzEuMzIzNCBMNzg5LjA0NTUsMjcyLjQzMDUgTDc5OS4xMzY0LDI3MS4wNTg3IEw4MDkuMjI3MywyNzEuNjI3NCBMODE5LjMxODIsMjcyLjcwNzYgTDgyOS40MDkxLDI3MS42NTM4IEw4MzkuNSwyNzEuODU5MiBMODQ5LjU5MDksMjcyLjE3MDMgTDg1OS42ODE4LDI3Mi4yNzM3IEw4NjkuNzcyNywyNzEuNzEzNSBMODc5Ljg2MzYsMjcyLjEwMTcgTDg4OS45NTQ1LDI3MC45NTU1IEw5MDAuMDQ1NSwyNzIuMDk3OSBMOTEwLjEzNjQsMjcyLjQ0OTcgTDkyMC4yMjczLDI3Mi4zMTE1IEw5MzAuMzE4MiwyNzIuNTM2MSBMOTQwLjQwOTEsMjcxLjA3NDYgTDk1MC41LDI3MS43MTg4ICIgZmlsbD0ibm9uZSIgc3R5bGU9InN0cm9rZTojMDBCRkZGO3N0cm9rZS13aWR0aDoxLjA7Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTEzIiB4PSI1MTMuNSIgeT0iMjY2LjY1MjgiPnRyYWZmaWMgdG8gZW5kcG9pbnQ8L3RleHQ+PCEtLVNSQz1bVFBCRklpRDA0Q1JGdFFUT3pEbzM5eDQ3ZU1xZzIyQTVGZTFpYXdha1JOVk5vU1FfVUFpWUtnYzgxX01ZQUVCMUdtS0ZlbExuTkFpZE55NWVLZkRqejlRUHh4VnBWSkY0UnRBWDZCOHNoSkV0a09tbzQ1dlBqWUpJb0tnYktkQkFuRnliTGZabXJmNWgzTzlnMzgyYUQxek0wbjBrcTZzSUFvQkF6TVk4MHcxZ3BTcklBd0hwSExUQkI0ZHEwRnpHNXRXMzVoWTBENTJ0YlY2NG5IY2R4Q29IN0NiTDZNaGtTaU00X2pTV3BPbkRTZ0l0MzlaMXZnSkdZd21EVEJ3amNBaXBNZXJsMFBzUXBsR3B5UUJEbnFwUFFpMVlBTmNLRlBYYnpEbHZZTExhMlpSODNiNjlGUXJBcHdmVFlVMGlyZ21VTHZoTE0tMVJwTVBHWG9NNVNjRUpDZnpFVjlWcWZ2b21DMTJVYWJuZUdhQWRfNm15bGEzVkJjeFUtclMtdTFmdHVKa1R3Si1QdnZGWFVRVlMyZG1ESUVVaDlBUnAtVGRtU080WXcwMTVENllLZ0gzLU1ncEh1MnhMYWdRVVpsR3EtTnhSQ1ZqZGZsbHFpTmtPMGY5RGg2NTljb0lWRFhxanlKZ3U3WHhqM1Vfd2ZkVGpVZV9jazVrQnJXZ05VSmt6REZTVGlfaW1WMVh5bGRIVjFwVWNUbjNCOExZOWhwRDZNZVFaMnJoWEhpcWxdLS0+PC9nPjwvc3ZnPg=='>
<h3 id="212-proxy-mode-iptables"><a class="markdownIt-Anchor" href="#212-proxy-mode-iptables"></a> 2.1.2 Proxy-mode: iptables</h3>
<ol>
<li><strong>该模式最主要的特征是：流量重定向的工作是由<code>iptable</code>完成的，也就是在内核空间完成的</strong></li>
<li><code>kube-proxy</code>会监听<code>Service</code>、<code>Endpoint</code>的变化，并且更新<code>iptable</code>的路由表</li>
<li>更高效、安全，但是灵活性较差（当某个<code>Pod</code>没有应答时，不会尝试其他<code>Pod</code>）</li>
</ol>
<p><img src="/images/Kubernetes-Concept/proxy-mode-iptables.svg" alt="proxy-mode-iptables" /></p>
<p>在<code>Pod</code>中访问<code>Service</code>的时序图如下</p>
<img src='data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXMtYXNjaWkiIHN0YW5kYWxvbmU9Im5vIj8+PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBjb250ZW50U3R5bGVUeXBlPSJ0ZXh0L2NzcyIgaGVpZ2h0PSIyNTdweCIgcHJlc2VydmVBc3BlY3RSYXRpbz0ibm9uZSIgc3R5bGU9IndpZHRoOjU1NHB4O2hlaWdodDoyNTdweDtiYWNrZ3JvdW5kOiNFRUVCREM7IiB2ZXJzaW9uPSIxLjEiIHZpZXdCb3g9IjAgMCA1NTQgMjU3IiB3aWR0aD0iNTU0cHgiIHpvb21BbmRQYW49Im1hZ25pZnkiPjxkZWZzLz48Zz48cmVjdCBmaWxsPSIjRUVFQkRDIiBoZWlnaHQ9IjI1NyIgc3R5bGU9InN0cm9rZTpub25lO3N0cm9rZS13aWR0aDoxLjA7IiB3aWR0aD0iNTU0IiB4PSIwIiB5PSIwIi8+PHBhdGggZD0iTTI3LDM5Ljc4OTEgTDI3LjI4MDIsMzkuNzg5MSBMMjYuNDQ3Niw0OS43MTQ4IEwyNy4yNTc3LDU5LjY0MDYgTDI3LjUzMjksNjkuNTY2NCBMMjYuMDQ4OCw3OS40OTIyIEwyNi44OTY0LDg5LjQxOCBMMjYuNDMxMyw5OS4zNDM4IEwyNi40ODg3LDEwOS4yNjk1IEwyNi45MDkxLDExOS4xOTUzIEwyNi4wNzgyLDEyOS4xMjExIEwyNy43MzgyLDEzOS4wNDY5IEwyNi4xNTk2LDE0OC45NzI3IEwyNi43MzYzLDE1OC44OTg0IEwyNy41NzU5LDE2OC44MjQyIEwyNi44ODU2LDE3OC43NSBMMjcuMDkxLDE4OC42NzU4IEwyNi45NTc0LDE5OC42MDE2IEwyNy4yMzgsMjA4LjUyNzMgTDI3LDIxOC40NTMxICIgZmlsbD0ibm9uZSIgc3R5bGU9InN0cm9rZTojMDAwMEZGO3N0cm9rZS13aWR0aDowLjU7c3Ryb2tlLWRhc2hhcnJheTo1LjAsNS4wOyIvPjxwYXRoIGQ9Ik0yNjAsMzkuNzg5MSBMMjYwLjI4MDIsMzkuNzg5MSBMMjU5LjQ0NzYsNDkuNzE0OCBMMjYwLjI1NzcsNTkuNjQwNiBMMjYwLjUzMjksNjkuNTY2NCBMMjU5LjA0ODgsNzkuNDkyMiBMMjU5Ljg5NjQsODkuNDE4IEwyNTkuNDMxMyw5OS4zNDM4IEwyNTkuNDg4NywxMDkuMjY5NSBMMjU5LjkwOTEsMTE5LjE5NTMgTDI1OS4wNzgyLDEyOS4xMjExIEwyNjAuNzM4MiwxMzkuMDQ2OSBMMjU5LjE1OTYsMTQ4Ljk3MjcgTDI1OS43MzYzLDE1OC44OTg0IEwyNjAuNTc1OSwxNjguODI0MiBMMjU5Ljg4NTYsMTc4Ljc1IEwyNjAuMDkxLDE4OC42NzU4IEwyNTkuOTU3NCwxOTguNjAxNiBMMjYwLjIzOCwyMDguNTI3MyBMMjYwLDIxOC40NTMxICIgZmlsbD0ibm9uZSIgc3R5bGU9InN0cm9rZTojMDAwMEZGO3N0cm9rZS13aWR0aDowLjU7c3Ryb2tlLWRhc2hhcnJheTo1LjAsNS4wOyIvPjxwYXRoIGQ9Ik0zNTIsMzkuNzg5MSBMMzUyLjI4MDIsMzkuNzg5MSBMMzUxLjQ0NzYsNDkuNzE0OCBMMzUyLjI1NzcsNTkuNjQwNiBMMzUyLjUzMjksNjkuNTY2NCBMMzUxLjA0ODgsNzkuNDkyMiBMMzUxLjg5NjQsODkuNDE4IEwzNTEuNDMxMyw5OS4zNDM4IEwzNTEuNDg4NywxMDkuMjY5NSBMMzUxLjkwOTEsMTE5LjE5NTMgTDM1MS4wNzgyLDEyOS4xMjExIEwzNTIuNzM4MiwxMzkuMDQ2OSBMMzUxLjE1OTYsMTQ4Ljk3MjcgTDM1MS43MzYzLDE1OC44OTg0IEwzNTIuNTc1OSwxNjguODI0MiBMMzUxLjg4NTYsMTc4Ljc1IEwzNTIuMDkxLDE4OC42NzU4IEwzNTEuOTU3NCwxOTguNjAxNiBMMzUyLjIzOCwyMDguNTI3MyBMMzUyLDIxOC40NTMxICIgZmlsbD0ibm9uZSIgc3R5bGU9InN0cm9rZTojMDAwMEZGO3N0cm9rZS13aWR0aDowLjU7c3Ryb2tlLWRhc2hhcnJheTo1LjAsNS4wOyIvPjxwYXRoIGQ9Ik01MDQuNSwzOS43ODkxIEw1MDQuNzgwMiwzOS43ODkxIEw1MDMuOTQ3Niw0OS43MTQ4IEw1MDQuNzU3Nyw1OS42NDA2IEw1MDUuMDMyOSw2OS41NjY0IEw1MDMuNTQ4OCw3OS40OTIyIEw1MDQuMzk2NCw4OS40MTggTDUwMy45MzEzLDk5LjM0MzggTDUwMy45ODg3LDEwOS4yNjk1IEw1MDQuNDA5MSwxMTkuMTk1MyBMNTAzLjU3ODIsMTI5LjEyMTEgTDUwNS4yMzgyLDEzOS4wNDY5IEw1MDMuNjU5NiwxNDguOTcyNyBMNTA0LjIzNjMsMTU4Ljg5ODQgTDUwNS4wNzU5LDE2OC44MjQyIEw1MDQuMzg1NiwxNzguNzUgTDUwNC41OTEsMTg4LjY3NTggTDUwNC40NTc0LDE5OC42MDE2IEw1MDQuNzM4LDIwOC41MjczIEw1MDQuNSwyMTguNDUzMSAiIGZpbGw9Im5vbmUiIHN0eWxlPSJzdHJva2U6IzAwMDBGRjtzdHJva2Utd2lkdGg6MC41O3N0cm9rZS1kYXNoYXJyYXk6NS4wLDUuMDsiLz48cG9seWdvbiBmaWxsPSIjMUU5MEZGIiBwb2ludHM9IjcuNSw1LDcuNSw1LjA3MDEsMTUuMyw0Ljg2MTksMjMuMSw1LjA2NDQsMzAuOSw1LjEzMzIsMzguNyw0Ljc2MjIsNDYuNSw1LDQ2LjQ5MDEsNC45NzYxLDQ2Ljc5OTEsNS4wMTUxLDQ3LjE1ODIsNS4xNzQ4LDQ3LjU1Miw1LjQxODQsNDcuODI2LDUuMzcyOSw0OC4yNjc4LDUuNzMyMiw0OC40MzgzLDUuODAyOSw0OC4yMjAxLDYuMDA1NCw0OC40OTk4LDYuNDE0MSw0OC44NDAxLDYuODQ4LDQ4LjgyNzEsNy4xMzU1LDQ5LDcuNSw0OS4wMjI3LDcuNSw0OC45ODk0LDEzLjI1NzgsNDkuMDU5NSwxOS4wMTU2LDQ5LjA3OTcsMjQuNzczNCw0OS4xOTUyLDMwLjUzMTMsNDksMzYuMjg5MSw0OS4yMDY3LDM2LjM3NDcsNDkuMDYyNywzNi43MjkzLDQ4Ljc4NTUsMzcuMDI4Niw0OC43MDM0LDM3LjQwODksNDguNjMwNSwzNy43OTI5LDQ4LjI2NzgsMzguMDU2OCw0OC4xNzU4LDM3LjgzNDcsNDguMDAwOCwzOC40MTIyLDQ3LjUyMjgsMzguMjU4NCw0Ny4yNzUyLDM4LjY2MDYsNDYuNzkwNCwzOC40OTAyLDQ2LjUsMzguNzg5MSw0Ni41LDM4Ljc2NjIsMzguNywzOS4wMzYzLDMwLjksMzguNzcyOCwyMy4xLDM4LjgyNDIsMTUuMywzOC45MDE5LDcuNSwzOC43ODkxLDcuNTUzMSwzOC45MTcyLDcuMTQ1OSwzOC42NDE0LDYuODI5NSwzOC41ODQ2LDYuMzY2MywzOC4xNzM0LDYuMTIyMSwzOC4yOTA5LDUuNzMyMiwzOC4wNTY4LDUuOTAxMSwzOC4xMjY4LDUuNzIyNywzNy43Niw1LjYyODEsMzcuNDI3OSw1LjE0NDEsMzYuOTM0NSw0Ljk0NTYsMzYuNTU5NCw1LDM2LjI4OTEsNC43OTI5LDM2LjI4OTEsNC45ODA0LDMwLjUzMTMsNC45MzQ1LDI0Ljc3MzQsNS4yMjcxLDE5LjAxNTYsNC45NDE4LDEzLjI1NzgsNSw3LjUsNC44OTQ0LDcuNDU2Miw1LjIxNjcsNy4xNzU2LDUuMDg3NSw2LjcwNzgsNS4yNzk1LDYuMzczMSw1Ljc4NTYsNi4xNjg2LDUuNzMyMiw1LjczMjIsNS43ODc4LDUuODY2NCw2LjE3OTUsNS44MTIsNi4zOTgzLDUuMzQwMiw2LjgzMzYsNS4zOTEyLDcuMjIxOCw1LjMyODMsNy41LDUiIHN0eWxlPSJzdHJva2U6IzAwQkZGRjtzdHJva2Utd2lkdGg6MC41OyIvPjx0ZXh0IGZpbGw9IiNBOURDREYiIGZvbnQtZmFtaWx5PSJJbXBhY3QiIGZvbnQtc2l6ZT0iMTciIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMzAiIHg9IjEyIiB5PSIyNy43Nzk4Ij5Qb2Q8L3RleHQ+PHBvbHlnb24gZmlsbD0iIzFFOTBGRiIgcG9pbnRzPSI3LjUsMjE3LjQ1MzEsNy41LDIxNy41MjMyLDE1LjMsMjE3LjMxNSwyMy4xLDIxNy41MTc2LDMwLjksMjE3LjU4NjQsMzguNywyMTcuMjE1Myw0Ni41LDIxNy40NTMxLDQ2LjQ5MDEsMjE3LjQyOTIsNDYuNzk5MSwyMTcuNDY4Miw0Ny4xNTgyLDIxNy42Mjc5LDQ3LjU1MiwyMTcuODcxNSw0Ny44MjYsMjE3LjgyNiw0OC4yNjc4LDIxOC4xODU0LDQ4LjQzODMsMjE4LjI1Niw0OC4yMjAxLDIxOC40NTg1LDQ4LjQ5OTgsMjE4Ljg2NzIsNDguODQwMSwyMTkuMzAxMSw0OC44MjcxLDIxOS41ODg2LDQ5LDIxOS45NTMxLDQ5LjAyMjcsMjE5Ljk1MzEsNDguOTg5NCwyMjUuNzEwOSw0OS4wNTk1LDIzMS40Njg4LDQ5LjA3OTcsMjM3LjIyNjYsNDkuMTk1MiwyNDIuOTg0NCw0OSwyNDguNzQyMiw0OS4yMDY3LDI0OC44Mjc4LDQ5LjA2MjcsMjQ5LjE4MjQsNDguNzg1NSwyNDkuNDgxOCw0OC43MDM0LDI0OS44NjIsNDguNjMwNSwyNTAuMjQ2LDQ4LjI2NzgsMjUwLjUxLDQ4LjE3NTgsMjUwLjI4NzksNDguMDAwOCwyNTAuODY1NCw0Ny41MjI4LDI1MC43MTE1LDQ3LjI3NTIsMjUxLjExMzcsNDYuNzkwNCwyNTAuOTQzMyw0Ni41LDI1MS4yNDIyLDQ2LjUsMjUxLjIxOTQsMzguNywyNTEuNDg5NCwzMC45LDI1MS4yMjU5LDIzLjEsMjUxLjI3NzMsMTUuMywyNTEuMzU1MSw3LjUsMjUxLjI0MjIsNy41NTMxLDI1MS4zNzA0LDcuMTQ1OSwyNTEuMDk0NSw2LjgyOTUsMjUxLjAzNzcsNi4zNjYzLDI1MC42MjY2LDYuMTIyMSwyNTAuNzQ0LDUuNzMyMiwyNTAuNTEsNS45MDExLDI1MC41Nzk5LDUuNzIyNywyNTAuMjEzMSw1LjYyODEsMjQ5Ljg4MSw1LjE0NDEsMjQ5LjM4NzcsNC45NDU2LDI0OS4wMTI1LDUsMjQ4Ljc0MjIsNC43OTI5LDI0OC43NDIyLDQuOTgwNCwyNDIuOTg0NCw0LjkzNDUsMjM3LjIyNjYsNS4yMjcxLDIzMS40Njg4LDQuOTQxOCwyMjUuNzEwOSw1LDIxOS45NTMxLDQuODk0NCwyMTkuOTA5NCw1LjIxNjcsMjE5LjYyODcsNS4wODc1LDIxOS4xNjEsNS4yNzk1LDIxOC44MjYyLDUuNzg1NiwyMTguNjIxNyw1LjczMjIsMjE4LjE4NTQsNS43ODc4LDIxOC4zMTk1LDYuMTc5NSwyMTguMjY1MSw2LjM5ODMsMjE3Ljc5MzQsNi44MzM2LDIxNy44NDQzLDcuMjIxOCwyMTcuNzgxNCw3LjUsMjE3LjQ1MzEiIHN0eWxlPSJzdHJva2U6IzAwQkZGRjtzdHJva2Utd2lkdGg6MC41OyIvPjx0ZXh0IGZpbGw9IiNBOURDREYiIGZvbnQtZmFtaWx5PSJJbXBhY3QiIGZvbnQtc2l6ZT0iMTciIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMzAiIHg9IjEyIiB5PSIyNDAuMjMyOSI+UG9kPC90ZXh0Pjxwb2x5Z29uIGZpbGw9IiMxRTkwRkYiIHBvaW50cz0iMjE5LjUsNSwyMTkuNSw1LjIxMDIsMjI5LjYyNSw0LjU4NTcsMjM5Ljc1LDUuMTkzMywyNDkuODc1LDUuMzk5NywyNjAsNC4yODY2LDI3MC4xMjUsNC45MjIzLDI4MC4yNSw0LjU3MzUsMjkwLjM3NSw0LjYxNjUsMzAwLjUsNSwzMDAuNDkxMyw0Ljk3OSwzMDAuNzY1NCw0LjkzMzUsMzAxLjI3NzcsNS40NjM0LDMwMS40ODAzLDUuMjQ1MiwzMDEuODg5LDUuNTI0OSwzMDIuMjY3OCw1LjczMjIsMzAyLjQwMDgsNS43ODczLDMwMi4zODc4LDYuMDc0OCwzMDIuNTgxNyw2LjQ0OCwzMDIuNjk3Myw2Ljc4ODgsMzAyLjkwODUsNy4xNjkyLDMwMyw3LjUsMzAzLjA3OTcsNy41LDMwMy4xOTUyLDEzLjI1NzgsMzAzLjIyMzcsMTkuMDE1NiwzMDMuMjI2NCwyNC43NzM0LDMwMy4wODQ5LDMwLjUzMTMsMzAzLDM2LjI4OTEsMzAzLjE0MjgsMzYuMzQ4MiwzMDMuMDY5OCwzNi43MzIyLDMwMi40ODUsMzYuOTA0MiwzMDIuNzY5NiwzNy40MzYzLDMwMi4zMjI5LDM3LjY2NTUsMzAyLjI2NzgsMzguMDU2OCwzMDIuMzM1OSwzOC4yMjEyLDMwMS44NTExLDM4LjA1MDgsMzAxLjU1MTksMzguMzI4NiwzMDEuMzAxNywzOC43MjQ2LDMwMC44NDczLDM4LjYyNzYsMzAwLjUsMzguNzg5MSwzMDAuNSwzOC44OTQ0LDI5MC4zNzUsMzkuMTI3NywyODAuMjUsMzkuMjA1MywyNzAuMTI1LDM4Ljc4NTIsMjYwLDM5LjA3NjMsMjQ5Ljg3NSwzOC4yMTY2LDIzOS43NSwzOS4wNzM0LDIyOS42MjUsMzkuMzM3MywyMTkuNSwzOC43ODkxLDIxOS41NTY3LDM4LjkyNiwyMTkuMjI0NiwzOC44MzE0LDIxOC43MzEzLDM4LjM0NzQsMjE4LjM1NjEsMzguMTQ4OSwyMTguMDA2NSwzOC4wMTE5LDIxNy43MzIyLDM4LjA1NjgsMjE3LjcxNDEsMzguMDQ5MywyMTcuNTI1MywzNy42NzgyLDIxNy42NDkyLDM3LjQzNjYsMjE3LjIzOTEsMzYuOTczOSwyMTcuMDQwOCwzNi41OTg5LDIxNywzNi4yODkxLDIxNy4wNzYxLDM2LjI4OTEsMjE2Ljc3NzcsMzAuNTMxMywyMTYuODI3LDI0Ljc3MzQsMjE3LjIxNjMsMTkuMDE1NiwyMTcuMTQ1MiwxMy4yNTc4LDIxNyw3LjUsMjE3LjIyNjIsNy41OTM3LDIxNy4wNDczLDcuMTA1NCwyMTcuMzkxMiw2LjgzMzYsMjE3LjYyMTIsNi41MTQ3LDIxNy40NDAzLDYuMDI1NSwyMTcuNzMyMiw1LjczMjIsMjE3LjcyLDUuNzAyNywyMTguMTAxOSw1LjYyNDYsMjE4LjUyMjUsNS42NDAxLDIxOC43OTI0LDUuMjkxNiwyMTkuMjA1NSw1LjI4ODksMjE5LjUsNSIgc3R5bGU9InN0cm9rZTojMDBCRkZGO3N0cm9rZS13aWR0aDowLjU7Ii8+PHRleHQgZmlsbD0iI0E5RENERiIgZm9udC1mYW1pbHk9IkltcGFjdCIgZm9udC1zaXplPSIxNyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI3MiIgeD0iMjI0IiB5PSIyNy43Nzk4Ij5jb3JlRE5TPC90ZXh0Pjxwb2x5Z29uIGZpbGw9IiMxRTkwRkYiIHBvaW50cz0iMjE5LjUsMjE3LjQ1MzEsMjE5LjUsMjE3LjY2MzMsMjI5LjYyNSwyMTcuMDM4OCwyMzkuNzUsMjE3LjY0NjQsMjQ5Ljg3NSwyMTcuODUyOCwyNjAsMjE2LjczOTcsMjcwLjEyNSwyMTcuMzc1NCwyODAuMjUsMjE3LjAyNjYsMjkwLjM3NSwyMTcuMDY5NiwzMDAuNSwyMTcuNDUzMSwzMDAuNDkxMywyMTcuNDMyMSwzMDAuNzY1NCwyMTcuMzg2NywzMDEuMjc3NywyMTcuOTE2NSwzMDEuNDgwMywyMTcuNjk4NCwzMDEuODg5LDIxNy45NzgsMzAyLjI2NzgsMjE4LjE4NTQsMzAyLjQwMDgsMjE4LjI0MDUsMzAyLjM4NzgsMjE4LjUyOCwzMDIuNTgxNywyMTguOTAxMiwzMDIuNjk3MywyMTkuMjQxOSwzMDIuOTA4NSwyMTkuNjIyMywzMDMsMjE5Ljk1MzEsMzAzLjA3OTcsMjE5Ljk1MzEsMzAzLjE5NTIsMjI1LjcxMDksMzAzLjIyMzcsMjMxLjQ2ODgsMzAzLjIyNjQsMjM3LjIyNjYsMzAzLjA4NDksMjQyLjk4NDQsMzAzLDI0OC43NDIyLDMwMy4xNDI4LDI0OC44MDEzLDMwMy4wNjk4LDI0OS4xODUzLDMwMi40ODUsMjQ5LjM1NzMsMzAyLjc2OTYsMjQ5Ljg4OTQsMzAyLjMyMjksMjUwLjExODYsMzAyLjI2NzgsMjUwLjUxLDMwMi4zMzU5LDI1MC42NzQzLDMwMS44NTExLDI1MC41MDQsMzAxLjU1MTksMjUwLjc4MTgsMzAxLjMwMTcsMjUxLjE3NzcsMzAwLjg0NzMsMjUxLjA4MDcsMzAwLjUsMjUxLjI0MjIsMzAwLjUsMjUxLjM0NzUsMjkwLjM3NSwyNTEuNTgwOCwyODAuMjUsMjUxLjY1ODQsMjcwLjEyNSwyNTEuMjM4MywyNjAsMjUxLjUyOTQsMjQ5Ljg3NSwyNTAuNjY5OCwyMzkuNzUsMjUxLjUyNjYsMjI5LjYyNSwyNTEuNzkwNCwyMTkuNSwyNTEuMjQyMiwyMTkuNTU2NywyNTEuMzc5MSwyMTkuMjI0NiwyNTEuMjg0NSwyMTguNzMxMywyNTAuODAwNSwyMTguMzU2MSwyNTAuNjAyLDIxOC4wMDY1LDI1MC40NjUsMjE3LjczMjIsMjUwLjUxLDIxNy43MTQxLDI1MC41MDI0LDIxNy41MjUzLDI1MC4xMzEzLDIxNy42NDkyLDI0OS44ODk4LDIxNy4yMzkxLDI0OS40MjcsMjE3LjA0MDgsMjQ5LjA1MiwyMTcsMjQ4Ljc0MjIsMjE3LjA3NjEsMjQ4Ljc0MjIsMjE2Ljc3NzcsMjQyLjk4NDQsMjE2LjgyNywyMzcuMjI2NiwyMTcuMjE2MywyMzEuNDY4OCwyMTcuMTQ1MiwyMjUuNzEwOSwyMTcsMjE5Ljk1MzEsMjE3LjIyNjIsMjIwLjA0NjgsMjE3LjA0NzMsMjE5LjU1ODUsMjE3LjM5MTIsMjE5LjI4NjcsMjE3LjYyMTIsMjE4Ljk2NzgsMjE3LjQ0MDMsMjE4LjQ3ODcsMjE3LjczMjIsMjE4LjE4NTQsMjE3LjcyLDIxOC4xNTU4LDIxOC4xMDE5LDIxOC4wNzc3LDIxOC41MjI1LDIxOC4wOTMyLDIxOC43OTI0LDIxNy43NDQ3LDIxOS4yMDU1LDIxNy43NDIsMjE5LjUsMjE3LjQ1MzEiIHN0eWxlPSJzdHJva2U6IzAwQkZGRjtzdHJva2Utd2lkdGg6MC41OyIvPjx0ZXh0IGZpbGw9IiNBOURDREYiIGZvbnQtZmFtaWx5PSJJbXBhY3QiIGZvbnQtc2l6ZT0iMTciIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNzIiIHg9IjIyNCIgeT0iMjQwLjIzMjkiPmNvcmVETlM8L3RleHQ+PHBvbHlnb24gZmlsbD0iIzFFOTBGRiIgcG9pbnRzPSIzMTUuNSw1LDMxNS41LDUuMjEwMiwzMjYuMDcxNCw0LjU4NTcsMzM2LjY0MjksNS4xOTMzLDM0Ny4yMTQzLDUuMzk5NywzNTcuNzg1Nyw0LjI4NjYsMzY4LjM1NzEsNC45MjIzLDM3OC45Mjg2LDQuNTczNSwzODkuNSw1LDM4OS40NTExLDQuODgxOSwzODkuODQ0OSw1LjEyNTUsMzkwLjExODksNS4wOCwzOTAuNjMxMyw1LjYwOTgsMzkwLjgzMzgsNS4zOTE3LDM5MS4yNjc4LDUuNzMyMiwzOTEuMjA2OSw1LjcwNywzOTEuNTQ3Miw2LjE0MDksMzkxLjUzNDIsNi40Mjg0LDM5MS43MjgxLDYuODAxNiwzOTEuODQzNyw3LjE0MjQsMzkyLDcuNSwzOTIuMDU5NSw3LjUsMzkyLjA3OTcsMTMuMjU3OCwzOTIuMTk1MiwxOS4wMTU2LDM5Mi4yMjM3LDI0Ljc3MzQsMzkyLjIyNjQsMzAuNTMxMywzOTIsMzYuMjg5MSwzOTIuMDc4NCwzNi4zMjE1LDM5MS45OTYzLDM2LjcwMTgsMzkxLjkyMzQsMzcuMDg1NywzOTEuMzM4NiwzNy4yNTc3LDM5MS42MjMyLDM3Ljc4OTgsMzkxLjI2NzgsMzguMDU2OCwzOTEuMjI5OSwzNy45NjU1LDM5MC45ODIzLDM4LjM2NzcsMzkwLjQ5NzUsMzguMTk3MywzOTAuMTk4NCwzOC40NzUxLDM4OS45NDgyLDM4Ljg3MSwzODkuNSwzOC43ODkxLDM4OS41LDM4Ljc0MDMsMzc4LjkyODYsMzguODk0NCwzNjguMzU3MSwzOS4xMjc3LDM1Ny43ODU3LDM5LjIwNTMsMzQ3LjIxNDMsMzguNzg1MiwzMzYuNjQyOSwzOS4wNzYzLDMyNi4wNzE0LDM4LjIxNjYsMzE1LjUsMzguNzg5MSwzMTUuNTM2MywzOC44NzY2LDMxNS4yMTY0LDM4LjgxMTQsMzE0Ljg0OTYsMzguNjMzMSwzMTQuNTE3NSwzOC41Mzg1LDMxNC4wMjQyLDM4LjA1NDUsMzEzLjczMjIsMzguMDU2OCwzMTMuNTMxNCwzNy45NzM2LDMxMy4zOTQ0LDM3LjYyNCwzMTMuNDIxMiwzNy4zNDIyLDMxMy4yMzI0LDM2Ljk3MTEsMzEzLjM1NjMsMzYuNzI5NSwzMTMsMzYuMjg5MSwzMTIuOTQxOCwzNi4yODkxLDMxMi44ODU2LDMwLjUzMTMsMzEzLjA3NjEsMjQuNzczNCwzMTIuNzc3NywxOS4wMTU2LDMxMi44MjcsMTMuMjU3OCwzMTMsNy41LDMxMy4xOTk5LDcuNTgyOCwzMTMuMjgwNiw3LjIwMiwzMTMuNTE5MSw2Ljg4NjYsMzEzLjM0MDIsNi4zOTgzLDMxMy42ODQxLDYuMTI2NSwzMTMuNzMyMiw1LjczMjIsMzEzLjgwNzUsNS45MTQxLDMxNC4wMjU1LDUuNDQwMywzMTQuNDI3MSw1LjQwOTgsMzE0LjgwOSw1LjMzMTcsMzE1LjIyOTYsNS4zNDcyLDMxNS41LDUiIHN0eWxlPSJzdHJva2U6IzAwQkZGRjtzdHJva2Utd2lkdGg6MC41OyIvPjx0ZXh0IGZpbGw9IiNBOURDREYiIGZvbnQtZmFtaWx5PSJJbXBhY3QiIGZvbnQtc2l6ZT0iMTciIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNjUiIHg9IjMyMCIgeT0iMjcuNzc5OCI+aXB0YWJsZXM8L3RleHQ+PHBvbHlnb24gZmlsbD0iIzFFOTBGRiIgcG9pbnRzPSIzMTUuNSwyMTcuNDUzMSwzMTUuNSwyMTcuNjYzMywzMjYuMDcxNCwyMTcuMDM4OCwzMzYuNjQyOSwyMTcuNjQ2NCwzNDcuMjE0MywyMTcuODUyOCwzNTcuNzg1NywyMTYuNzM5NywzNjguMzU3MSwyMTcuMzc1NCwzNzguOTI4NiwyMTcuMDI2NiwzODkuNSwyMTcuNDUzMSwzODkuNDUxMSwyMTcuMzM1LDM4OS44NDQ5LDIxNy41Nzg2LDM5MC4xMTg5LDIxNy41MzMxLDM5MC42MzEzLDIxOC4wNjMsMzkwLjgzMzgsMjE3Ljg0NDgsMzkxLjI2NzgsMjE4LjE4NTQsMzkxLjIwNjksMjE4LjE2MDEsMzkxLjU0NzIsMjE4LjU5NCwzOTEuNTM0MiwyMTguODgxNSwzOTEuNzI4MSwyMTkuMjU0NywzOTEuODQzNywyMTkuNTk1NSwzOTIsMjE5Ljk1MzEsMzkyLjA1OTUsMjE5Ljk1MzEsMzkyLjA3OTcsMjI1LjcxMDksMzkyLjE5NTIsMjMxLjQ2ODgsMzkyLjIyMzcsMjM3LjIyNjYsMzkyLjIyNjQsMjQyLjk4NDQsMzkyLDI0OC43NDIyLDM5Mi4wNzg0LDI0OC43NzQ3LDM5MS45OTYzLDI0OS4xNTQ5LDM5MS45MjM0LDI0OS41Mzg5LDM5MS4zMzg2LDI0OS43MTA5LDM5MS42MjMyLDI1MC4yNDMsMzkxLjI2NzgsMjUwLjUxLDM5MS4yMjk5LDI1MC40MTg2LDM5MC45ODIzLDI1MC44MjA4LDM5MC40OTc1LDI1MC42NTA0LDM5MC4xOTg0LDI1MC45MjgyLDM4OS45NDgyLDI1MS4zMjQxLDM4OS41LDI1MS4yNDIyLDM4OS41LDI1MS4xOTM1LDM3OC45Mjg2LDI1MS4zNDc1LDM2OC4zNTcxLDI1MS41ODA4LDM1Ny43ODU3LDI1MS42NTg0LDM0Ny4yMTQzLDI1MS4yMzgzLDMzNi42NDI5LDI1MS41Mjk0LDMyNi4wNzE0LDI1MC42Njk4LDMxNS41LDI1MS4yNDIyLDMxNS41MzYzLDI1MS4zMjk4LDMxNS4yMTY0LDI1MS4yNjQ2LDMxNC44NDk2LDI1MS4wODYyLDMxNC41MTc1LDI1MC45OTE2LDMxNC4wMjQyLDI1MC41MDc2LDMxMy43MzIyLDI1MC41MSwzMTMuNTMxNCwyNTAuNDI2OCwzMTMuMzk0NCwyNTAuMDc3MSwzMTMuNDIxMiwyNDkuNzk1MywzMTMuMjMyNCwyNDkuNDI0MiwzMTMuMzU2MywyNDkuMTgyNywzMTMsMjQ4Ljc0MjIsMzEyLjk0MTgsMjQ4Ljc0MjIsMzEyLjg4NTYsMjQyLjk4NDQsMzEzLjA3NjEsMjM3LjIyNjYsMzEyLjc3NzcsMjMxLjQ2ODgsMzEyLjgyNywyMjUuNzEwOSwzMTMsMjE5Ljk1MzEsMzEzLjE5OTksMjIwLjAzNTksMzEzLjI4MDYsMjE5LjY1NTEsMzEzLjUxOTEsMjE5LjMzOTcsMzEzLjM0MDIsMjE4Ljg1MTQsMzEzLjY4NDEsMjE4LjU3OTYsMzEzLjczMjIsMjE4LjE4NTQsMzEzLjgwNzUsMjE4LjM2NzIsMzE0LjAyNTUsMjE3Ljg5MzQsMzE0LjQyNzEsMjE3Ljg2MjksMzE0LjgwOSwyMTcuNzg0OCwzMTUuMjI5NiwyMTcuODAwMywzMTUuNSwyMTcuNDUzMSIgc3R5bGU9InN0cm9rZTojMDBCRkZGO3N0cm9rZS13aWR0aDowLjU7Ii8+PHRleHQgZmlsbD0iI0E5RENERiIgZm9udC1mYW1pbHk9IkltcGFjdCIgZm9udC1zaXplPSIxNyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI2NSIgeD0iMzIwIiB5PSIyNDAuMjMyOSI+aXB0YWJsZXM8L3RleHQ+PHBvbHlnb24gZmlsbD0iIzFFOTBGRiIgcG9pbnRzPSI0NjMsNSw0NjMsNS4yMTAyLDQ3My4zNzUsNC41ODU3LDQ4My43NSw1LjE5MzMsNDk0LjEyNSw1LjM5OTcsNTA0LjUsNC4yODY2LDUxNC44NzUsNC45MjIzLDUyNS4yNSw0LjU3MzUsNTM1LjYyNSw0LjYxNjUsNTQ2LDUsNTQ1Ljk5MTMsNC45NzksNTQ2LjI2NTQsNC45MzM1LDU0Ni43Nzc3LDUuNDYzNCw1NDYuOTgwMyw1LjI0NTIsNTQ3LjM4OSw1LjUyNDksNTQ3Ljc2NzgsNS43MzIyLDU0Ny45MDA4LDUuNzg3Myw1NDcuODg3OCw2LjA3NDgsNTQ4LjA4MTcsNi40NDgsNTQ4LjE5NzMsNi43ODg4LDU0OC40MDg1LDcuMTY5Miw1NDguNSw3LjUsNTQ4LjU3OTcsNy41LDU0OC42OTUyLDEzLjI1NzgsNTQ4LjcyMzcsMTkuMDE1Niw1NDguNzI2NCwyNC43NzM0LDU0OC41ODQ5LDMwLjUzMTMsNTQ4LjUsMzYuMjg5MSw1NDguNjQyOCwzNi4zNDgyLDU0OC41Njk4LDM2LjczMjIsNTQ3Ljk4NSwzNi45MDQyLDU0OC4yNjk2LDM3LjQzNjMsNTQ3LjgyMjksMzcuNjY1NSw1NDcuNzY3OCwzOC4wNTY4LDU0Ny44MzU5LDM4LjIyMTIsNTQ3LjM1MTEsMzguMDUwOCw1NDcuMDUxOSwzOC4zMjg2LDU0Ni44MDE3LDM4LjcyNDYsNTQ2LjM0NzMsMzguNjI3Niw1NDYsMzguNzg5MSw1NDYsMzguODk0NCw1MzUuNjI1LDM5LjEyNzcsNTI1LjI1LDM5LjIwNTMsNTE0Ljg3NSwzOC43ODUyLDUwNC41LDM5LjA3NjMsNDk0LjEyNSwzOC4yMTY2LDQ4My43NSwzOS4wNzM0LDQ3My4zNzUsMzkuMzM3Myw0NjMsMzguNzg5MSw0NjMuMDU2NywzOC45MjYsNDYyLjcyNDYsMzguODMxNCw0NjIuMjMxMywzOC4zNDc0LDQ2MS44NTYxLDM4LjE0ODksNDYxLjUwNjUsMzguMDExOSw0NjEuMjMyMiwzOC4wNTY4LDQ2MS4yMTQxLDM4LjA0OTMsNDYxLjAyNTMsMzcuNjc4Miw0NjEuMTQ5MiwzNy40MzY2LDQ2MC43MzkxLDM2Ljk3MzksNDYwLjU0MDgsMzYuNTk4OSw0NjAuNSwzNi4yODkxLDQ2MC41NzYxLDM2LjI4OTEsNDYwLjI3NzcsMzAuNTMxMyw0NjAuMzI3LDI0Ljc3MzQsNDYwLjcxNjMsMTkuMDE1Niw0NjAuNjQ1MiwxMy4yNTc4LDQ2MC41LDcuNSw0NjAuNzI2Miw3LjU5MzcsNDYwLjU0NzMsNy4xMDU0LDQ2MC44OTEyLDYuODMzNiw0NjEuMTIxMiw2LjUxNDcsNDYwLjk0MDMsNi4wMjU1LDQ2MS4yMzIyLDUuNzMyMiw0NjEuMjIsNS43MDI3LDQ2MS42MDE5LDUuNjI0Niw0NjIuMDIyNSw1LjY0MDEsNDYyLjI5MjQsNS4yOTE2LDQ2Mi43MDU1LDUuMjg4OSw0NjMsNSIgc3R5bGU9InN0cm9rZTojMDBCRkZGO3N0cm9rZS13aWR0aDowLjU7Ii8+PHRleHQgZmlsbD0iI0E5RENERiIgZm9udC1mYW1pbHk9IkltcGFjdCIgZm9udC1zaXplPSIxNyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI3NCIgeD0iNDY3LjUiIHk9IjI3Ljc3OTgiPmVuZHBvaW50PC90ZXh0Pjxwb2x5Z29uIGZpbGw9IiMxRTkwRkYiIHBvaW50cz0iNDYzLDIxNy40NTMxLDQ2MywyMTcuNjYzMyw0NzMuMzc1LDIxNy4wMzg4LDQ4My43NSwyMTcuNjQ2NCw0OTQuMTI1LDIxNy44NTI4LDUwNC41LDIxNi43Mzk3LDUxNC44NzUsMjE3LjM3NTQsNTI1LjI1LDIxNy4wMjY2LDUzNS42MjUsMjE3LjA2OTYsNTQ2LDIxNy40NTMxLDU0NS45OTEzLDIxNy40MzIxLDU0Ni4yNjU0LDIxNy4zODY3LDU0Ni43Nzc3LDIxNy45MTY1LDU0Ni45ODAzLDIxNy42OTg0LDU0Ny4zODksMjE3Ljk3OCw1NDcuNzY3OCwyMTguMTg1NCw1NDcuOTAwOCwyMTguMjQwNSw1NDcuODg3OCwyMTguNTI4LDU0OC4wODE3LDIxOC45MDEyLDU0OC4xOTczLDIxOS4yNDE5LDU0OC40MDg1LDIxOS42MjIzLDU0OC41LDIxOS45NTMxLDU0OC41Nzk3LDIxOS45NTMxLDU0OC42OTUyLDIyNS43MTA5LDU0OC43MjM3LDIzMS40Njg4LDU0OC43MjY0LDIzNy4yMjY2LDU0OC41ODQ5LDI0Mi45ODQ0LDU0OC41LDI0OC43NDIyLDU0OC42NDI4LDI0OC44MDEzLDU0OC41Njk4LDI0OS4xODUzLDU0Ny45ODUsMjQ5LjM1NzMsNTQ4LjI2OTYsMjQ5Ljg4OTQsNTQ3LjgyMjksMjUwLjExODYsNTQ3Ljc2NzgsMjUwLjUxLDU0Ny44MzU5LDI1MC42NzQzLDU0Ny4zNTExLDI1MC41MDQsNTQ3LjA1MTksMjUwLjc4MTgsNTQ2LjgwMTcsMjUxLjE3NzcsNTQ2LjM0NzMsMjUxLjA4MDcsNTQ2LDI1MS4yNDIyLDU0NiwyNTEuMzQ3NSw1MzUuNjI1LDI1MS41ODA4LDUyNS4yNSwyNTEuNjU4NCw1MTQuODc1LDI1MS4yMzgzLDUwNC41LDI1MS41Mjk0LDQ5NC4xMjUsMjUwLjY2OTgsNDgzLjc1LDI1MS41MjY2LDQ3My4zNzUsMjUxLjc5MDQsNDYzLDI1MS4yNDIyLDQ2My4wNTY3LDI1MS4zNzkxLDQ2Mi43MjQ2LDI1MS4yODQ1LDQ2Mi4yMzEzLDI1MC44MDA1LDQ2MS44NTYxLDI1MC42MDIsNDYxLjUwNjUsMjUwLjQ2NSw0NjEuMjMyMiwyNTAuNTEsNDYxLjIxNDEsMjUwLjUwMjQsNDYxLjAyNTMsMjUwLjEzMTMsNDYxLjE0OTIsMjQ5Ljg4OTgsNDYwLjczOTEsMjQ5LjQyNyw0NjAuNTQwOCwyNDkuMDUyLDQ2MC41LDI0OC43NDIyLDQ2MC41NzYxLDI0OC43NDIyLDQ2MC4yNzc3LDI0Mi45ODQ0LDQ2MC4zMjcsMjM3LjIyNjYsNDYwLjcxNjMsMjMxLjQ2ODgsNDYwLjY0NTIsMjI1LjcxMDksNDYwLjUsMjE5Ljk1MzEsNDYwLjcyNjIsMjIwLjA0NjgsNDYwLjU0NzMsMjE5LjU1ODUsNDYwLjg5MTIsMjE5LjI4NjcsNDYxLjEyMTIsMjE4Ljk2NzgsNDYwLjk0MDMsMjE4LjQ3ODcsNDYxLjIzMjIsMjE4LjE4NTQsNDYxLjIyLDIxOC4xNTU4LDQ2MS42MDE5LDIxOC4wNzc3LDQ2Mi4wMjI1LDIxOC4wOTMyLDQ2Mi4yOTI0LDIxNy43NDQ3LDQ2Mi43MDU1LDIxNy43NDIsNDYzLDIxNy40NTMxIiBzdHlsZT0ic3Ryb2tlOiMwMEJGRkY7c3Ryb2tlLXdpZHRoOjAuNTsiLz48dGV4dCBmaWxsPSIjQTlEQ0RGIiBmb250LWZhbWlseT0iSW1wYWN0IiBmb250LXNpemU9IjE3IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9Ijc0IiB4PSI0NjcuNSIgeT0iMjQwLjIzMjkiPmVuZHBvaW50PC90ZXh0Pjxwb2x5Z29uIGZpbGw9IiMwMEJGRkYiIHBvaW50cz0iMjQ4LDY2LjkyMTksMjQ4LjAyNiw2Ni45ODY5LDI0OS45NDg3LDY3LjU5MzYsMjUyLjAyMzksNjguNTgxNywyNTQuMDQ5NSw2OS40NDU2LDI1NS45MTE3LDY5LjkwMTEsMjU4LDcwLjkyMTksMjU3Ljk5MDQsNzAuODk3OCwyNTUuOTQ3Miw3MS41ODk5LDI1My45NTI1LDcyLjQwMzIsMjUxLjk5MTYsNzMuMzAwOCwyNDkuOTE0NCw3My45MDc5LDI0OCw3NC45MjE5LDI0OC4xMzA1LDc1LjA1MjQsMjQ4LjY1MTQsNzMuOTczMywyNDkuNTUzNCw3My4yNzUzLDI1MC41MDE4LDcyLjYyMzcsMjUxLjE3OTgsNzEuNzAxNywyNTIsNzAuOTIxOSwyNTIuMDE2MSw3MC45MzgsMjUxLjE5MjUsNzAuMTE0MywyNTAuNDQyMSw2OS4zNjQsMjQ5LjY1NjQsNjguNTc4MiwyNDguOTM4LDY3Ljg1OTksMjQ4LDY2LjkyMTkiIHN0eWxlPSJzdHJva2U6IzAwQkZGRjtzdHJva2Utd2lkdGg6MS4wOyIvPjxwYXRoIGQ9Ik0yNyw3MC45MjE5IEwyNyw3MS4yMDIxIEwzNi44Njk2LDcwLjM2OTQgTDQ2LjczOTEsNzEuMTc5NiBMNTYuNjA4Nyw3MS40NTQ4IEw2Ni40NzgzLDY5Ljk3MDcgTDc2LjM0NzgsNzAuODE4MyBMODYuMjE3NCw3MC4zNTMyIEw5Ni4wODcsNzAuNDEwNSBMMTA1Ljk1NjUsNzAuODMxIEwxMTUuODI2MSw3MCBMMTI1LjY5NTcsNzEuNjYwMSBMMTM1LjU2NTIsNzAuMDgxNSBMMTQ1LjQzNDgsNzAuNjU4MiBMMTU1LjMwNDMsNzEuNDk3OCBMMTY1LjE3MzksNzAuODA3NSBMMTc1LjA0MzUsNzEuMDEyOSBMMTg0LjkxMyw3MC44NzkzIEwxOTQuNzgyNiw3MS4xNTk5IEwyMDQuNjUyMiw3MS4yNDA3IEwyMTQuNTIxNyw3MS43MDI4IEwyMjQuMzkxMyw3MS44MTY2IEwyMzQuMjYwOSw3MS44Mjc2IEwyNDQuMTMwNCw3MS4yNjE0IEwyNTQsNzAuOTIxOSAiIGZpbGw9Im5vbmUiIHN0eWxlPSJzdHJva2U6IzAwQkZGRjtzdHJva2Utd2lkdGg6MS4wOyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjIwOSIgeD0iMzQiIHk9IjY1Ljg1NiI+JiMyNjU5NzsmIzM1ODEwO3NlcnZpY2VOYW1lJiMyMzU0NTsmIzI0MjEyOyYjMzAzNDA7Q2x1c3RlciBJUDwvdGV4dD48cG9seWdvbiBmaWxsPSIjMDBCRkZGIiBwb2ludHM9IjM4LDk2LjA1NDcsMzguMDI2LDk2LjExOTcsMzUuOTQ4Nyw5Ni43MjY1LDM0LjAyMzksOTcuNzE0NSwzMi4wNDk1LDk4LjU3ODQsMjkuOTExNyw5OS4wMzM5LDI4LDEwMC4wNTQ3LDI3Ljk5MDQsMTAwLjAzMDYsMjkuOTQ3MiwxMDAuNzIyNywzMS45NTI1LDEwMS41MzYsMzMuOTkxNiwxMDIuNDMzNiwzNS45MTQ0LDEwMy4wNDA3LDM4LDEwNC4wNTQ3LDM4LjEzMDUsMTA0LjE4NTIsMzcuMDUxNCwxMDMuMTA2MSwzNi4zNTM0LDEwMi40MDgxLDM1LjcwMTgsMTAxLjc1NjUsMzQuNzc5OCwxMDAuODM0NSwzNCwxMDAuMDU0NywzNC4wMTYxLDEwMC4wNzA4LDM0Ljc5MjUsOTkuMjQ3MiwzNS42NDIxLDk4LjQ5NjgsMzYuNDU2NCw5Ny43MTExLDM3LjMzOCw5Ni45OTI3LDM4LDk2LjA1NDciIHN0eWxlPSJzdHJva2U6IzAwQkZGRjtzdHJva2Utd2lkdGg6MS4wOyIvPjxwYXRoIGQ9Ik0zMiwxMDAuMDU0NyBMMzIsMTAwLjMzNDkgTDQxLjg2OTYsOTkuNTAyMyBMNTEuNzM5MSwxMDAuMzEyNCBMNjEuNjA4NywxMDAuNTg3NiBMNzEuNDc4Myw5OS4xMDM1IEw4MS4zNDc4LDk5Ljk1MTEgTDkxLjIxNzQsOTkuNDg2IEwxMDEuMDg3LDk5LjU0MzQgTDExMC45NTY1LDk5Ljk2MzggTDEyMC44MjYxLDk5LjEzMjkgTDEzMC42OTU3LDEwMC43OTI5IEwxNDAuNTY1Miw5OS4yMTQzIEwxNTAuNDM0OCw5OS43OTEgTDE2MC4zMDQzLDEwMC42MzA2IEwxNzAuMTczOSw5OS45NDAzIEwxODAuMDQzNSwxMDAuMTQ1NyBMMTg5LjkxMywxMDAuMDEyMSBMMTk5Ljc4MjYsMTAwLjI5MjcgTDIwOS42NTIyLDEwMC4zNzM1IEwyMTkuNTIxNywxMDAuODM1NiBMMjI5LjM5MTMsMTAwLjk0OTQgTDIzOS4yNjA5LDEwMC45NjA0IEwyNDkuMTMwNCwxMDAuMzk0MiBMMjU5LDEwMC4wNTQ3ICIgZmlsbD0ibm9uZSIgc3R5bGU9InN0cm9rZTojMDBCRkZGO3N0cm9rZS13aWR0aDoxLjA7c3Ryb2tlLWRhc2hhcnJheToyLjAsMi4wOyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjM5IiB4PSI0NCIgeT0iOTQuOTg4OCI+cmV0dXJuPC90ZXh0Pjxwb2x5Z29uIGZpbGw9IiMwMEJGRkYiIHBvaW50cz0iMzQwLjUsMTI1LjE4NzUsMzQwLjUyNiwxMjUuMjUyNSwzNDIuNDQ4NywxMjUuODU5MywzNDQuNTIzOSwxMjYuODQ3MywzNDYuNTQ5NSwxMjcuNzExMiwzNDguNDExNywxMjguMTY2NywzNTAuNSwxMjkuMTg3NSwzNTAuNDkwNCwxMjkuMTYzNCwzNDguNDQ3MiwxMjkuODU1NSwzNDYuNDUyNSwxMzAuNjY4OCwzNDQuNDkxNiwxMzEuNTY2NCwzNDIuNDE0NCwxMzIuMTczNSwzNDAuNSwxMzMuMTg3NSwzNDAuNjMwNSwxMzMuMzE4LDM0MS4xNTE0LDEzMi4yMzg5LDM0Mi4wNTM0LDEzMS41NDA5LDM0My4wMDE4LDEzMC44ODkzLDM0My42Nzk4LDEyOS45NjczLDM0NC41LDEyOS4xODc1LDM0NC41MTYxLDEyOS4yMDM2LDM0My42OTI1LDEyOC4zOCwzNDIuOTQyMSwxMjcuNjI5NiwzNDIuMTU2NCwxMjYuODQzOSwzNDEuNDM4LDEyNi4xMjU1LDM0MC41LDEyNS4xODc1IiBzdHlsZT0ic3Ryb2tlOiMwMEJGRkY7c3Ryb2tlLXdpZHRoOjEuMDsiLz48cGF0aCBkPSJNMjcsMTI5LjE4NzUgTDI3LDEyOS40Njc3IEwzNi45ODQ0LDEyOC42MzUxIEw0Ni45Njg4LDEyOS40NDUyIEw1Ni45NTMxLDEyOS43MjA0IEw2Ni45Mzc1LDEyOC4yMzYzIEw3Ni45MjE5LDEyOS4wODM5IEw4Ni45MDYzLDEyOC42MTg4IEw5Ni44OTA2LDEyOC42NzYyIEwxMDYuODc1LDEyOS4wOTY2IEwxMTYuODU5NCwxMjguMjY1NyBMMTI2Ljg0MzgsMTI5LjkyNTcgTDEzNi44MjgxLDEyOC4zNDcxIEwxNDYuODEyNSwxMjguOTIzOCBMMTU2Ljc5NjksMTI5Ljc2MzQgTDE2Ni43ODEzLDEyOS4wNzMxIEwxNzYuNzY1NiwxMjkuMjc4NSBMMTg2Ljc1LDEyOS4xNDQ5IEwxOTYuNzM0NCwxMjkuNDI1NSBMMjA2LjcxODgsMTI5LjUwNjMgTDIxNi43MDMxLDEyOS45Njg0IEwyMjYuNjg3NSwxMzAuMDgyMiBMMjM2LjY3MTksMTMwLjA5MzIgTDI0Ni42NTYzLDEyOS41MjcgTDI1Ni42NDA2LDEyOS44MDU2IEwyNjYuNjI1LDEzMC4xMjM4IEwyNzYuNjA5NCwxMjguMjI1OSBMMjg2LjU5MzgsMTMwLjA5MjIgTDI5Ni41NzgxLDEyOC43OTIyIEwzMDYuNTYyNSwxMjkuODk5MiBMMzE2LjU0NjksMTI4LjUyNzUgTDMyNi41MzEzLDEyOS4wOTYyIEwzMzYuNTE1NiwxMzAuMTc2MyBMMzQ2LjUsMTI5LjE4NzUgIiBmaWxsPSJub25lIiBzdHlsZT0ic3Ryb2tlOiMwMEJGRkY7c3Ryb2tlLXdpZHRoOjEuMDsiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMTciIHg9IjM0IiB5PSIxMjQuMTIxNiI+dHJhZmZpYyB0byBDbHVzdGVyIElQPC90ZXh0PjxwYXRoIGQ9Ik0zNTIuNSwxNTguMzIwMyBMMzUyLjUsMTU4LjQxMzcgTDM2MC45LDE1OC4xMzYyIEwzNjkuMywxNTguNDA2MiBMMzc3LjcsMTU4LjQ5NzkgTDM4Ni4xLDE1OC4wMDMyIEwzOTQuNSwxNTguMzIwMyAiIGZpbGw9Im5vbmUiIHN0eWxlPSJzdHJva2U6IzAwQkZGRjtzdHJva2Utd2lkdGg6MS4wOyIvPjxwYXRoIGQ9Ik0zOTQuNSwxNTguMzIwMyBMMzk0LjU5MzQsMTU4LjMyMDMgTDM5NC4zMTU5LDE2MC45MjAzIEwzOTQuNTg1OSwxNjMuNTIwMyBMMzk0LjY3NzYsMTY2LjEyMDMgTDM5NC4xODI5LDE2OC43MjAzIEwzOTQuNSwxNzEuMzIwMyAiIGZpbGw9Im5vbmUiIHN0eWxlPSJzdHJva2U6IzAwQkZGRjtzdHJva2Utd2lkdGg6MS4wOyIvPjxwYXRoIGQ9Ik0zNTMuNSwxNzEuMzIwMyBMMzUzLjUsMTcxLjQxMzcgTDM2MS43LDE3MS4xMzYyIEwzNjkuOSwxNzEuNDA2MiBMMzc4LjEsMTcxLjQ5NzkgTDM4Ni4zLDE3MS4wMDMyIEwzOTQuNSwxNzEuMzIwMyAiIGZpbGw9Im5vbmUiIHN0eWxlPSJzdHJva2U6IzAwQkZGRjtzdHJva2Utd2lkdGg6MS4wOyIvPjxwb2x5Z29uIGZpbGw9IiMwMEJGRkYiIHBvaW50cz0iMzYzLjUsMTY3LjMyMDMsMzYzLjUyNiwxNjcuMzg1NCwzNjEuNDQ4NywxNjcuOTkyMSwzNTkuNTIzOSwxNjguOTgwMSwzNTcuNTQ5NSwxNjkuODQ0LDM1NS40MTE3LDE3MC4yOTk1LDM1My41LDE3MS4zMjAzLDM1My40OTA0LDE3MS4yOTYzLDM1NS40NDcyLDE3MS45ODgzLDM1Ny40NTI1LDE3Mi44MDE2LDM1OS40OTE2LDE3My42OTkyLDM2MS40MTQ0LDE3NC4zMDYzLDM2My41LDE3NS4zMjAzLDM2My42MzA1LDE3NS40NTA4LDM2Mi41NTE0LDE3NC4zNzE4LDM2MS44NTM0LDE3My42NzM3LDM2MS4yMDE4LDE3My4wMjIxLDM2MC4yNzk4LDE3Mi4xMDAxLDM1OS41LDE3MS4zMjAzLDM1OS41MTYxLDE3MS4zMzY0LDM2MC4yOTI1LDE3MC41MTI4LDM2MS4xNDIxLDE2OS43NjI0LDM2MS45NTY0LDE2OC45NzY3LDM2Mi44MzgsMTY4LjI1ODQsMzYzLjUsMTY3LjMyMDMiIHN0eWxlPSJzdHJva2U6IzAwQkZGRjtzdHJva2Utd2lkdGg6MS4wOyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjUyIiB4PSIzNTkuNSIgeT0iMTUzLjI1NDQiPiYjMzUyNjg7JiMyMTAxNzsmIzIxMzA1OyYjMzcxOTc7PC90ZXh0Pjxwb2x5Z29uIGZpbGw9IiMwMEJGRkYiIHBvaW50cz0iNDkyLjUsMTk2LjQ1MzEsNDkyLjUyNiwxOTYuNTE4Miw0OTQuNDQ4NywxOTcuMTI0OSw0OTYuNTIzOSwxOTguMTEyOSw0OTguNTQ5NSwxOTguOTc2OCw1MDAuNDExNywxOTkuNDMyMyw1MDIuNSwyMDAuNDUzMSw1MDIuNDkwNCwyMDAuNDI5MSw1MDAuNDQ3MiwyMDEuMTIxMSw0OTguNDUyNSwyMDEuOTM0NCw0OTYuNDkxNiwyMDIuODMyLDQ5NC40MTQ0LDIwMy40MzkyLDQ5Mi41LDIwNC40NTMxLDQ5Mi42MzA1LDIwNC41ODM2LDQ5My4xNTE0LDIwMy41MDQ2LDQ5NC4wNTM0LDIwMi44MDY1LDQ5NS4wMDE4LDIwMi4xNTQ5LDQ5NS42Nzk4LDIwMS4yMzI5LDQ5Ni41LDIwMC40NTMxLDQ5Ni41MTYxLDIwMC40NjkyLDQ5NS42OTI1LDE5OS42NDU2LDQ5NC45NDIxLDE5OC44OTUyLDQ5NC4xNTY0LDE5OC4xMDk1LDQ5My40MzgsMTk3LjM5MTIsNDkyLjUsMTk2LjQ1MzEiIHN0eWxlPSJzdHJva2U6IzAwQkZGRjtzdHJva2Utd2lkdGg6MS4wOyIvPjxwYXRoIGQ9Ik0zNTIuNSwyMDAuNDUzMSBMMzUyLjUsMjAwLjczMzQgTDM2Mi4yMzMzLDE5OS45MDA3IEwzNzEuOTY2NywyMDAuNzEwOCBMMzgxLjcsMjAwLjk4NiBMMzkxLjQzMzMsMTk5LjUwMTkgTDQwMS4xNjY3LDIwMC4zNDk1IEw0MTAuOSwxOTkuODg0NSBMNDIwLjYzMzMsMTk5Ljk0MTggTDQzMC4zNjY3LDIwMC4zNjIyIEw0NDAuMSwxOTkuNTMxMyBMNDQ5LjgzMzMsMjAxLjE5MTMgTDQ1OS41NjY3LDE5OS42MTI4IEw0NjkuMywyMDAuMTg5NCBMNDc5LjAzMzMsMjAxLjAyOTEgTDQ4OC43NjY3LDIwMC4zMzg4IEw0OTguNSwyMDAuNDUzMSAiIGZpbGw9Im5vbmUiIHN0eWxlPSJzdHJva2U6IzAwQkZGRjtzdHJva2Utd2lkdGg6MS4wOyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjEyOCIgeD0iMzU5LjUiIHk9IjE5NS4zODcyIj50cmFmZmljIHRvIHJlbW90ZVBvZDwvdGV4dD48IS0tU1JDPVtUTEF4SmlDbTU5dFpoeDM0dDg0OWFRNUljaEhJZlFnZ3Iyem1kVGpZRFI3VGNubEFHc241T2UyRDFIT2E5Q0pPa1ZuRklsYUIwZHFiM09tLVJyakVuYWZSV0lCYzBvNzc4cElmM2RxSjZVSDdwTVFwNFZXaXNJZEVYMHdkZzhYMFN5OEtNODVCTzlBMmJpMmxjVUNYY2thdzkwMm1fVjViOHloTFpZVjlPQ0RXMkZXN3NyNTN3MldESFM2V3AxbWt6NHUzRnNXblhwYXpXUUlhaWFCSmxtTDVwSzVJT0M4SE80Tk1DZmd3OFdSVVpnc0dMRTd3d1dodXlLYTVoeW5SdF9vV0w0bklpUTdzZmtnM2JPZnNvRXlpSnJZdU8zVkN4a2p2cHVJYmlwRzhHUlRWbWZHYkNPV1dBTzZXR3NrSzlpUm9ZNWZ6dXRGdnlrTGpETnpEMEMtTFg5X1FSQng4Rlh1X2RzVC1iMk80b0RpempiN05RbE5TeDc4NEliNmxXeFBiUmx2ZG43MmU5MlYzMnpPak5ySWt0Y1ZQdExEc2xfWXdWSVc4alhEQktHWW44U1lobFc0MF0tLT48L2c+PC9zdmc+'>
<h3 id="213-proxy-mode-ipvs"><a class="markdownIt-Anchor" href="#213-proxy-mode-ipvs"></a> 2.1.3 Proxy-mode: ipvs</h3>
<p>与<code>iptable</code>模式类似，<code>ipvs</code>也是利用<code>netfilter</code>的<code>hook function</code>来实现的，但是<code>ipvs</code>利用的是哈希表，且工作在内核空间，因此效率非常高，同时<code>ipvs</code>还支持多种负载均衡算法</p>
<ol>
<li><code>rr</code>: round-rogin</li>
<li><code>lc</code>: least connection</li>
<li><code>dh</code>: destination hashing</li>
<li><code>sh</code>: source hashing</li>
<li><code>sed</code>: shortest expected delay</li>
<li><code>nq</code>: never queue</li>
</ol>
<p><img src="/images/Kubernetes-Concept/proxy-mode-ipvs.svg" alt="proxy-mode-ipvs" /></p>
<p>在以上任何一种模式中，来自<code>Cluster IP:Port</code>的流量都会被重定向到其中一个后端<code>Pod</code>中，且用户不感知这些过程</p>
<h2 id="22-自定义chain介绍"><a class="markdownIt-Anchor" href="#22-自定义chain介绍"></a> 2.2 自定义chain介绍</h2>
<p><img src="/images/Kubernetes-Network/iptables-chains.svg" alt="iptables_chains" /></p>
<p>定义可以参考源码<a target="_blank" rel="noopener" href="https://github.com/kubernetes/kubernetes/blob/master/pkg/proxy/iptables/proxier.go">proxier.go </a></p>
<figure class="highlight golang"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> (</span><br><span class="line">	<span class="comment">// the services chain</span></span><br><span class="line">	kubeServicesChain utiliptables.Chain = <span class="string">&quot;KUBE-SERVICES&quot;</span></span><br><span class="line"></span><br><span class="line">	<span class="comment">// the external services chain</span></span><br><span class="line">	kubeExternalServicesChain utiliptables.Chain = <span class="string">&quot;KUBE-EXTERNAL-SERVICES&quot;</span></span><br><span class="line"></span><br><span class="line">	<span class="comment">// the nodeports chain</span></span><br><span class="line">	kubeNodePortsChain utiliptables.Chain = <span class="string">&quot;KUBE-NODEPORTS&quot;</span></span><br><span class="line"></span><br><span class="line">	<span class="comment">// the kubernetes postrouting chain</span></span><br><span class="line">	kubePostroutingChain utiliptables.Chain = <span class="string">&quot;KUBE-POSTROUTING&quot;</span></span><br><span class="line"></span><br><span class="line">	<span class="comment">// KubeMarkMasqChain is the mark-for-masquerade chain</span></span><br><span class="line">	KubeMarkMasqChain utiliptables.Chain = <span class="string">&quot;KUBE-MARK-MASQ&quot;</span></span><br><span class="line"></span><br><span class="line">	<span class="comment">// KubeMarkDropChain is the mark-for-drop chain</span></span><br><span class="line">	KubeMarkDropChain utiliptables.Chain = <span class="string">&quot;KUBE-MARK-DROP&quot;</span></span><br><span class="line"></span><br><span class="line">	<span class="comment">// the kubernetes forward chain</span></span><br><span class="line">	kubeForwardChain utiliptables.Chain = <span class="string">&quot;KUBE-FORWARD&quot;</span></span><br><span class="line"></span><br><span class="line">	<span class="comment">// kube proxy canary chain is used for monitoring rule reload</span></span><br><span class="line">	kubeProxyCanaryChain utiliptables.Chain = <span class="string">&quot;KUBE-PROXY-CANARY&quot;</span></span><br><span class="line">)</span><br></pre></td></tr></table></figure>
<p><strong>KUBE-SERVICES</strong>：所有的<code>service</code>（无论是<code>ClusterIP</code>、<code>NodePort</code>、<code>LoadBalance</code>，因为它们都有<code>ClusterIP</code>）都会存在一条或多条（每个端口映射对应一条规则）指向<code>KUBE-SVC-xxx</code>链的规则。而每个<code>KUBE-SVC-xxx</code>链的规则，依据副本数量的不同，会存在一个或多个指向<code>KUBE-SEP-xxx</code>链的规则（通过随机变量实现负载均衡）</p>
<p><strong>KUBE-NODEPORTS</strong>：<code>NodePort</code>类型的<code>service</code>会存在一条或多条（每个端口映射对应一条规则）指向<code>KUBE-SVC-xxx</code>链的规则。而每个<code>KUBE-SVC-xxx</code>链的规则，依据副本数量的不同，会存在一个或多个指向<code>KUBE-SEP-xxx</code>链的规则（通过随机变量实现负载均衡）</p>
<p><strong>KUBE-MARK-MASQ</strong>：用于给流量打上标签，配合<code>KUBE-POSTROUTING</code>链一起作用</p>
<p><strong>KUBE-POSTROUTING</strong>：一般用于<code>SNAT</code>配置。对于通过<code>ClusterIP</code>访问某个服务的流量而言（<code>NodePort</code>同理，不再赘述），存在如下几种情况</p>
<ul>
<li><code>sourceIp</code>不属于<code>podCidr</code>，会设置<code>SNAT</code>，这样服务看到的流量来源就是<code>cni0</code>（这样做的目的是？）</li>
<li><code>sourceIp</code>属于<code>podCidr</code>，但是与<code>ClusterIP</code>背后的<code>pod</code>的<code>IP</code>不同，不设置<code>SNAT</code></li>
<li><code>sourceIp</code>属于<code>podCidr</code>，且与<code>ClusterIP</code>背后的<code>pod</code>的<code>IP</code>不同（自己访问自己），会设置<code>SNAT</code>，这样服务看到的流量来源就是<code>cni0</code>（这样做的目的是？）</li>
<li><strong>即便不做SNAT，也是没有问题的，只不过服务看到的流量来源没有被隐藏（通过<code>iptables -t nat -I KUBE-POSTROUTING -j RETURN</code>可以禁用后续的规则）</strong></li>
</ul>
<h2 id="23-iptables规则链-示例讲解"><a class="markdownIt-Anchor" href="#23-iptables规则链-示例讲解"></a> 2.3 iptables规则链-示例讲解</h2>
<h3 id="231-nodeport-单副本"><a class="markdownIt-Anchor" href="#231-nodeport-单副本"></a> 2.3.1 nodeport-单副本</h3>
<p><strong>deployment（hello-world-deployment.yml）</strong></p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">apiVersion:</span> <span class="string">apps/v1</span></span><br><span class="line"><span class="attr">kind:</span> <span class="string">Deployment</span></span><br><span class="line"><span class="attr">metadata:</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">hello-world-deployment</span></span><br><span class="line">  <span class="attr">labels:</span></span><br><span class="line">    <span class="attr">mylabel:</span> <span class="string">label_hello_world_deployment</span></span><br><span class="line"><span class="attr">spec:</span></span><br><span class="line">  <span class="attr">replicas:</span> <span class="number">1</span></span><br><span class="line">  <span class="attr">selector:</span></span><br><span class="line">    <span class="attr">matchLabels:</span></span><br><span class="line">      <span class="attr">mylabel:</span> <span class="string">label_hello_world</span></span><br><span class="line">  <span class="attr">template:</span></span><br><span class="line">    <span class="attr">metadata:</span></span><br><span class="line">      <span class="attr">labels:</span></span><br><span class="line">        <span class="attr">mylabel:</span> <span class="string">label_hello_world</span></span><br><span class="line">    <span class="attr">spec:</span></span><br><span class="line">      <span class="attr">containers:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">hello-world</span></span><br><span class="line">        <span class="attr">image:</span> <span class="string">registry.cn-hangzhou.aliyuncs.com/liuyehcf_default/liuye_repo:v1</span></span><br><span class="line">        <span class="attr">imagePullPolicy:</span> <span class="string">IfNotPresent</span></span><br><span class="line">        <span class="attr">command:</span> [<span class="string">&quot;java&quot;</span>, <span class="string">&quot;-jar&quot;</span>, <span class="string">&quot;lib/spring-boot-1.0-SNAPSHOT.jar&quot;</span>]</span><br><span class="line">        <span class="attr">ports:</span></span><br><span class="line">        <span class="bullet">-</span> <span class="attr">containerPort:</span> <span class="number">8080</span></span><br></pre></td></tr></table></figure>
<p><strong>service（hello-world-service.yml）</strong></p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">apiVersion:</span> <span class="string">v1</span></span><br><span class="line"><span class="attr">kind:</span> <span class="string">Service</span></span><br><span class="line"><span class="attr">metadata:</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">hello-world-service</span></span><br><span class="line"><span class="attr">spec:</span></span><br><span class="line">  <span class="attr">ports:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">protocol:</span> <span class="string">TCP</span></span><br><span class="line">      <span class="attr">port:</span> <span class="number">4000</span></span><br><span class="line">      <span class="attr">targetPort:</span> <span class="number">8080</span></span><br><span class="line">      <span class="attr">nodePort:</span> <span class="number">30001</span></span><br><span class="line">  <span class="attr">selector:</span></span><br><span class="line">    <span class="attr">mylabel:</span> <span class="string">label_hello_world</span></span><br><span class="line">  <span class="attr">type:</span> <span class="string">NodePort</span></span><br></pre></td></tr></table></figure>
<p>创建<code>deployment</code>以及<code>service</code></p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">[root@k8s-master ~]$ kubectl apply -f hello-world-service.yml</span><br><span class="line"><span class="comment">#-------------------------↓↓↓↓↓↓-------------------------</span></span><br><span class="line">service/hello-world-service created</span><br><span class="line"><span class="comment">#-------------------------↑↑↑↑↑↑-------------------------</span></span><br><span class="line"></span><br><span class="line">[root@k8s-master ~]$ kubectl apply -f hello-world-deployment.yml</span><br><span class="line"><span class="comment">#-------------------------↓↓↓↓↓↓-------------------------</span></span><br><span class="line">deployment.apps/hello-world-deployment created</span><br><span class="line"><span class="comment">#-------------------------↑↑↑↑↑↑-------------------------</span></span><br></pre></td></tr></table></figure>
<p>查找一下该<code>pod</code>部署在哪个<code>node</code>上</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[root@k8s-master ~]$ kubectl get pods -o wide</span><br><span class="line"><span class="comment">#-------------------------↓↓↓↓↓↓-------------------------</span></span><br><span class="line">NAME                                     READY   STATUS    RESTARTS   AGE   IP           NODE      NOMINATED NODE   READINESS GATES</span><br><span class="line">hello-world-deployment-cbdf4db7b-j6fpq   1/1     Running   0          56s   10.244.1.5   k8s-n-1   &lt;none&gt;           &lt;none&gt;</span><br><span class="line"><span class="comment">#-------------------------↑↑↑↑↑↑-------------------------</span></span><br></pre></td></tr></table></figure>
<p>发现，应用部署在<code>k8s-n-1</code>上，查看<code>k8s-n-1</code>节点上的<code>iptables</code>规则，用<code>30001</code>作为条件过滤</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[root@k8s-n-1 ~]$ iptables-save | grep <span class="string">&#x27;30001&#x27;</span></span><br><span class="line"><span class="comment">#-------------------------↓↓↓↓↓↓-------------------------</span></span><br><span class="line">-A KUBE-NODEPORTS -p tcp -m comment --comment <span class="string">&quot;default/hello-world-service:&quot;</span> -m tcp --dport 30001 -j KUBE-MARK-MASQ</span><br><span class="line">-A KUBE-NODEPORTS -p tcp -m comment --comment <span class="string">&quot;default/hello-world-service:&quot;</span> -m tcp --dport 30001 -j KUBE-SVC-5MRENC7Q6ZQR6GKR</span><br><span class="line"><span class="comment">#-------------------------↑↑↑↑↑↑-------------------------</span></span><br></pre></td></tr></table></figure>
<p>我们找到了名为<code>KUBE-NODEPORTS</code>的<code>Chain</code>的两条规则，继续用<code>KUBE-NODEPORTS</code>寻找上游<code>Chain</code></p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">[root@k8s-n-1 ~]$ iptables-save | grep <span class="string">&#x27;KUBE-NODEPORTS&#x27;</span></span><br><span class="line"><span class="comment">#-------------------------↓↓↓↓↓↓-------------------------</span></span><br><span class="line">:KUBE-NODEPORTS - [0:0]</span><br><span class="line">-A KUBE-NODEPORTS -p tcp -m comment --comment <span class="string">&quot;default/hello-world-service:&quot;</span> -m tcp --dport 30001 -j KUBE-MARK-MASQ</span><br><span class="line">-A KUBE-NODEPORTS -p tcp -m comment --comment <span class="string">&quot;default/hello-world-service:&quot;</span> -m tcp --dport 30001 -j KUBE-SVC-5MRENC7Q6ZQR6GKR</span><br><span class="line">-A KUBE-SERVICES -m comment --comment <span class="string">&quot;kubernetes service nodeports; NOTE: this must be the last rule in this chain&quot;</span> -m addrtype --dst-type LOCAL -j KUBE-NODEPORTS</span><br><span class="line"><span class="comment">#-------------------------↑↑↑↑↑↑-------------------------</span></span><br></pre></td></tr></table></figure>
<p>我们找到了名为<code>KUBE-SERVICES</code>的<code>Chain</code>的一条规则，继续用<code>KUBE-SERVICES</code>寻找上游<code>Chain</code></p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">[root@k8s-n-1 ~]$ iptables-save | grep <span class="string">&#x27;KUBE-SERVICES&#x27;</span></span><br><span class="line"><span class="comment">#-------------------------↓↓↓↓↓↓-------------------------</span></span><br><span class="line">:KUBE-SERVICES - [0:0]</span><br><span class="line">-A INPUT -m conntrack --ctstate NEW -m comment --comment <span class="string">&quot;kubernetes service portals&quot;</span> -j KUBE-SERVICES</span><br><span class="line">-A FORWARD -m conntrack --ctstate NEW -m comment --comment <span class="string">&quot;kubernetes service portals&quot;</span> -j KUBE-SERVICES</span><br><span class="line">-A OUTPUT -m conntrack --ctstate NEW -m comment --comment <span class="string">&quot;kubernetes service portals&quot;</span> -j KUBE-SERVICES</span><br><span class="line">:KUBE-SERVICES - [0:0]</span><br><span class="line">-A PREROUTING -m comment --comment <span class="string">&quot;kubernetes service portals&quot;</span> -j KUBE-SERVICES</span><br><span class="line">-A OUTPUT -m comment --comment <span class="string">&quot;kubernetes service portals&quot;</span> -j KUBE-SERVICES</span><br><span class="line">-A KUBE-SERVICES ! -s 10.244.0.0/16 -d 10.96.103.220/32 -p tcp -m comment --comment <span class="string">&quot;default/hello-world-service: cluster IP&quot;</span> -m tcp --dport 4000 -j KUBE-MARK-MASQ</span><br><span class="line">-A KUBE-SERVICES -d 10.96.103.220/32 -p tcp -m comment --comment <span class="string">&quot;default/hello-world-service: cluster IP&quot;</span> -m tcp --dport 4000 -j KUBE-SVC-5MRENC7Q6ZQR6GKR</span><br><span class="line">-A KUBE-SERVICES ! -s 10.244.0.0/16 -d 10.96.0.1/32 -p tcp -m comment --comment <span class="string">&quot;default/kubernetes:https cluster IP&quot;</span> -m tcp --dport 443 -j KUBE-MARK-MASQ</span><br><span class="line">-A KUBE-SERVICES -d 10.96.0.1/32 -p tcp -m comment --comment <span class="string">&quot;default/kubernetes:https cluster IP&quot;</span> -m tcp --dport 443 -j KUBE-SVC-NPX46M4PTMTKRN6Y</span><br><span class="line">-A KUBE-SERVICES ! -s 10.244.0.0/16 -d 10.96.0.10/32 -p udp -m comment --comment <span class="string">&quot;kube-system/kube-dns:dns cluster IP&quot;</span> -m udp --dport 53 -j KUBE-MARK-MASQ</span><br><span class="line">-A KUBE-SERVICES -d 10.96.0.10/32 -p udp -m comment --comment <span class="string">&quot;kube-system/kube-dns:dns cluster IP&quot;</span> -m udp --dport 53 -j KUBE-SVC-TCOU7JCQXEZGVUNU</span><br><span class="line">-A KUBE-SERVICES ! -s 10.244.0.0/16 -d 10.96.0.10/32 -p tcp -m comment --comment <span class="string">&quot;kube-system/kube-dns:dns-tcp cluster IP&quot;</span> -m tcp --dport 53 -j KUBE-MARK-MASQ</span><br><span class="line">-A KUBE-SERVICES -d 10.96.0.10/32 -p tcp -m comment --comment <span class="string">&quot;kube-system/kube-dns:dns-tcp cluster IP&quot;</span> -m tcp --dport 53 -j KUBE-SVC-ERIFXISQEP7F7OF4</span><br><span class="line">-A KUBE-SERVICES ! -s 10.244.0.0/16 -d 10.96.0.10/32 -p tcp -m comment --comment <span class="string">&quot;kube-system/kube-dns:metrics cluster IP&quot;</span> -m tcp --dport 9153 -j KUBE-MARK-MASQ</span><br><span class="line">-A KUBE-SERVICES -d 10.96.0.10/32 -p tcp -m comment --comment <span class="string">&quot;kube-system/kube-dns:metrics cluster IP&quot;</span> -m tcp --dport 9153 -j KUBE-SVC-JD5MR3NA4I4DYORP</span><br><span class="line">-A KUBE-SERVICES -m comment --comment <span class="string">&quot;kubernetes service nodeports; NOTE: this must be the last rule in this chain&quot;</span> -m addrtype --dst-type LOCAL -j KUBE-NODEPORTS</span><br><span class="line"><span class="comment">#-------------------------↑↑↑↑↑↑-------------------------</span></span><br></pre></td></tr></table></figure>
<p>我们发现，<code>PREROUTING</code>、<code>INPUT</code>、<code>FORWARD</code>、<code>OUTPUT</code>为<code>KUBE-SERVICES</code>的上游<code>Chain</code></p>
<p>接着我们回到<code>Chain KUBE-NODEPORTS</code>的规则，继续往下游分析，查看<code>Chain KUBE-SVC-5MRENC7Q6ZQR6GKR</code></p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">[root@k8s-n-1 ~]$ iptables-save | grep <span class="string">&#x27;KUBE-SVC-5MRENC7Q6ZQR6GKR&#x27;</span></span><br><span class="line"><span class="comment">#-------------------------↓↓↓↓↓↓-------------------------</span></span><br><span class="line">:KUBE-SVC-5MRENC7Q6ZQR6GKR - [0:0]</span><br><span class="line">-A KUBE-NODEPORTS -p tcp -m comment --comment <span class="string">&quot;default/hello-world-service:&quot;</span> -m tcp --dport 30001 -j KUBE-SVC-5MRENC7Q6ZQR6GKR</span><br><span class="line">-A KUBE-SERVICES -d 10.96.103.220/32 -p tcp -m comment --comment <span class="string">&quot;default/hello-world-service: cluster IP&quot;</span> -m tcp --dport 4000 -j KUBE-SVC-5MRENC7Q6ZQR6GKR</span><br><span class="line">-A KUBE-SVC-5MRENC7Q6ZQR6GKR -j KUBE-SEP-2KIVNDBOTOCNVG2U</span><br><span class="line"><span class="comment">#-------------------------↑↑↑↑↑↑-------------------------</span></span><br></pre></td></tr></table></figure>
<p>找到了一条规则，该规则指向了另一个<code>Chain KUBE-SEP-2KIVNDBOTOCNVG2U</code>，继续往下查看</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">[root@k8s-n-1 ~]$ iptables-save | grep <span class="string">&#x27;KUBE-SEP-2KIVNDBOTOCNVG2U&#x27;</span></span><br><span class="line"><span class="comment">#-------------------------↓↓↓↓↓↓-------------------------</span></span><br><span class="line">:KUBE-SEP-2KIVNDBOTOCNVG2U - [0:0]</span><br><span class="line">-A KUBE-SEP-2KIVNDBOTOCNVG2U -s 10.244.1.5/32 -j KUBE-MARK-MASQ</span><br><span class="line">-A KUBE-SEP-2KIVNDBOTOCNVG2U -p tcp -m tcp -j DNAT --to-destination 10.244.1.5:8080</span><br><span class="line">-A KUBE-SVC-5MRENC7Q6ZQR6GKR -j KUBE-SEP-2KIVNDBOTOCNVG2U</span><br><span class="line"><span class="comment">#-------------------------↑↑↑↑↑↑-------------------------</span></span><br></pre></td></tr></table></figure>
<p>找到了一条DNAT规则，该规则将数据包的目的ip以及端口改写为<code>10.244.1.5</code>以及<code>8080</code>，然后继续查找路由表</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[root@k8s-n-1 ~]$ ip r | grep <span class="string">&#x27;10.244.1.0/24&#x27;</span></span><br><span class="line"><span class="comment">#-------------------------↓↓↓↓↓↓-------------------------</span></span><br><span class="line">10.244.1.0/24 dev cni0 proto kernel scope <span class="built_in">link</span> src 10.244.1.1</span><br><span class="line"><span class="comment">#-------------------------↑↑↑↑↑↑-------------------------</span></span><br></pre></td></tr></table></figure>
<p>我们发现，路由表指向的是<code>cni0</code>，每个pod都对应了一个<code>veth pair</code>，一端连接在网桥上，另一端在容器的网络命名空间中，我们可以通过<code>brctl</code>来查看网桥<code>cni0</code>的相关信息</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">[root@k8s-n-1 ~]$ brctl show cni0</span><br><span class="line"><span class="comment">#-------------------------↓↓↓↓↓↓-------------------------</span></span><br><span class="line">bridge name	bridge <span class="built_in">id</span>		STP enabled	interfaces</span><br><span class="line">cni0		8000.2a11eb4c8527	no		veth8469bbce</span><br><span class="line"><span class="comment">#-------------------------↑↑↑↑↑↑-------------------------</span></span><br><span class="line"></span><br><span class="line">[root@k8s-n-1 ~]$ brctl showmacs cni0</span><br><span class="line"><span class="comment">#-------------------------↓↓↓↓↓↓-------------------------</span></span><br><span class="line">port no	mac addr		is <span class="built_in">local</span>?	ageing timer</span><br><span class="line">  2	a6:92:e2:fd:6c:9c	<span class="built_in">yes</span>		   0.00</span><br><span class="line">  2	a6:92:e2:fd:6c:9c	<span class="built_in">yes</span>		   0.00</span><br><span class="line">  2	ca:97:47:ed:<span class="built_in">dd</span>:01	no		   3.75</span><br><span class="line"><span class="comment">#-------------------------↑↑↑↑↑↑-------------------------</span></span><br></pre></td></tr></table></figure>
<p>可以看到，目前网桥<code>cni0</code>上只有一张网卡，该网卡类型是<code>veth</code>，veth是一对网卡，其中一张网卡在默认的网络命名空间中，另外一张网卡在pod的网络命名空间中。<code>brctl showmacs cni0</code>输出的三条数据中，其<code>port</code>都是2，代表这些对应着同一个网卡，即<code>veth</code>网卡，<code>is local</code>字段为<code>true</code>表示位于默认网络命名空间中，<code>is local</code>字段为<code>false</code>表示位于另一个网络命名空间中，接下来找到该docker的命名空间，然后进入该命名空间查看一下网卡的mac地址是否为<code>ca:97:47:ed:dd:01</code>，同时看一下该网卡的ip是否为<code>10.244.1.5</code></p>
<ul>
<li>注意，<code>brctl showmacs cni0</code>的输出中，<code>is local</code>为<code>false</code>的这条数据，<code>ageing timer</code>不是<code>0.00</code>，大约在300s后，这条数据将会消失。可以通过重新访问该<code>veth</code>网卡来激活（<code>ping</code>一下对应的<code>pod ip</code>）</li>
</ul>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 其中 e464807dae4f 是容器id</span></span><br><span class="line">[root@k8s-n-1 ~]$ pid=$(docker inspect -f <span class="string">&#x27;&#123;&#123;.State.Pid&#125;&#125;&#x27;</span> e464807dae4f)</span><br><span class="line">[root@k8s-n-1 ~]$ nsenter -t <span class="variable">$&#123;pid&#125;</span> -n ifconfig</span><br><span class="line"><span class="comment">#-------------------------↓↓↓↓↓↓-------------------------</span></span><br><span class="line">eth0: flags=4163&lt;UP,BROADCAST,RUNNING,MULTICAST&gt;  mtu 1450</span><br><span class="line">        inet 10.244.1.5  netmask 255.255.255.0  broadcast 0.0.0.0</span><br><span class="line">        inet6 fe80::c897:47ff:feed:dd01  prefixlen 64  scopeid 0x20&lt;<span class="built_in">link</span>&gt;</span><br><span class="line">        ether ca:97:47:ed:<span class="built_in">dd</span>:01  txqueuelen 0  (Ethernet)</span><br><span class="line">        RX packets 64  bytes 6286 (6.1 KiB)</span><br><span class="line">        RX errors 0  dropped 0  overruns 0  frame 0</span><br><span class="line">        TX packets 49  bytes 5643 (5.5 KiB)</span><br><span class="line">        TX errors 0  dropped 0 overruns 0  carrier 0  collisions 0</span><br><span class="line"></span><br><span class="line">lo: flags=73&lt;UP,LOOPBACK,RUNNING&gt;  mtu 65536</span><br><span class="line">        inet 127.0.0.1  netmask 255.0.0.0</span><br><span class="line">        inet6 ::1  prefixlen 128  scopeid 0x10&lt;host&gt;</span><br><span class="line">        loop  txqueuelen 1000  (Local Loopback)</span><br><span class="line">        RX packets 0  bytes 0 (0.0 B)</span><br><span class="line">        RX errors 0  dropped 0  overruns 0  frame 0</span><br><span class="line">        TX packets 0  bytes 0 (0.0 B)</span><br><span class="line">        TX errors 0  dropped 0 overruns 0  carrier 0  collisions 0</span><br><span class="line"><span class="comment">#-------------------------↑↑↑↑↑↑-------------------------</span></span><br></pre></td></tr></table></figure>
<p>接着，我们看下在<code>k8s-n-2</code>节点上，路由规则是怎样的</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[root@k8s-n-2 ~]$ ip r | grep <span class="string">&#x27;10.244.1.0/24&#x27;</span></span><br><span class="line"><span class="comment">#-------------------------↓↓↓↓↓↓-------------------------</span></span><br><span class="line">10.244.1.0/24 via 10.244.1.0 dev flannel.1 onlink</span><br><span class="line"><span class="comment">#-------------------------↑↑↑↑↑↑-------------------------</span></span><br></pre></td></tr></table></figure>
<p>可以看到，在<code>k8s-n-1</code>节点上，直接路由到了<code>flannel.1</code>这样网卡，然后通过<code>flannel</code>的网络（主机网络或覆盖网络）到达<code>k8s-n-1</code>上</p>
<p><strong>iptables规则链</strong></p>
<pre class="mermaid">flowchart TD
    A["PREROUTING/INPUT/OUTPUT/FORWARD"]
    B["KUBE-SERVICES"]
    C1["KUBE-MARK-MASQ"]
    C2["KUBE-SVC-nginx"]
    C3["KUBE-MARK-MASQ"]
    C4["KUBE-SVC-tomcat"]
    C5["KUBE-NODEPORTS"]
    D1["KUBE-SEP-nginx"]
    E1["DNAT redirect to nginx pod's ip and port"]

    A --> B
    B --> |nginx, srcIp not in cidr| C1
    B --> |nginx, srcIp in cidr| C2
    B --> |tomcat, srcIp not in cidr| C3
    B --> |tomcat, srcIp in cidr| C4
    B --> |last rule in the chain 'KUBE-SERVICES'| C5
    C2 --> D1
    D1 --> E1</pre>
<h3 id="232-nodeport-多副本"><a class="markdownIt-Anchor" href="#232-nodeport-多副本"></a> 2.3.2 nodeport-多副本</h3>
<p><strong>deployment（hello-world-deployment.yml）</strong></p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">apiVersion:</span> <span class="string">apps/v1</span></span><br><span class="line"><span class="attr">kind:</span> <span class="string">Deployment</span></span><br><span class="line"><span class="attr">metadata:</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">hello-world-deployment</span></span><br><span class="line">  <span class="attr">labels:</span></span><br><span class="line">    <span class="attr">mylabel:</span> <span class="string">label_hello_world_deployment</span></span><br><span class="line"><span class="attr">spec:</span></span><br><span class="line">  <span class="attr">replicas:</span> <span class="number">3</span> <span class="comment"># 这里改成3副本</span></span><br><span class="line">  <span class="attr">selector:</span></span><br><span class="line">    <span class="attr">matchLabels:</span></span><br><span class="line">      <span class="attr">mylabel:</span> <span class="string">label_hello_world</span></span><br><span class="line">  <span class="attr">template:</span></span><br><span class="line">    <span class="attr">metadata:</span></span><br><span class="line">      <span class="attr">labels:</span></span><br><span class="line">        <span class="attr">mylabel:</span> <span class="string">label_hello_world</span></span><br><span class="line">    <span class="attr">spec:</span></span><br><span class="line">      <span class="attr">containers:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">hello-world</span></span><br><span class="line">        <span class="attr">image:</span> <span class="string">registry.cn-hangzhou.aliyuncs.com/liuyehcf_default/liuye_repo:v1</span></span><br><span class="line">        <span class="attr">imagePullPolicy:</span> <span class="string">IfNotPresent</span></span><br><span class="line">        <span class="attr">command:</span> [<span class="string">&quot;java&quot;</span>, <span class="string">&quot;-jar&quot;</span>, <span class="string">&quot;lib/spring-boot-1.0-SNAPSHOT.jar&quot;</span>]</span><br><span class="line">        <span class="attr">ports:</span></span><br><span class="line">        <span class="bullet">-</span> <span class="attr">containerPort:</span> <span class="number">8080</span></span><br></pre></td></tr></table></figure>
<p><strong>service（hello-world-service.yml）</strong></p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">apiVersion:</span> <span class="string">v1</span></span><br><span class="line"><span class="attr">kind:</span> <span class="string">Service</span></span><br><span class="line"><span class="attr">metadata:</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">hello-world-service</span></span><br><span class="line"><span class="attr">spec:</span></span><br><span class="line">  <span class="attr">ports:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">protocol:</span> <span class="string">TCP</span></span><br><span class="line">      <span class="attr">port:</span> <span class="number">4000</span></span><br><span class="line">      <span class="attr">targetPort:</span> <span class="number">8080</span></span><br><span class="line">      <span class="attr">nodePort:</span> <span class="number">30001</span></span><br><span class="line">  <span class="attr">selector:</span></span><br><span class="line">    <span class="attr">mylabel:</span> <span class="string">label_hello_world</span></span><br><span class="line">  <span class="attr">type:</span> <span class="string">NodePort</span></span><br></pre></td></tr></table></figure>
<p>创建<code>deployment</code>以及<code>service</code></p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">[root@k8s-master ~]$ kubectl apply -f hello-world-service.yml</span><br><span class="line"><span class="comment">#-------------------------↓↓↓↓↓↓-------------------------</span></span><br><span class="line">service/hello-world-service created</span><br><span class="line"><span class="comment">#-------------------------↑↑↑↑↑↑-------------------------</span></span><br><span class="line"></span><br><span class="line">[root@k8s-master ~]$ kubectl apply -f hello-world-deployment.yml</span><br><span class="line"><span class="comment">#-------------------------↓↓↓↓↓↓-------------------------</span></span><br><span class="line">deployment.apps/hello-world-deployment created</span><br><span class="line"><span class="comment">#-------------------------↑↑↑↑↑↑-------------------------</span></span><br></pre></td></tr></table></figure>
<p>查看一下<code>pod</code>的部署情况</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">[root@k8s-master ~]$ kubectl get pods -o wide</span><br><span class="line"><span class="comment">#-------------------------↓↓↓↓↓↓-------------------------</span></span><br><span class="line">NAME                                     READY   STATUS    RESTARTS   AGE     IP           NODE      NOMINATED NODE   READINESS GATES</span><br><span class="line">hello-world-deployment-cbdf4db7b-5qflq   1/1     Running   0          5m      10.244.2.2   k8s-n-2   &lt;none&gt;           &lt;none&gt;</span><br><span class="line">hello-world-deployment-cbdf4db7b-j6fpq   1/1     Running   1          5h35m   10.244.1.6   k8s-n-1   &lt;none&gt;           &lt;none&gt;</span><br><span class="line">hello-world-deployment-cbdf4db7b-qc624   1/1     Running   0          5m      10.244.1.7   k8s-n-1   &lt;none&gt;           &lt;none&gt;</span><br><span class="line"><span class="comment">#-------------------------↑↑↑↑↑↑-------------------------</span></span><br></pre></td></tr></table></figure>
<p>我们以<code>k8s-n-1</code>为例，首先以<code>NodePort</code>为关键字进行搜索</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[root@k8s-n-1 ~]$ iptables-save | grep 30001</span><br><span class="line"><span class="comment">#-------------------------↓↓↓↓↓↓-------------------------</span></span><br><span class="line">-A KUBE-NODEPORTS -p tcp -m comment --comment <span class="string">&quot;default/hello-world-service:&quot;</span> -m tcp --dport 30001 -j KUBE-MARK-MASQ</span><br><span class="line">-A KUBE-NODEPORTS -p tcp -m comment --comment <span class="string">&quot;default/hello-world-service:&quot;</span> -m tcp --dport 30001 -j KUBE-SVC-5MRENC7Q6ZQR6GKR</span><br><span class="line"><span class="comment">#-------------------------↑↑↑↑↑↑-------------------------</span></span><br></pre></td></tr></table></figure>
<p>上游<code>Chain</code>与单副本完全一致，不再赘述，继续沿着下游<code>Chain</code>进行分析，搜索<code>KUBE-SVC-5MRENC7Q6ZQR6GKR</code>关键词</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">[root@k8s-n-1 ~]$ iptables-save | grep KUBE-SVC-5MRENC7Q6ZQR6GKR</span><br><span class="line"><span class="comment">#-------------------------↓↓↓↓↓↓-------------------------</span></span><br><span class="line">:KUBE-SVC-5MRENC7Q6ZQR6GKR - [0:0]</span><br><span class="line">-A KUBE-NODEPORTS -p tcp -m comment --comment <span class="string">&quot;default/hello-world-service:&quot;</span> -m tcp --dport 30001 -j KUBE-SVC-5MRENC7Q6ZQR6GKR</span><br><span class="line">-A KUBE-SERVICES -d 10.96.103.220/32 -p tcp -m comment --comment <span class="string">&quot;default/hello-world-service: cluster IP&quot;</span> -m tcp --dport 4000 -j KUBE-SVC-5MRENC7Q6ZQR6GKR</span><br><span class="line">-A KUBE-SVC-5MRENC7Q6ZQR6GKR -m statistic --mode random --probability 0.33333333349 -j KUBE-SEP-NQUZNNDG4S4UQTZI</span><br><span class="line">-A KUBE-SVC-5MRENC7Q6ZQR6GKR -m statistic --mode random --probability 0.50000000000 -j KUBE-SEP-XYEBSHB6XMTA6LVQ</span><br><span class="line">-A KUBE-SVC-5MRENC7Q6ZQR6GKR -j KUBE-SEP-AFBU56PEPWZ4VPIJ</span><br><span class="line"><span class="comment">#-------------------------↑↑↑↑↑↑-------------------------</span></span><br></pre></td></tr></table></figure>
<p>这里，我们就能发现单副本与多副本之间的差异了，在单副本的例子中，只有一条规则，而多副本的例子中，有多条规则（规则数量与副本数保持一致），并且使用了<code>statistic</code>模块，引入了随机因子，用于实现负载均衡的功能（<code>iptables -m statistic -h</code>查看该模块的参数），然后，分别查看三个下游<code>Chain</code></p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">[root@k8s-n-1 ~]$ iptables-save | grep KUBE-SEP-NQUZNNDG4S4UQTZI</span><br><span class="line"><span class="comment">#-------------------------↓↓↓↓↓↓-------------------------</span></span><br><span class="line">:KUBE-SEP-NQUZNNDG4S4UQTZI - [0:0]</span><br><span class="line">-A KUBE-SEP-NQUZNNDG4S4UQTZI -s 10.244.1.6/32 -j KUBE-MARK-MASQ</span><br><span class="line">-A KUBE-SEP-NQUZNNDG4S4UQTZI -p tcp -m tcp -j DNAT --to-destination 10.244.1.6:8080</span><br><span class="line">-A KUBE-SVC-5MRENC7Q6ZQR6GKR -m statistic --mode random --probability 0.33333333349 -j KUBE-SEP-NQUZNNDG4S4UQTZI</span><br><span class="line"><span class="comment">#-------------------------↑↑↑↑↑↑-------------------------</span></span><br><span class="line"></span><br><span class="line">[root@k8s-n-1 ~]$ iptables-save | grep KUBE-SEP-XYEBSHB6XMTA6LVQ</span><br><span class="line"><span class="comment">#-------------------------↓↓↓↓↓↓-------------------------</span></span><br><span class="line">:KUBE-SEP-XYEBSHB6XMTA6LVQ - [0:0]</span><br><span class="line">-A KUBE-SEP-XYEBSHB6XMTA6LVQ -s 10.244.1.7/32 -j KUBE-MARK-MASQ</span><br><span class="line">-A KUBE-SEP-XYEBSHB6XMTA6LVQ -p tcp -m tcp -j DNAT --to-destination 10.244.1.7:8080</span><br><span class="line">-A KUBE-SVC-5MRENC7Q6ZQR6GKR -m statistic --mode random --probability 0.50000000000 -j KUBE-SEP-XYEBSHB6XMTA6LVQ</span><br><span class="line"><span class="comment">#-------------------------↑↑↑↑↑↑-------------------------</span></span><br><span class="line"></span><br><span class="line">[root@k8s-n-1 ~]$ iptables-save | grep KUBE-SEP-AFBU56PEPWZ4VPIJ</span><br><span class="line"><span class="comment">#-------------------------↓↓↓↓↓↓-------------------------</span></span><br><span class="line">:KUBE-SEP-AFBU56PEPWZ4VPIJ - [0:0]</span><br><span class="line">-A KUBE-SEP-AFBU56PEPWZ4VPIJ -s 10.244.2.2/32 -j KUBE-MARK-MASQ</span><br><span class="line">-A KUBE-SEP-AFBU56PEPWZ4VPIJ -p tcp -m tcp -j DNAT --to-destination 10.244.2.2:8080</span><br><span class="line">-A KUBE-SVC-5MRENC7Q6ZQR6GKR -j KUBE-SEP-AFBU56PEPWZ4VPIJ</span><br><span class="line"><span class="comment">#-------------------------↑↑↑↑↑↑-------------------------</span></span><br></pre></td></tr></table></figure>
<p>这里，可以看到，三个<code>Chain</code>，每个<code>Chain</code>分别配置了一个DNAT，指向某一个<code>pod</code>。后续的链路，如果在<code>pod</code>在本机，则走<code>cni0</code>网桥，否则就走<code>flannel</code></p>
<p><strong>iptables规则链</strong></p>
<pre class="mermaid">flowchart TD
    A["PREROUTING/INPUT/OUTPUT/FORWARD"]
    B["KUBE-SERVICES"]
    C1["KUBE-MARK-MASQ"]
    C2["KUBE-SVC-NGINX"]
    C3["KUBE-MARK-MASQ"]
    C4["KUBE-SVC-TOMCAT"]
    C5["KUBE-NODEPORTS"]
    D1["KUBE-SEP-nginx1"]
    D2["KUBE-SEP-nginx2"]
    D3["KUBE-SEP-nginx3"]
    E1["DNAT redirect to nginx pod1's ip and port"]
    E2["DNAT redirect to nginx pod2's ip and port"]
    E3["DNAT redirect to nginx pod3's ip and port"]

    A --> B
    B --> |nginx, srcIp not in cidr| C1
    B --> |nginx, srcIp in cidr| C2
    B --> |tomcat, srcIp not in cidr| C3
    B --> |tomcat, srcIp in cidr| C4
    B --> |last rule in the chain 'KUBE-SERVICES'| C5
    C2 --> |random| D1
    C2 --> |random| D2
    C2 --> |random| D3
    D1 --> E1
    D2 --> E2
    D3 --> E3</pre>
<h2 id="24-总结"><a class="markdownIt-Anchor" href="#24-总结"></a> 2.4 总结</h2>
<ol>
<li>每个<code>node</code>上的<code>pod</code>，其子网都相同</li>
<li>同个<code>node</code>之间<code>pod</code>相互访问，最终会走到<code>cni</code>网桥，该网桥等价于一个二层交换机，接着一对<code>veth</code>网卡，其中一段在默认的网络命名空间，另一端在<code>pod</code>的网络命名空间</li>
<li>不同<code>node</code>之间的<code>pod</code>相互访问，最终会走到<code>flannel</code></li>
</ol>
<h1 id="3-coredns"><a class="markdownIt-Anchor" href="#3-coredns"></a> 3 coreDNS</h1>
<p><code>coreDNS</code>是每个<code>Kubernetes</code>集群都会安装的系统组件，用于<code>Service</code>的解析，将服务名称解析成<code>ClusterIP</code></p>
<p>一般来说，<code>coredns</code>以<code>deployment</code>运行在集群中（也可能是<code>daemonset</code>）</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[root@k8s-master ~]$ kubectl get deployment -n kube-system</span><br><span class="line"><span class="comment">#-------------------------↓↓↓↓↓↓-------------------------</span></span><br><span class="line">NAME            READY   UP-TO-DATE   AVAILABLE   AGE</span><br><span class="line">coredns         2/2     2            2           149d</span><br><span class="line"><span class="comment">#-------------------------↑↑↑↑↑↑-------------------------</span></span><br></pre></td></tr></table></figure>
<p><strong>下面，我们用一个pod来验证一下<code>dnsutils.yaml</code>，yaml文件内容如下，<code>dnsutils</code>这个镜像中包含了<code>dig</code>、<code>nslookup</code>等命令，换成其他任何包含这个两个命令的镜像都行</strong></p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">apiVersion:</span> <span class="string">v1</span></span><br><span class="line"><span class="attr">kind:</span> <span class="string">Pod</span></span><br><span class="line"><span class="attr">metadata:</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">dnsutils</span></span><br><span class="line">  <span class="attr">namespace:</span> <span class="string">default</span></span><br><span class="line"><span class="attr">spec:</span></span><br><span class="line">  <span class="attr">containers:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">dnsutils</span></span><br><span class="line">    <span class="attr">image:</span> <span class="string">gcr.io/kubernetes-e2e-test-images/dnsutils:1.3</span></span><br><span class="line">    <span class="attr">command:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">sleep</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">&quot;3600&quot;</span></span><br><span class="line">    <span class="attr">imagePullPolicy:</span> <span class="string">IfNotPresent</span></span><br></pre></td></tr></table></figure>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 创建pod</span></span><br><span class="line">[root@k8s-master ~]$ kubectl apply -f dnsutils.yaml</span><br><span class="line"><span class="comment">#-------------------------↓↓↓↓↓↓-------------------------</span></span><br><span class="line">pod/dnsutils created</span><br><span class="line"><span class="comment">#-------------------------↑↑↑↑↑↑-------------------------</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 查看一下pod是否启动成功</span></span><br><span class="line">[root@k8s-master ~]$ kubectl get pods</span><br><span class="line"><span class="comment">#-------------------------↓↓↓↓↓↓-------------------------</span></span><br><span class="line">NAME                                      READY   STATUS    RESTARTS   AGE</span><br><span class="line">dnsutils                                  1/1     Running   0          33s</span><br><span class="line"><span class="comment">#-------------------------↑↑↑↑↑↑-------------------------</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 看下default以及kube-system命名空间下各有什么service</span></span><br><span class="line">[root@k8s-master ~]$ kubectl get svc</span><br><span class="line"><span class="comment">#-------------------------↓↓↓↓↓↓-------------------------</span></span><br><span class="line">NAME                  TYPE        CLUSTER-IP       EXTERNAL-IP   PORT(S)          AGE</span><br><span class="line">kubernetes            ClusterIP   10.96.0.1        &lt;none&gt;        443/TCP          28d</span><br><span class="line"><span class="comment">#-------------------------↑↑↑↑↑↑-------------------------</span></span><br><span class="line">[root@k8s-master ~]$ kubectl get svc -n kube-system</span><br><span class="line"><span class="comment">#-------------------------↓↓↓↓↓↓-------------------------</span></span><br><span class="line">NAME            TYPE        CLUSTER-IP       EXTERNAL-IP   PORT(S)                  AGE</span><br><span class="line">kube-dns        ClusterIP   10.96.0.10       &lt;none&gt;        53/UDP,53/TCP,9153/TCP   149d</span><br><span class="line">tiller-deploy   ClusterIP   10.108.160.127   &lt;none&gt;        44134/TCP                118d</span><br><span class="line"><span class="comment">#-------------------------↑↑↑↑↑↑-------------------------</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 查看/etc/resolv.conf，我们发现，指定的nameserver就是coredns的ClusterIP</span></span><br><span class="line">[root@k8s-master ~]$ kubectl <span class="built_in">exec</span> -it dnsutils -- <span class="built_in">cat</span> /etc/resolv.conf</span><br><span class="line"><span class="comment">#-------------------------↓↓↓↓↓↓-------------------------</span></span><br><span class="line">nameserver 10.96.0.10</span><br><span class="line">search default.svc.cluster.local svc.cluster.local cluster.local hz.ali.com</span><br><span class="line">options ndots:5</span><br><span class="line"><span class="comment">#-------------------------↑↑↑↑↑↑-------------------------</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 用nslookup查找位于相同命名空间下的服务 kubernetes</span></span><br><span class="line">[root@k8s-master ~]$ kubectl <span class="built_in">exec</span> -it dnsutils -- nslookup kubernetes</span><br><span class="line"><span class="comment">#-------------------------↓↓↓↓↓↓-------------------------</span></span><br><span class="line">Server:		10.96.0.10</span><br><span class="line">Address:	10.96.0.10<span class="comment">#53</span></span><br><span class="line"></span><br><span class="line">Name:	kubernetes.default.svc.cluster.local</span><br><span class="line">Address: 10.96.0.1</span><br><span class="line"><span class="comment">#-------------------------↑↑↑↑↑↑-------------------------</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 用nslookup查找位于不同命名空间下的服务 tiller-deploy</span></span><br><span class="line">[root@k8s-master ~]$ kubectl <span class="built_in">exec</span> -it dnsutils -- nslookup tiller-deploy.kube-system</span><br><span class="line"><span class="comment">#-------------------------↓↓↓↓↓↓-------------------------</span></span><br><span class="line">Server:		10.96.0.10</span><br><span class="line">Address:	10.96.0.10<span class="comment">#53</span></span><br><span class="line"></span><br><span class="line">Non-authoritative answer:</span><br><span class="line">Name:	tiller-deploy.kube-system.svc.cluster.local</span><br><span class="line">Address: 10.108.160.127</span><br><span class="line"><span class="comment">#-------------------------↑↑↑↑↑↑-------------------------</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 清理资源</span></span><br><span class="line">[root@k8s-master ~]$ kubectl delete -f dnsutils.yaml</span><br><span class="line"><span class="comment">#-------------------------↓↓↓↓↓↓-------------------------</span></span><br><span class="line">pod <span class="string">&quot;dnsutils&quot;</span> deleted</span><br><span class="line"><span class="comment">#-------------------------↑↑↑↑↑↑-------------------------</span></span><br></pre></td></tr></table></figure>
<p><strong>接下来，将修改<code>dnsutils.yaml</code>，设置成<code>hostnetwork</code>，同时不指定<code>dnsPolicy</code></strong></p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">apiVersion:</span> <span class="string">v1</span></span><br><span class="line"><span class="attr">kind:</span> <span class="string">Pod</span></span><br><span class="line"><span class="attr">metadata:</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">dnsutils</span></span><br><span class="line">  <span class="attr">namespace:</span> <span class="string">default</span></span><br><span class="line"><span class="attr">spec:</span></span><br><span class="line">  <span class="attr">hostNetwork:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">containers:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">dnsutils</span></span><br><span class="line">    <span class="attr">image:</span> <span class="string">gcr.io/kubernetes-e2e-test-images/dnsutils:1.3</span></span><br><span class="line">    <span class="attr">command:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">sleep</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">&quot;3600&quot;</span></span><br><span class="line">    <span class="attr">imagePullPolicy:</span> <span class="string">IfNotPresent</span></span><br></pre></td></tr></table></figure>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 创建pod</span></span><br><span class="line">[root@k8s-master ~]$ kubectl apply -f dnsutils.yaml</span><br><span class="line"><span class="comment">#-------------------------↓↓↓↓↓↓-------------------------</span></span><br><span class="line">pod/dnsutils created</span><br><span class="line"><span class="comment">#-------------------------↑↑↑↑↑↑-------------------------</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 查看一下pod是否启动成功</span></span><br><span class="line">[root@k8s-master ~]$ kubectl get pods</span><br><span class="line"><span class="comment">#-------------------------↓↓↓↓↓↓-------------------------</span></span><br><span class="line">NAME                                      READY   STATUS    RESTARTS   AGE</span><br><span class="line">dnsutils                                  1/1     Running   0          29s</span><br><span class="line"><span class="comment">#-------------------------↑↑↑↑↑↑-------------------------</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 看下default以及kube-system命名空间下各有什么service</span></span><br><span class="line">[root@k8s-master ~]$ kubectl get svc</span><br><span class="line"><span class="comment">#-------------------------↓↓↓↓↓↓-------------------------</span></span><br><span class="line">NAME                  TYPE        CLUSTER-IP       EXTERNAL-IP   PORT(S)          AGE</span><br><span class="line">kubernetes            ClusterIP   10.96.0.1        &lt;none&gt;        443/TCP          28d</span><br><span class="line"><span class="comment">#-------------------------↑↑↑↑↑↑-------------------------</span></span><br><span class="line">[root@k8s-master ~]$ kubectl get svc -n kube-system</span><br><span class="line"><span class="comment">#-------------------------↓↓↓↓↓↓-------------------------</span></span><br><span class="line">NAME            TYPE        CLUSTER-IP       EXTERNAL-IP   PORT(S)                  AGE</span><br><span class="line">kube-dns        ClusterIP   10.96.0.10       &lt;none&gt;        53/UDP,53/TCP,9153/TCP   149d</span><br><span class="line">tiller-deploy   ClusterIP   10.108.160.127   &lt;none&gt;        44134/TCP                118d</span><br><span class="line"><span class="comment">#-------------------------↑↑↑↑↑↑-------------------------</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 查看/etc/resolv.conf，我们发现，这个配置就是主机的配置</span></span><br><span class="line">[root@k8s-master ~]$ kubectl <span class="built_in">exec</span> -it dnsutils -- <span class="built_in">cat</span> /etc/resolv.conf</span><br><span class="line"><span class="comment">#-------------------------↓↓↓↓↓↓-------------------------</span></span><br><span class="line">nameserver 30.14.129.245</span><br><span class="line">nameserver 30.14.128.82</span><br><span class="line">nameserver 10.65.0.201</span><br><span class="line">search hz.ali.com</span><br><span class="line"><span class="comment">#-------------------------↑↑↑↑↑↑-------------------------</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 用nslookup查找位于相同命名空间下的服务 kubernetes，查找不到</span></span><br><span class="line">[root@k8s-master ~]$ kubectl <span class="built_in">exec</span> -it dnsutils -- nslookup kubernetes</span><br><span class="line"><span class="comment">#-------------------------↓↓↓↓↓↓-------------------------</span></span><br><span class="line">;; Got SERVFAIL reply from 30.14.129.245, trying next server</span><br><span class="line">;; Got SERVFAIL reply from 30.14.128.82, trying next server</span><br><span class="line">Server:		10.65.0.201</span><br><span class="line">Address:	10.65.0.201<span class="comment">#53</span></span><br><span class="line"></span><br><span class="line">server cant find kubernetes: SERVFAIL</span><br><span class="line"></span><br><span class="line"><span class="built_in">command</span> terminated with <span class="built_in">exit</span> code 1</span><br><span class="line"><span class="comment">#-------------------------↑↑↑↑↑↑-------------------------</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 清理资源</span></span><br><span class="line">[root@k8s-master ~]$ kubectl delete -f dnsutils.yaml</span><br><span class="line"><span class="comment">#-------------------------↓↓↓↓↓↓-------------------------</span></span><br><span class="line">pod <span class="string">&quot;dnsutils&quot;</span> deleted</span><br><span class="line"><span class="comment">#-------------------------↑↑↑↑↑↑-------------------------</span></span><br></pre></td></tr></table></figure>
<p><strong>我们继续修改<code>dnsutils.yaml</code>，设置成<code>hostnetwork</code>，同时将<code>dnsPolicy</code>设置为<code>ClusterFirstWithHostNet</code></strong></p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">apiVersion:</span> <span class="string">v1</span></span><br><span class="line"><span class="attr">kind:</span> <span class="string">Pod</span></span><br><span class="line"><span class="attr">metadata:</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">dnsutils</span></span><br><span class="line">  <span class="attr">namespace:</span> <span class="string">default</span></span><br><span class="line"><span class="attr">spec:</span></span><br><span class="line">  <span class="attr">hostNetwork:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">dnsPolicy:</span> <span class="string">ClusterFirstWithHostNet</span></span><br><span class="line">  <span class="attr">containers:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">dnsutils</span></span><br><span class="line">    <span class="attr">image:</span> <span class="string">gcr.io/kubernetes-e2e-test-images/dnsutils:1.3</span></span><br><span class="line">    <span class="attr">command:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">sleep</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">&quot;3600&quot;</span></span><br><span class="line">    <span class="attr">imagePullPolicy:</span> <span class="string">IfNotPresent</span></span><br></pre></td></tr></table></figure>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 创建pod</span></span><br><span class="line">[root@k8s-master ~]$ kubectl apply -f dnsutils.yaml</span><br><span class="line"><span class="comment">#-------------------------↓↓↓↓↓↓-------------------------</span></span><br><span class="line">pod/dnsutils created</span><br><span class="line"><span class="comment">#-------------------------↑↑↑↑↑↑-------------------------</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 查看一下pod是否启动成功</span></span><br><span class="line">[root@k8s-master ~]$ kubectl get pods</span><br><span class="line"><span class="comment">#-------------------------↓↓↓↓↓↓-------------------------</span></span><br><span class="line">NAME                                      READY   STATUS    RESTARTS   AGE</span><br><span class="line">dnsutils                                  1/1     Running   0          42</span><br><span class="line"><span class="comment">#-------------------------↑↑↑↑↑↑-------------------------</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 看下default以及kube-system命名空间下各有什么service</span></span><br><span class="line">[root@k8s-master ~]$ kubectl get svc</span><br><span class="line"><span class="comment">#-------------------------↓↓↓↓↓↓-------------------------</span></span><br><span class="line">NAME                  TYPE        CLUSTER-IP       EXTERNAL-IP   PORT(S)          AGE</span><br><span class="line">kubernetes            ClusterIP   10.96.0.1        &lt;none&gt;        443/TCP          28d</span><br><span class="line"><span class="comment">#-------------------------↑↑↑↑↑↑-------------------------</span></span><br><span class="line">[root@k8s-master ~]$ kubectl get svc -n kube-system</span><br><span class="line"><span class="comment">#-------------------------↓↓↓↓↓↓-------------------------</span></span><br><span class="line">NAME            TYPE        CLUSTER-IP       EXTERNAL-IP   PORT(S)                  AGE</span><br><span class="line">kube-dns        ClusterIP   10.96.0.10       &lt;none&gt;        53/UDP,53/TCP,9153/TCP   149d</span><br><span class="line">tiller-deploy   ClusterIP   10.108.160.127   &lt;none&gt;        44134/TCP                118d</span><br><span class="line"><span class="comment">#-------------------------↑↑↑↑↑↑-------------------------</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 查看/etc/resolv.conf，我们发现，指定的nameserver就是coredns的ClusterIP</span></span><br><span class="line">[root@k8s-master ~]$ kubectl <span class="built_in">exec</span> -it dnsutils -- <span class="built_in">cat</span> /etc/resolv.conf</span><br><span class="line"><span class="comment">#-------------------------↓↓↓↓↓↓-------------------------</span></span><br><span class="line">nameserver 10.96.0.10</span><br><span class="line">search default.svc.cluster.local svc.cluster.local cluster.local hz.ali.com</span><br><span class="line">options ndots:5</span><br><span class="line"><span class="comment">#-------------------------↑↑↑↑↑↑-------------------------</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 用nslookup查找位于相同命名空间下的服务 kubernetes</span></span><br><span class="line">[root@k8s-master ~]$ kubectl <span class="built_in">exec</span> -it dnsutils -- nslookup kubernetes</span><br><span class="line"><span class="comment">#-------------------------↓↓↓↓↓↓-------------------------</span></span><br><span class="line">Server:		10.96.0.10</span><br><span class="line">Address:	10.96.0.10<span class="comment">#53</span></span><br><span class="line"></span><br><span class="line">Name:	kubernetes.default.svc.cluster.local</span><br><span class="line">Address: 10.96.0.1</span><br><span class="line"><span class="comment">#-------------------------↑↑↑↑↑↑-------------------------</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 用nslookup查找位于不同命名空间下的服务 tiller-deploy</span></span><br><span class="line">[root@k8s-master ~]$ kubectl <span class="built_in">exec</span> -it dnsutils -- nslookup tiller-deploy.kube-system</span><br><span class="line"><span class="comment">#-------------------------↓↓↓↓↓↓-------------------------</span></span><br><span class="line">Server:		10.96.0.10</span><br><span class="line">Address:	10.96.0.10<span class="comment">#53</span></span><br><span class="line"></span><br><span class="line">Non-authoritative answer:</span><br><span class="line">Name:	tiller-deploy.kube-system.svc.cluster.local</span><br><span class="line">Address: 10.108.160.127</span><br><span class="line"><span class="comment">#-------------------------↑↑↑↑↑↑-------------------------</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 清理资源</span></span><br><span class="line">[root@k8s-master ~]$ kubectl delete -f dnsutils.yaml</span><br><span class="line"><span class="comment">#-------------------------↓↓↓↓↓↓-------------------------</span></span><br><span class="line">pod <span class="string">&quot;dnsutils&quot;</span> deleted</span><br><span class="line"><span class="comment">#-------------------------↑↑↑↑↑↑-------------------------</span></span><br></pre></td></tr></table></figure>
<h1 id="4-hostnetwork"><a class="markdownIt-Anchor" href="#4-hostnetwork"></a> 4 HostNetwork</h1>
<p>使用主机网络后，<code>PodIP</code>就是主机<code>IP</code>，<code>ContainerPort</code>就是主机<code>Port</code></p>
<p>如果一个设置了主机网络的<code>Pod</code>，想要通过<code>serviceName:servicePort</code>来访问其他服务的时候，需要将<code>dnsPolicy</code>配置成<code>ClusterFirstWithHostNet</code></p>
<p>此外，如果配置了一个<code>Service</code>，以<code>NodePort</code>方式将设置了主机网络的<code>Pod</code>对外露出，可能会导致这样的问题：假设主机A上部署了一个主机网络的<code>Pod</code>，并且以<code>NodePort</code>对外露出，<code>NodePort=30001</code>，此时访问主机B的30001端口，请求有可能无法触达A，原因如下：</p>
<ul>
<li><code>kube-proxy</code>设置的<code>iptables</code>规则可能会与用户设置的<code>iptables</code>规则冲突，因此<code>k8s</code>事先约定了一个NodePort范围，<code>30000-32767</code>，且在初始化集群时，需要指定一个网段用于分配<code>PodIP</code>，在这样的限制条件下，<code>kube-proxy</code>设置的<code>iptables</code>规则才能与用户原有的<code>iptables</code>规则互不影响</li>
<li>当服务以<code>NodePort</code>形式露出时，且<code>Pod</code>为容器网络时，<code>kube-proxy</code>会配置如下两条规则
<ul>
<li>一条<code>DNAT</code>规则，改写目的端口为<code>NodePort</code>的IP数据包头，将其改为<code>PodIP</code></li>
<li>一条<code>FORWARD</code>规则，对应的网段就是<code>PodIP</code>的网段</li>
</ul>
</li>
<li>当服务以<code>NodePort</code>形式露出，且<code>Pod</code>为主机网络时，只设置了一条<code>DNAT</code>规则，而一般来说，<code>FORWARD</code>的默认策略是<code>DROP</code>。因此
<ul>
<li>当<code>Pod</code>的IP就是当前主机的IP时，直接走<code>INPUT</code>，进入本地网络协议栈，可以正常访问服务</li>
<li>当<code>Pod</code>的IP是其他主机的IP时，经过<code>FORWARD</code>，由于没有配置对应的规则，流量被直接<code>DROP</code>，无法正常访问服务</li>
</ul>
</li>
<li>解决方式：<code>iptables -P FORWARD ACCEPT</code>，将默认的<code>FORWARD</code>策略改为<code>ACCEPT</code></li>
</ul>
<h1 id="5-问题排查"><a class="markdownIt-Anchor" href="#5-问题排查"></a> 5 问题排查</h1>
<h2 id="51-排查一般思路"><a class="markdownIt-Anchor" href="#51-排查一般思路"></a> 5.1 排查一般思路</h2>
<h3 id="511-步骤1确认系统网络参数是否配置正确"><a class="markdownIt-Anchor" href="#511-步骤1确认系统网络参数是否配置正确"></a> 5.1.1 步骤1：确认系统网络参数是否配置正确</h3>
<p><strong>以下两个配置项，需要设置成1，否则iptables规则无法应用于二层转发（同主机的pod之间的网络通信走的是二层转发）</strong></p>
<ol>
<li>net.bridge.bridge-nf-call-ip6tables</li>
<li>net.bridge.bridge-nf-call-iptables</li>
</ol>
<p><strong>以下三个配置项，需要设置成1，否则流量从网卡<code>cni0</code>出来之后，无法forward到主机的外网网卡上，意味着，容器里面是无法访问公网的，具体表现就是在容器网络的容器中无法ping通外网ip</strong></p>
<ol>
<li>net.ipv4.ip_forward</li>
<li>net.ipv4.conf.all.forwarding</li>
<li>net.ipv6.conf.all.forwarding</li>
</ol>
<p><strong>如何修改配置</strong></p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 临时修改</span></span><br><span class="line"><span class="built_in">echo</span> 1 &gt; /proc/sys/net/bridge/bridge-nf-call-ip6tables</span><br><span class="line"><span class="built_in">echo</span> 1 &gt; /proc/sys/net/bridge/bridge-nf-call-iptables</span><br><span class="line"><span class="built_in">echo</span> 1 &gt; /proc/sys/net/ipv4/ip_forward</span><br><span class="line"><span class="built_in">echo</span> 1 &gt; /proc/sys/net/ipv4/conf/all/forwarding</span><br><span class="line"><span class="built_in">echo</span> 1 &gt; /proc/sys/net/ipv6/conf/all/forwarding</span><br><span class="line"></span><br><span class="line"><span class="comment"># 永久修改</span></span><br><span class="line"><span class="built_in">cat</span> &gt;&gt; /etc/sysctl.conf &lt;&lt; <span class="string">&#x27;EOF&#x27;</span></span><br><span class="line">net.bridge.bridge-nf-call-ip6tables=1</span><br><span class="line">net.bridge.bridge-nf-call-iptables=1</span><br><span class="line">net.ipv4.ip_forward=1</span><br><span class="line">net.ipv4.conf.all.forwarding=1</span><br><span class="line">net.ipv6.conf.all.forwarding=1</span><br><span class="line">EOF</span><br><span class="line">sysctl -p /etc/sysctl.conf</span><br></pre></td></tr></table></figure>
<h3 id="512-步骤2检查防火墙是否已关闭"><a class="markdownIt-Anchor" href="#512-步骤2检查防火墙是否已关闭"></a> 5.1.2 步骤2：检查防火墙是否已关闭</h3>
<p>systemctl status firewalld</p>
<h3 id="513-步骤3校验iptables中的dnat规则的目的ip是否可访问"><a class="markdownIt-Anchor" href="#513-步骤3校验iptables中的dnat规则的目的ip是否可访问"></a> 5.1.3 步骤3：校验iptables中的DNAT规则的目的ip是否可访问</h3>
<p>一般来说，DNAT的目的ip的流转方式有3类</p>
<ol>
<li>如果<code>目的ip</code>是当前主机的某个<code>podIp</code>，那么流量会转发到<code>cni0</code>，一般来说，这种情况都是没啥问题的</li>
<li>如果<code>目的ip</code>是另一台主机的某个<code>podIp</code>，那么流量会转发到<code>flannel.1</code>，然后通过<code>overlay</code>转发到<code>podIp</code>所在的主机上
<ul>
<li>可能的网络限制：由于overlay是通过udp转发的，需要检查下主机是否有针对udp的过滤配置</li>
</ul>
</li>
<li>如果<code>目的ip</code>是某个<code>机器的ip</code>，那么直接走外网网卡或者<code>lo</code>
<ul>
<li>机器的ip如果变化了，那么iptables中记录的DNAT目的ip可能还是一个旧的主机ip，因此这个时候需要重启下pod，更新下iptables规则</li>
</ul>
</li>
</ol>
<h3 id="514-步骤4检查容器中etcresolvconf配置是否有效"><a class="markdownIt-Anchor" href="#514-步骤4检查容器中etcresolvconf配置是否有效"></a> 5.1.4 步骤4：检查容器中/etc/resolv.conf配置是否有效</h3>
<ol>
<li>对于<code>coredns</code>来说，容器内的<code>/etc/resolv.conf</code>文件是在容器创建的时候，从宿主机上拷贝的。如果主机恰好用的dhcp的方式获取ip，那么获取的dns地址很有可能是dhcp的地址，这个地址是可能会失效的</li>
<li>对于普通的容器网络的容器来说，容器内的<code>/etc/resolv.conf</code>配置的是coredns的clusterIp，因此不需要改动</li>
<li>对于主机网络，且dnsPolicy为<code>ClusterFirst</code>的容器来说，容器内的<code>/etc/resolv.conf</code>文件是在容器创建的时候，从宿主机上拷贝的。如果主机恰好用的dhcp的方式获取ip，那么获取的dns地址很有可能是dhcp的地址，这个地址是可能会失效的</li>
</ol>
<h2 id="52-排查手段"><a class="markdownIt-Anchor" href="#52-排查手段"></a> 5.2 排查手段</h2>
<ol>
<li>tcpdump抓包</li>
<li>iptables配置一些打印日志的规则</li>
</ol>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">iptables -I INPUT -p icmp -j LOG --log-prefix <span class="string">&quot;liuye-input: &quot;</span></span><br><span class="line">iptables -I FORWARD -p icmp -j LOG --log-prefix <span class="string">&quot;liuye-forward: &quot;</span></span><br><span class="line">iptables -I OUTPUT -p icmp -j LOG --log-prefix <span class="string">&quot;liuye-output: &quot;</span></span><br><span class="line">iptables -t nat -I PREROUTING -p icmp -j LOG --log-prefix <span class="string">&quot;liuye-prerouting: &quot;</span></span><br><span class="line">iptables -t nat -I POSTROUTING -p icmp -j LOG --log-prefix <span class="string">&quot;liuye-postrouting: &quot;</span></span><br></pre></td></tr></table></figure>
<h2 id="53-容器网络不通"><a class="markdownIt-Anchor" href="#53-容器网络不通"></a> 5.3 容器网络不通</h2>
<p>现象：在容器中，pingk8s域名失败，ping外网域名失败</p>
<p>kube-proxy包含如下日志：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">W1009 12:41:47.192659       6 proxier.go:320] missing br-netfilter module or unset sysctl br-nf-call-iptables; proxy may not work as intended</span><br></pre></td></tr></table></figure>
<p>原因就是没有开启<code>bridge-nf-call-iptables</code>，当<code>bridge-nf-call-iptables</code>开启时，在二层网桥转发的数据也会被iptables链进制规则限制，而同主机的pod直接的数据转发是直接通过网桥进行转发的，而网桥在二层网络进行数据处理，所以<code>bridge-nf-call-iptables</code>没有开启时，pod无法通过clusterIP访问同主机的pod</p>
<p><strong>如何开启</strong></p>
<ol>
<li><code>echo '1' &gt; /proc/sys/net/bridge/bridge-nf-call-iptables</code>：立即生效，重启后还原为默认配置</li>
<li><code>echo 'net.bridge.bridge-nf-call-iptables=1' &gt;&gt; /etc/sysctl.conf &amp;&amp; sysctl -p /etc/sysctl.conf</code>：修改默认配置，重启后也能生效</li>
</ol>
<h1 id="6-参考"><a class="markdownIt-Anchor" href="#6-参考"></a> 6 参考</h1>
<ul>
<li><a target="_blank" rel="noopener" href="https://xuxinkun.github.io/2016/07/22/kubernetes-proxy/">kubernetes入门之kube-proxy实现原理</a></li>
<li><a target="_blank" rel="noopener" href="https://cizixs.com/2017/03/30/kubernetes-introduction-service-and-kube-proxy/">kubernetes 简介：service 和 kube-proxy 原理</a></li>
<li><a target="_blank" rel="noopener" href="https://cloud.tencent.com/developer/article/1097449">kube-proxy工作原理</a></li>
<li><a target="_blank" rel="noopener" href="https://juejin.im/post/5caccf256fb9a06851504647">如何找到VEth设备的对端接口VEth peer</a></li>
<li><a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/34749675">技术干货|深入理解flannel</a></li>
<li><a target="_blank" rel="noopener" href="https://kubernetes.io/docs/tasks/administer-cluster/dns-debugging-resolution/">Debugging DNS Resolution</a></li>
<li><a target="_blank" rel="noopener" href="https://yuyicai.com/posts/k8s-pod-can-not-conne-to-pod-with-clusterip/">记一次pod无法通过clusterIP访问同主机其它pod的排障过程</a></li>
<li><a target="_blank" rel="noopener" href="https://www.cnblogs.com/charlieroro/p/9588019.html">理解kubernetes环境的iptables</a></li>
<li><a target="_blank" rel="noopener" href="https://www.stackrox.com/post/2020/01/kubernetes-networking-demystified/">Kubernetes Networking Demystified: A Brief Guide</a></li>
<li><a target="_blank" rel="noopener" href="https://blog.csdn.net/shida_csdn/article/details/104626839/">Kube Proxy 工作模式对比分析</a></li>
<li><a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/94418251">IPVS从入门到精通kube-proxy实现原理</a></li>
</ul>
<script type="text&#x2F;javascript" src="https://unpkg.com/kity@2.0.4/dist/kity.min.js"></script><script type="text&#x2F;javascript" src="https://unpkg.com/kityminder-core@1.4.50/dist/kityminder.core.min.js"></script><script defer="true" type="text&#x2F;javascript" src="https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.js"></script><link rel="stylesheet" type="text&#x2F;css" href="https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.css">
    </div>

    
    
    

      <footer class="post-footer">
          <div class="post-tags">
              <a href="/tags/%E5%8E%9F%E5%88%9B/" rel="tag"># 原创</a>
          </div>

        


        
    <div class="post-nav">
      <div class="post-nav-item">
    <a href="/2019/11/27/Tun-Tap-Demo/" rel="prev" title="Tun-Tap-Demo">
      <i class="fa fa-chevron-left"></i> Tun-Tap-Demo
    </a></div>
      <div class="post-nav-item">
    <a href="/2020/01/02/Kubernetes-helm/" rel="next" title="Kubernetes-helm">
      Kubernetes-helm <i class="fa fa-chevron-right"></i>
    </a></div>
    </div>
      </footer>
    
  </article>
  
  
  



          </div>
          
      <div class="tabs tabs-comment">
        <ul class="nav-tabs">
            <li class="tab"><a href="#comment-livere">livere</a></li>
            <li class="tab"><a href="#comment-valine">valine</a></li>
        </ul>
        <div class="tab-content">
            <div class="tab-pane livere" id="comment-livere">
              
  <div class="comments">
    <div id="lv-container" data-id="city" data-uid="MTAyMC8zMzY0My8xMDE5OA=="></div>
  </div>
  
            </div>
            <div class="tab-pane valine" id="comment-valine">
              <div class="comments" id="valine-comments"></div>
            </div>
        </div>
      </div>

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#1-%E7%BB%BC%E8%BF%B0"><span class="nav-text"> 1 综述</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#2-kube-proxy"><span class="nav-text"> 2 kube-proxy</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#21-%E5%B7%A5%E4%BD%9C%E6%A8%A1%E5%BC%8F"><span class="nav-text"> 2.1 工作模式</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#211-proxy-mode-userspace"><span class="nav-text"> 2.1.1 Proxy-mode: userspace</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#212-proxy-mode-iptables"><span class="nav-text"> 2.1.2 Proxy-mode: iptables</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#213-proxy-mode-ipvs"><span class="nav-text"> 2.1.3 Proxy-mode: ipvs</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#22-%E8%87%AA%E5%AE%9A%E4%B9%89chain%E4%BB%8B%E7%BB%8D"><span class="nav-text"> 2.2 自定义chain介绍</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#23-iptables%E8%A7%84%E5%88%99%E9%93%BE-%E7%A4%BA%E4%BE%8B%E8%AE%B2%E8%A7%A3"><span class="nav-text"> 2.3 iptables规则链-示例讲解</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#231-nodeport-%E5%8D%95%E5%89%AF%E6%9C%AC"><span class="nav-text"> 2.3.1 nodeport-单副本</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#232-nodeport-%E5%A4%9A%E5%89%AF%E6%9C%AC"><span class="nav-text"> 2.3.2 nodeport-多副本</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#24-%E6%80%BB%E7%BB%93"><span class="nav-text"> 2.4 总结</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#3-coredns"><span class="nav-text"> 3 coreDNS</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#4-hostnetwork"><span class="nav-text"> 4 HostNetwork</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#5-%E9%97%AE%E9%A2%98%E6%8E%92%E6%9F%A5"><span class="nav-text"> 5 问题排查</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#51-%E6%8E%92%E6%9F%A5%E4%B8%80%E8%88%AC%E6%80%9D%E8%B7%AF"><span class="nav-text"> 5.1 排查一般思路</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#511-%E6%AD%A5%E9%AA%A41%E7%A1%AE%E8%AE%A4%E7%B3%BB%E7%BB%9F%E7%BD%91%E7%BB%9C%E5%8F%82%E6%95%B0%E6%98%AF%E5%90%A6%E9%85%8D%E7%BD%AE%E6%AD%A3%E7%A1%AE"><span class="nav-text"> 5.1.1 步骤1：确认系统网络参数是否配置正确</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#512-%E6%AD%A5%E9%AA%A42%E6%A3%80%E6%9F%A5%E9%98%B2%E7%81%AB%E5%A2%99%E6%98%AF%E5%90%A6%E5%B7%B2%E5%85%B3%E9%97%AD"><span class="nav-text"> 5.1.2 步骤2：检查防火墙是否已关闭</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#513-%E6%AD%A5%E9%AA%A43%E6%A0%A1%E9%AA%8Ciptables%E4%B8%AD%E7%9A%84dnat%E8%A7%84%E5%88%99%E7%9A%84%E7%9B%AE%E7%9A%84ip%E6%98%AF%E5%90%A6%E5%8F%AF%E8%AE%BF%E9%97%AE"><span class="nav-text"> 5.1.3 步骤3：校验iptables中的DNAT规则的目的ip是否可访问</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#514-%E6%AD%A5%E9%AA%A44%E6%A3%80%E6%9F%A5%E5%AE%B9%E5%99%A8%E4%B8%ADetcresolvconf%E9%85%8D%E7%BD%AE%E6%98%AF%E5%90%A6%E6%9C%89%E6%95%88"><span class="nav-text"> 5.1.4 步骤4：检查容器中&#x2F;etc&#x2F;resolv.conf配置是否有效</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#52-%E6%8E%92%E6%9F%A5%E6%89%8B%E6%AE%B5"><span class="nav-text"> 5.2 排查手段</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#53-%E5%AE%B9%E5%99%A8%E7%BD%91%E7%BB%9C%E4%B8%8D%E9%80%9A"><span class="nav-text"> 5.3 容器网络不通</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#6-%E5%8F%82%E8%80%83"><span class="nav-text"> 6 参考</span></a></li></ol></div>
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="Liuyehcf"
      src="/images/avatar.jpg">
  <p class="site-author-name" itemprop="name">Liuyehcf</p>
  <div class="site-description" itemprop="description">大音希声，大象无形</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">288</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">98</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">2</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 2017 – 
  <span itemprop="copyrightYear">2024</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Liuyehcf</span>
</div>
  <div class="powered-by">由 <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://muse.theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Muse</a> 强力驱动
  </div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/muse.js"></script>


<script src="/js/next-boot.js"></script>




  




  
<script src="/js/local-search.js"></script>











<script>
if (document.querySelectorAll('pre.mermaid').length) {
  NexT.utils.getScript('//cdn.jsdelivr.net/npm/mermaid@8/dist/mermaid.min.js', () => {
    mermaid.initialize({
      theme    : 'forest',
      logLevel : 3,
      flowchart: { curve     : 'linear' },
      gantt    : { axisFormat: '%m/%d/%Y' },
      sequence : { actorMargin: 50 }
    });
  }, window.mermaid);
}
</script>


  

  

  

<script>
NexT.utils.loadComments(document.querySelector('#lv-container'), () => {
  window.livereOptions = {
    refer: location.pathname.replace(CONFIG.root, '').replace('index.html', '')
  };
  (function(d, s) {
    var j, e = d.getElementsByTagName(s)[0];
    if (typeof LivereTower === 'function') { return; }
    j = d.createElement(s);
    j.src = 'https://cdn-city.livere.com/js/embed.dist.js';
    j.async = true;
    e.parentNode.insertBefore(j, e);
  })(document, 'script');
});
</script>


<script>
NexT.utils.loadComments(document.querySelector('#valine-comments'), () => {
  NexT.utils.getScript('//unpkg.com/valine/dist/Valine.min.js', () => {
    var GUEST = ['nick', 'mail', 'link'];
    var guest = 'nick,mail,link';
    guest = guest.split(',').filter(item => {
      return GUEST.includes(item);
    });
    new Valine({
      el         : '#valine-comments',
      verify     : false,
      notify     : false,
      appId      : 'qhEhLuMeMOy1zgcBhkqUS6P8-gzGzoHsz',
      appKey     : 'uhkruDLNLNdL5rQjRBY2X9Ke',
      placeholder: "Just go go",
      avatar     : 'mm',
      meta       : guest,
      pageSize   : '10' || 10,
      visitor    : true,
      lang       : '' || 'zh-cn',
      path       : location.pathname,
      recordIP   : false,
      serverURLs : ''
    });
  }, window.Valine);
});
</script>

</body>
</html>
