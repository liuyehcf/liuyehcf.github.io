<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 7.1.1">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"example.com","root":"/","scheme":"Muse","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":true,"show_result":false,"style":"mac"},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},"path":"search.xml"};
  </script>

  <meta name="description" content="阅读更多">
<meta property="og:type" content="article">
<meta property="og:title" content="Kubernetes-Network">
<meta property="og:url" content="http://example.com/2019/12/23/Kubernetes-Network/index.html">
<meta property="og:site_name" content="Liuye Notebook">
<meta property="og:description" content="阅读更多">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="http://example.com/images/Kubernetes-Network/overall.png">
<meta property="og:image" content="http://example.com/images/Kubernetes-Concept/proxy-mode-userspace.svg">
<meta property="og:image" content="http://example.com/images/Kubernetes-Concept/proxy-mode-iptables.svg">
<meta property="og:image" content="http://example.com/images/Kubernetes-Concept/proxy-mode-ipvs.svg">
<meta property="og:image" content="http://example.com/images/Kubernetes-Network/iptables-chains.svg">
<meta property="article:published_time" content="2019-12-23T06:43:11.000Z">
<meta property="article:modified_time" content="2024-03-18T13:37:51.000Z">
<meta property="article:author" content="Liuyehcf">
<meta property="article:tag" content="原创">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://example.com/images/Kubernetes-Network/overall.png">

<link rel="canonical" href="http://example.com/2019/12/23/Kubernetes-Network/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : false,
    isPost : true,
    lang   : 'zh-CN'
  };
</script>

  <title>Kubernetes-Network | Liuye Notebook</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">Liuye Notebook</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a>

  </li>
        <li class="menu-item menu-item-about">

    <a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>关于</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>标签</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>分类</a>

  </li>
        <li class="menu-item menu-item-explore">

    <a href="/explore/" rel="section"><i class="fa fa-sitemap fa-fw"></i>发现</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档</a>

  </li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>搜索
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup">
        <div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off"
           placeholder="搜索..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div id="search-result">
  <div id="no-result">
    <i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>
  </div>
</div>

    </div>
  </div>

</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content post posts-expand">
            

    
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2019/12/23/Kubernetes-Network/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpg">
      <meta itemprop="name" content="Liuyehcf">
      <meta itemprop="description" content="大音希声，大象无形">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Liuye Notebook">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          Kubernetes-Network
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2019-12-23 14:43:11" itemprop="dateCreated datePublished" datetime="2019-12-23T14:43:11+08:00">2019-12-23</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2024-03-18 21:37:51" itemprop="dateModified" datetime="2024-03-18T21:37:51+08:00">2024-03-18</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Kubernetes/" itemprop="url" rel="index"><span itemprop="name">Kubernetes</span></a>
                </span>
            </span>

          
            <span id="/2019/12/23/Kubernetes-Network/" class="post-meta-item leancloud_visitors" data-flag-title="Kubernetes-Network" title="阅读次数">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">阅读次数：</span>
              <span class="leancloud-visitors-count"></span>
            </span>
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Valine：</span>
    
    <a title="valine" href="/2019/12/23/Kubernetes-Network/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/2019/12/23/Kubernetes-Network/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <p><strong>阅读更多</strong></p>
<span id="more"></span>
<h1 id="1-综述"><a class="markdownIt-Anchor" href="#1-综述"></a> 1 综述</h1>
<p><img src="/images/Kubernetes-Network/overall.png" alt="overall" /></p>
<p><strong>pod的网络类型可以是容器网络也可以是主机网络，这里仅讨论容器网络这一类型的pod</strong></p>
<ul>
<li><strong>同主机pod互访</strong>：<code>A-&gt;B</code></li>
<li><strong>pod访问外网</strong>：<code>A-&gt;C-&gt;E</code></li>
<li><strong>跨主机pod互访</strong>：<code>A-&gt;D-&gt;F-&gt;J-&gt;H</code></li>
</ul>
<h1 id="2-kube-proxy"><a class="markdownIt-Anchor" href="#2-kube-proxy"></a> 2 kube-proxy</h1>
<h2 id="21-工作模式"><a class="markdownIt-Anchor" href="#21-工作模式"></a> 2.1 工作模式</h2>
<h3 id="211-proxy-mode-userspace"><a class="markdownIt-Anchor" href="#211-proxy-mode-userspace"></a> 2.1.1 Proxy-mode: userspace</h3>
<ol>
<li><strong>该模式最主要的特征是：流量重定向工作是由<code>kube-proxy</code>完成的，也就是在用户空间完成的</strong></li>
<li><code>kube-proxy</code>会监听<code>Service</code>的创建和删除，当发现新的<code>Service</code>创建出来后，<code>kube-proxy</code>会在<code>localhost</code>网络开启一个随机端口（记为<code>loPort</code>）进行监听，同时向<code>iptable</code>写入路由规则（<code>Cluster IP:Port</code>-&gt;<code>localhost:loPort</code>），即将流向<code>Service</code>的流量转发到本地监听的端口上来</li>
<li><code>kube-proxy</code>会监听<code>Endpoint</code>的变更，并将<code>Service</code>及其对应的<code>Pod</code>列表保存起来</li>
</ol>
<p><img src="/images/Kubernetes-Concept/proxy-mode-userspace.svg" alt="proxy-mode-userspace" /></p>
<p>在<code>Pod</code>中访问<code>Service</code>的时序图如下</p>
<img src='data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBjb250ZW50U3R5bGVUeXBlPSJ0ZXh0L2NzcyIgZGF0YS1kaWFncmFtLXR5cGU9IlNFUVVFTkNFIiBoZWlnaHQ9IjM2NXB4IiBwcmVzZXJ2ZUFzcGVjdFJhdGlvPSJub25lIiBzdHlsZT0id2lkdGg6MTAzNnB4O2hlaWdodDozNjVweDtiYWNrZ3JvdW5kOiNFRUVCREM7IiB2ZXJzaW9uPSIxLjEiIHZpZXdCb3g9IjAgMCAxMDM2IDM2NSIgd2lkdGg9IjEwMzZweCIgem9vbUFuZFBhbj0ibWFnbmlmeSI+PGRlZnMvPjxnPjxyZWN0IGZpbGw9IiNFRUVCREMiIGhlaWdodD0iMzY1IiBzdHlsZT0ic3Ryb2tlOm5vbmU7c3Ryb2tlLXdpZHRoOjE7IiB3aWR0aD0iMTAzNiIgeD0iMCIgeT0iMCIvPjxyZWN0IGZpbGw9IiNGRkZGQ0MiIGhlaWdodD0iMjYuNjQwNiIgcng9IjIuNSIgcnk9IjIuNSIgc3R5bGU9InN0cm9rZTojRkZERDg4O3N0cm9rZS13aWR0aDozOyIgd2lkdGg9IjEwMjUuOTI4NSIgeD0iNSIgeT0iNSIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJtb25vc3BhY2UiIGZvbnQtc2l6ZT0iMTAiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMzU1LjIxIiB4PSIxMCIgeT0iMjAiPlBsZWFzZSYjMTYwO3VzZSYjMTYwOychb3B0aW9uJiMxNjA7aGFuZHdyaXR0ZW4mIzE2MDt0cnVlJyYjMTYwO3RvJiMxNjA7ZW5hYmxlJiMxNjA7aGFuZHdyaXR0ZW48L3RleHQ+PGc+PHRpdGxlPlBvZDwvdGl0bGU+PHBvbHlnb24gZmlsbD0iIzAwMDAwMCIgZmlsbC1vcGFjaXR5PSIwLjAwMDAwIiBwb2ludHM9IjIzLjcyMTcsNzYuNDI5NywyMy43MjE3LDc2LjQ5OTcsMjUuMzIxNyw3Ni4yOTE2LDI2LjkyMTcsNzYuNDk0MSwyOC41MjE3LDc2LjU2MjksMzAuMTIxNyw3Ni4xOTE5LDMxLjcyMTcsNzYuNDI5NywzMS42NDQsNzYuNDI5NywzMS4yOTUyLDg2LjQyNjksMzEuMzM4Miw5Ni40MjQxLDMxLjY1MzUsMTA2LjQyMTMsMzEuMDMwMywxMTYuNDE4NCwzMi4yNzUzLDEyNi40MTU2LDMxLjA5MTQsMTM2LjQxMjgsMzEuNTIzOSwxNDYuNDEsMzIuMTUzNiwxNTYuNDA3MiwzMS42MzU5LDE2Ni40MDQ0LDMxLjc4OTksMTc2LjQwMTYsMzEuNjg5NywxODYuMzk4OCwzMS45MDAyLDE5Ni4zOTU5LDMxLjk2MDgsMjA2LjM5MzEsMzIuMzA3NCwyMTYuMzkwMywzMi4zOTI3LDIyNi4zODc1LDMyLjQwMDksMjM2LjM4NDcsMzEuOTc2MywyNDYuMzgxOSwzMi4xODUzLDI1Ni4zNzkxLDMyLjQyMzksMjY2LjM3NjMsMzEuMDAwNSwyNzYuMzczNCwzMi40MDAyLDI4Ni4zNzA2LDMxLjQyNTIsMjk2LjM2NzgsMzIuMjU1NSwzMDYuMzY1LDMxLjIyNjcsMzE2LjM2MjIsMzEuNzIxNywzMjYuMzU5NCwzMS43MjE3LDMyNi4zMzY1LDMwLjEyMTcsMzI2LjYwNjYsMjguNTIxNywzMjYuMzQzMSwyNi45MjE3LDMyNi4zOTQ1LDI1LjMyMTcsMzI2LjQ3MjMsMjMuNzIxNywzMjYuMzU5NCwyNC4xMzc5LDMyNi4zNTk0LDIzLjcxNzgsMzE2LjM2MjIsMjQuMDA4OSwzMDYuMzY1LDIzLjE0OTMsMjk2LjM2NzgsMjQuMDA2MSwyODYuMzcwNiwyNC4yNjk5LDI3Ni4zNzM0LDI0LjE2NjIsMjY2LjM3NjMsMjQuMzM0NywyNTYuMzc5MSwyMy4yMzg2LDI0Ni4zODE5LDIzLjA2OTUsMjM2LjM4NDcsMjMuMTAwMywyMjYuMzg3NSwyMy42NjI4LDIxNi4zOTAzLDIzLjUyNTIsMjA2LjM5MzEsMjQuNDAzMSwxOTYuMzk1OSwyMy41NDcsMTg2LjM5ODcsMjMuMzc4NiwxNzYuNDAxNiwyMy45NDk5LDE2Ni40MDQ0LDIzLjA1NDgsMTU2LjQwNzIsMjMuMjAyNiwxNDYuNDEsMjQuMzcwNiwxMzYuNDEyOCwyNC4xNTczLDEyNi40MTU2LDI0LjQ1NjIsMTE2LjQxODQsMjMuMzk5OSwxMDYuNDIxMiwyNC4wNDA5LDk2LjQyNDEsMjQuMzEyMSw4Ni40MjY5LDIzLjcyMTcsNzYuNDI5NyIvPjxwYXRoIGQ9Ik0yNyw3Ni40Mjk3IEwyNy4yODAyLDc2LjQyOTcgTDI2LjQ0NzYsODYuNDI2OSBMMjcuMjU3Nyw5Ni40MjQxIEwyNy41MzI5LDEwNi40MjEzIEwyNi4wNDg4LDExNi40MTg0IEwyNi44OTY0LDEyNi40MTU2IEwyNi40MzEzLDEzNi40MTI4IEwyNi40ODg3LDE0Ni40MSBMMjYuOTA5MSwxNTYuNDA3MiBMMjYuMDc4MiwxNjYuNDA0NCBMMjcuNzM4MiwxNzYuNDAxNiBMMjYuMTU5NiwxODYuMzk4OCBMMjYuNzM2MywxOTYuMzk1OSBMMjcuNTc1OSwyMDYuMzkzMSBMMjYuODg1NiwyMTYuMzkwMyBMMjcuMDkxLDIyNi4zODc1IEwyNi45NTc0LDIzNi4zODQ3IEwyNy4yMzgsMjQ2LjM4MTkgTDI3LjMxODgsMjU2LjM3OTEgTDI3Ljc4MDksMjY2LjM3NjMgTDI3Ljg5NDcsMjc2LjM3MzQgTDI3LjkwNTcsMjg2LjM3MDYgTDI3LjMzOTUsMjk2LjM2NzggTDI3LjYxODEsMzA2LjM2NSBMMjcuOTM2MywzMTYuMzYyMiBMMjcsMzI2LjM1OTQiIGZpbGw9Im5vbmUiIHN0eWxlPSJzdHJva2U6IzAwMDBGRjtzdHJva2Utd2lkdGg6MC41O3N0cm9rZS1kYXNoYXJyYXk6NS4wLDUuMDsiLz48L2c+PGc+PHRpdGxlPmNvcmVETlM8L3RpdGxlPjxwb2x5Z29uIGZpbGw9IiMwMDAwMDAiIGZpbGwtb3BhY2l0eT0iMC4wMDAwMCIgcG9pbnRzPSIyNTkuNTg3NSw3Ni40Mjk3LDI1OS41ODc1LDc2LjQ5OTcsMjYxLjE4NzUsNzYuMjkxNiwyNjIuNzg3NSw3Ni40OTQxLDI2NC4zODc1LDc2LjU2MjksMjY1Ljk4NzUsNzYuMTkxOSwyNjcuNTg3NSw3Ni40Mjk3LDI2Ny41MDk4LDc2LjQyOTcsMjY3LjE2MSw4Ni40MjY5LDI2Ny4yMDQsOTYuNDI0MSwyNjcuNTE5MywxMDYuNDIxMywyNjYuODk2MSwxMTYuNDE4NCwyNjguMTQxMSwxMjYuNDE1NiwyNjYuOTU3MiwxMzYuNDEyOCwyNjcuMzg5NywxNDYuNDEsMjY4LjAxOTQsMTU2LjQwNzIsMjY3LjUwMTcsMTY2LjQwNDQsMjY3LjY1NTcsMTc2LjQwMTYsMjY3LjU1NTUsMTg2LjM5ODgsMjY3Ljc2NiwxOTYuMzk1OSwyNjcuODI2NiwyMDYuMzkzMSwyNjguMTczMiwyMTYuMzkwMywyNjguMjU4NSwyMjYuMzg3NSwyNjguMjY2NywyMzYuMzg0NywyNjcuODQyMSwyNDYuMzgxOSwyNjguMDUxMSwyNTYuMzc5MSwyNjguMjg5NywyNjYuMzc2MywyNjYuODY2MywyNzYuMzczNCwyNjguMjY2LDI4Ni4zNzA2LDI2Ny4yOTEsMjk2LjM2NzgsMjY4LjEyMTMsMzA2LjM2NSwyNjcuMDkyNSwzMTYuMzYyMiwyNjcuNTg3NSwzMjYuMzU5NCwyNjcuNTg3NSwzMjYuMzM2NSwyNjUuOTg3NSwzMjYuNjA2NiwyNjQuMzg3NSwzMjYuMzQzMSwyNjIuNzg3NSwzMjYuMzk0NSwyNjEuMTg3NSwzMjYuNDcyMywyNTkuNTg3NSwzMjYuMzU5NCwyNjAuMDAzNywzMjYuMzU5NCwyNTkuNTgzNiwzMTYuMzYyMiwyNTkuODc0NywzMDYuMzY1LDI1OS4wMTUxLDI5Ni4zNjc4LDI1OS44NzE5LDI4Ni4zNzA2LDI2MC4xMzU3LDI3Ni4zNzM0LDI2MC4wMzIsMjY2LjM3NjMsMjYwLjIwMDUsMjU2LjM3OTEsMjU5LjEwNDQsMjQ2LjM4MTksMjU4LjkzNTMsMjM2LjM4NDcsMjU4Ljk2NjEsMjI2LjM4NzUsMjU5LjUyODYsMjE2LjM5MDMsMjU5LjM5MSwyMDYuMzkzMSwyNjAuMjY4OSwxOTYuMzk1OSwyNTkuNDEyOCwxODYuMzk4NywyNTkuMjQ0NCwxNzYuNDAxNiwyNTkuODE1NywxNjYuNDA0NCwyNTguOTIwNiwxNTYuNDA3MiwyNTkuMDY4NCwxNDYuNDEsMjYwLjIzNjQsMTM2LjQxMjgsMjYwLjAyMzEsMTI2LjQxNTYsMjYwLjMyMiwxMTYuNDE4NCwyNTkuMjY1NywxMDYuNDIxMiwyNTkuOTA2Nyw5Ni40MjQxLDI2MC4xNzc5LDg2LjQyNjksMjU5LjU4NzUsNzYuNDI5NyIvPjxwYXRoIGQ9Ik0yNjIuNjkwNSw3Ni40Mjk3IEwyNjIuOTcwNyw3Ni40Mjk3IEwyNjIuMTM4MSw4Ni40MjY5IEwyNjIuOTQ4Miw5Ni40MjQxIEwyNjMuMjIzNCwxMDYuNDIxMyBMMjYxLjczOTMsMTE2LjQxODQgTDI2Mi41ODY5LDEyNi40MTU2IEwyNjIuMTIxOCwxMzYuNDEyOCBMMjYyLjE3OTIsMTQ2LjQxIEwyNjIuNTk5NiwxNTYuNDA3MiBMMjYxLjc2ODcsMTY2LjQwNDQgTDI2My40Mjg3LDE3Ni40MDE2IEwyNjEuODUwMSwxODYuMzk4OCBMMjYyLjQyNjgsMTk2LjM5NTkgTDI2My4yNjY0LDIwNi4zOTMxIEwyNjIuNTc2MSwyMTYuMzkwMyBMMjYyLjc4MTUsMjI2LjM4NzUgTDI2Mi42NDc5LDIzNi4zODQ3IEwyNjIuOTI4NSwyNDYuMzgxOSBMMjYzLjAwOTQsMjU2LjM3OTEgTDI2My40NzE0LDI2Ni4zNzYzIEwyNjMuNTg1MiwyNzYuMzczNCBMMjYzLjU5NjIsMjg2LjM3MDYgTDI2My4wMywyOTYuMzY3OCBMMjYzLjMwODYsMzA2LjM2NSBMMjYzLjYyNjgsMzE2LjM2MjIgTDI2Mi42OTA1LDMyNi4zNTk0IiBmaWxsPSJub25lIiBzdHlsZT0ic3Ryb2tlOiMwMDAwRkY7c3Ryb2tlLXdpZHRoOjAuNTtzdHJva2UtZGFzaGFycmF5OjUuMCw1LjA7Ii8+PC9nPjxnPjx0aXRsZT5pcHRhYmxlczwvdGl0bGU+PHBvbHlnb24gZmlsbD0iIzAwMDAwMCIgZmlsbC1vcGFjaXR5PSIwLjAwMDAwIiBwb2ludHM9IjM1NC4xOTgxLDc2LjQyOTcsMzU0LjE5ODEsNzYuNDk5NywzNTUuNzk4MSw3Ni4yOTE2LDM1Ny4zOTgxLDc2LjQ5NDEsMzU4Ljk5ODEsNzYuNTYyOSwzNjAuNTk4MSw3Ni4xOTE5LDM2Mi4xOTgxLDc2LjQyOTcsMzYyLjEyMDQsNzYuNDI5NywzNjEuNzcxNiw4Ni40MjY5LDM2MS44MTQ2LDk2LjQyNDEsMzYyLjEyOTksMTA2LjQyMTMsMzYxLjUwNjcsMTE2LjQxODQsMzYyLjc1MTcsMTI2LjQxNTYsMzYxLjU2NzgsMTM2LjQxMjgsMzYyLjAwMDMsMTQ2LjQxLDM2Mi42MywxNTYuNDA3MiwzNjIuMTEyMywxNjYuNDA0NCwzNjIuMjY2MywxNzYuNDAxNiwzNjIuMTY2MSwxODYuMzk4OCwzNjIuMzc2NiwxOTYuMzk1OSwzNjIuNDM3MiwyMDYuMzkzMSwzNjIuNzgzOCwyMTYuMzkwMywzNjIuODY5MSwyMjYuMzg3NSwzNjIuODc3MywyMzYuMzg0NywzNjIuNDUyNywyNDYuMzgxOSwzNjIuNjYxNywyNTYuMzc5MSwzNjIuOTAwMywyNjYuMzc2MywzNjEuNDc2OSwyNzYuMzczNCwzNjIuODc2NiwyODYuMzcwNiwzNjEuOTAxNiwyOTYuMzY3OCwzNjIuNzMxOSwzMDYuMzY1LDM2MS43MDMxLDMxNi4zNjIyLDM2Mi4xOTgxLDMyNi4zNTk0LDM2Mi4xOTgxLDMyNi4zMzY1LDM2MC41OTgxLDMyNi42MDY2LDM1OC45OTgxLDMyNi4zNDMxLDM1Ny4zOTgxLDMyNi4zOTQ1LDM1NS43OTgxLDMyNi40NzIzLDM1NC4xOTgxLDMyNi4zNTk0LDM1NC42MTQzLDMyNi4zNTk0LDM1NC4xOTQyLDMxNi4zNjIyLDM1NC40ODUzLDMwNi4zNjUsMzUzLjYyNTcsMjk2LjM2NzgsMzU0LjQ4MjUsMjg2LjM3MDYsMzU0Ljc0NjMsMjc2LjM3MzQsMzU0LjY0MjYsMjY2LjM3NjMsMzU0LjgxMTEsMjU2LjM3OTEsMzUzLjcxNSwyNDYuMzgxOSwzNTMuNTQ1OSwyMzYuMzg0NywzNTMuNTc2NywyMjYuMzg3NSwzNTQuMTM5MiwyMTYuMzkwMywzNTQuMDAxNSwyMDYuMzkzMSwzNTQuODc5NSwxOTYuMzk1OSwzNTQuMDIzNCwxODYuMzk4NywzNTMuODU1LDE3Ni40MDE2LDM1NC40MjYzLDE2Ni40MDQ0LDM1My41MzEyLDE1Ni40MDcyLDM1My42Nzg5LDE0Ni40MSwzNTQuODQ3LDEzNi40MTI4LDM1NC42MzM3LDEyNi40MTU2LDM1NC45MzI2LDExNi40MTg0LDM1My44NzYzLDEwNi40MjEyLDM1NC41MTczLDk2LjQyNDEsMzU0Ljc4ODUsODYuNDI2OSwzNTQuMTk4MSw3Ni40Mjk3Ii8+PHBhdGggZD0iTTM1Ny40ODQ1LDc2LjQyOTcgTDM1Ny43NjQ3LDc2LjQyOTcgTDM1Ni45MzIsODYuNDI2OSBMMzU3Ljc0MjIsOTYuNDI0MSBMMzU4LjAxNzQsMTA2LjQyMTMgTDM1Ni41MzMzLDExNi40MTg0IEwzNTcuMzgwOCwxMjYuNDE1NiBMMzU2LjkxNTgsMTM2LjQxMjggTDM1Ni45NzMxLDE0Ni40MSBMMzU3LjM5MzYsMTU2LjQwNzIgTDM1Ni41NjI2LDE2Ni40MDQ0IEwzNTguMjIyNiwxNzYuNDAxNiBMMzU2LjY0NDEsMTg2LjM5ODggTDM1Ny4yMjA4LDE5Ni4zOTU5IEwzNTguMDYwNCwyMDYuMzkzMSBMMzU3LjM3MDEsMjE2LjM5MDMgTDM1Ny41NzU0LDIyNi4zODc1IEwzNTcuNDQxOSwyMzYuMzg0NyBMMzU3LjcyMjUsMjQ2LjM4MTkgTDM1Ny44MDMzLDI1Ni4zNzkxIEwzNTguMjY1NCwyNjYuMzc2MyBMMzU4LjM3OTIsMjc2LjM3MzQgTDM1OC4zOTAxLDI4Ni4zNzA2IEwzNTcuODI0LDI5Ni4zNjc4IEwzNTguMTAyNiwzMDYuMzY1IEwzNTguNDIwOCwzMTYuMzYyMiBMMzU3LjQ4NDUsMzI2LjM1OTQiIGZpbGw9Im5vbmUiIHN0eWxlPSJzdHJva2U6IzAwMDBGRjtzdHJva2Utd2lkdGg6MC41O3N0cm9rZS1kYXNoYXJyYXk6NS4wLDUuMDsiLz48L2c+PGc+PHRpdGxlPmt1YmUgcHJveHk8L3RpdGxlPjxwb2x5Z29uIGZpbGw9IiMwMDAwMDAiIGZpbGwtb3BhY2l0eT0iMC4wMDAwMCIgcG9pbnRzPSI1MTMuMjg4OSw3Ni40Mjk3LDUxMy4yODg5LDc2LjQ5OTcsNTE0Ljg4ODksNzYuMjkxNiw1MTYuNDg4OSw3Ni40OTQxLDUxOC4wODg5LDc2LjU2MjksNTE5LjY4ODksNzYuMTkxOSw1MjEuMjg4OSw3Ni40Mjk3LDUyMS4yMTEyLDc2LjQyOTcsNTIwLjg2MjQsODYuNDI2OSw1MjAuOTA1NCw5Ni40MjQxLDUyMS4yMjA3LDEwNi40MjEzLDUyMC41OTc1LDExNi40MTg0LDUyMS44NDI1LDEyNi40MTU2LDUyMC42NTg2LDEzNi40MTI4LDUyMS4wOTExLDE0Ni40MSw1MjEuNzIwOCwxNTYuNDA3Miw1MjEuMjAzMSwxNjYuNDA0NCw1MjEuMzU3MSwxNzYuNDAxNiw1MjEuMjU2OSwxODYuMzk4OCw1MjEuNDY3NCwxOTYuMzk1OSw1MjEuNTI4LDIwNi4zOTMxLDUyMS44NzQ2LDIxNi4zOTAzLDUyMS45NTk5LDIyNi4zODc1LDUyMS45NjgyLDIzNi4zODQ3LDUyMS41NDM1LDI0Ni4zODE5LDUyMS43NTI1LDI1Ni4zNzkxLDUyMS45OTExLDI2Ni4zNzYzLDUyMC41Njc3LDI3Ni4zNzM0LDUyMS45Njc0LDI4Ni4zNzA2LDUyMC45OTI0LDI5Ni4zNjc4LDUyMS44MjI3LDMwNi4zNjUsNTIwLjc5MzksMzE2LjM2MjIsNTIxLjI4ODksMzI2LjM1OTQsNTIxLjI4ODksMzI2LjMzNjUsNTE5LjY4ODksMzI2LjYwNjYsNTE4LjA4ODksMzI2LjM0MzEsNTE2LjQ4ODksMzI2LjM5NDUsNTE0Ljg4ODksMzI2LjQ3MjMsNTEzLjI4ODksMzI2LjM1OTQsNTEzLjcwNTEsMzI2LjM1OTQsNTEzLjI4NSwzMTYuMzYyMiw1MTMuNTc2MSwzMDYuMzY1LDUxMi43MTY1LDI5Ni4zNjc4LDUxMy41NzMzLDI4Ni4zNzA2LDUxMy44MzcxLDI3Ni4zNzM0LDUxMy43MzM0LDI2Ni4zNzYzLDUxMy45MDE5LDI1Ni4zNzkxLDUxMi44MDU4LDI0Ni4zODE5LDUxMi42MzY3LDIzNi4zODQ3LDUxMi42Njc1LDIyNi4zODc1LDUxMy4yMywyMTYuMzkwMyw1MTMuMDkyNCwyMDYuMzkzMSw1MTMuOTcwMywxOTYuMzk1OSw1MTMuMTE0MiwxODYuMzk4Nyw1MTIuOTQ1OCwxNzYuNDAxNiw1MTMuNTE3MiwxNjYuNDA0NCw1MTIuNjIyMSwxNTYuNDA3Miw1MTIuNzY5OCwxNDYuNDEsNTEzLjkzNzgsMTM2LjQxMjgsNTEzLjcyNDYsMTI2LjQxNTYsNTE0LjAyMzQsMTE2LjQxODQsNTEyLjk2NzEsMTA2LjQyMTIsNTEzLjYwODEsOTYuNDI0MSw1MTMuODc5Myw4Ni40MjY5LDUxMy4yODg5LDc2LjQyOTciLz48cGF0aCBkPSJNNTE2LjUwMTMsNzYuNDI5NyBMNTE2Ljc4MTUsNzYuNDI5NyBMNTE1Ljk0ODksODYuNDI2OSBMNTE2Ljc1OSw5Ni40MjQxIEw1MTcuMDM0MiwxMDYuNDIxMyBMNTE1LjU1MDEsMTE2LjQxODQgTDUxNi4zOTc3LDEyNi40MTU2IEw1MTUuOTMyNiwxMzYuNDEyOCBMNTE1Ljk5LDE0Ni40MSBMNTE2LjQxMDQsMTU2LjQwNzIgTDUxNS41Nzk1LDE2Ni40MDQ0IEw1MTcuMjM5NSwxNzYuNDAxNiBMNTE1LjY2MDksMTg2LjM5ODggTDUxNi4yMzc2LDE5Ni4zOTU5IEw1MTcuMDc3MiwyMDYuMzkzMSBMNTE2LjM4NjksMjE2LjM5MDMgTDUxNi41OTIzLDIyNi4zODc1IEw1MTYuNDU4NywyMzYuMzg0NyBMNTE2LjczOTMsMjQ2LjM4MTkgTDUxNi44MjAxLDI1Ni4zNzkxIEw1MTcuMjgyMiwyNjYuMzc2MyBMNTE3LjM5NiwyNzYuMzczNCBMNTE3LjQwNywyODYuMzcwNiBMNTE2Ljg0MDgsMjk2LjM2NzggTDUxNy4xMTk0LDMwNi4zNjUgTDUxNy40Mzc2LDMxNi4zNjIyIEw1MTYuNTAxMywzMjYuMzU5NCIgZmlsbD0ibm9uZSIgc3R5bGU9InN0cm9rZTojMDAwMEZGO3N0cm9rZS13aWR0aDowLjU7c3Ryb2tlLWRhc2hhcnJheTo1LjAsNS4wOyIvPjwvZz48Zz48dGl0bGU+ZW5kcG9pbnQ8L3RpdGxlPjxwb2x5Z29uIGZpbGw9IiMwMDAwMDAiIGZpbGwtb3BhY2l0eT0iMC4wMDAwMCIgcG9pbnRzPSI5NjcuMjM4OCw3Ni40Mjk3LDk2Ny4yMzg4LDc2LjQ5OTcsOTY4LjgzODgsNzYuMjkxNiw5NzAuNDM4OCw3Ni40OTQxLDk3Mi4wMzg4LDc2LjU2MjksOTczLjYzODgsNzYuMTkxOSw5NzUuMjM4OCw3Ni40Mjk3LDk3NS4xNjExLDc2LjQyOTcsOTc0LjgxMjQsODYuNDI2OSw5NzQuODU1Myw5Ni40MjQxLDk3NS4xNzA3LDEwNi40MjEzLDk3NC41NDc1LDExNi40MTg0LDk3NS43OTI1LDEyNi40MTU2LDk3NC42MDg2LDEzNi40MTI4LDk3NS4wNDExLDE0Ni40MSw5NzUuNjcwOCwxNTYuNDA3Miw5NzUuMTUzMSwxNjYuNDA0NCw5NzUuMzA3MSwxNzYuNDAxNiw5NzUuMjA2OSwxODYuMzk4OCw5NzUuNDE3NCwxOTYuMzk1OSw5NzUuNDc4LDIwNi4zOTMxLDk3NS44MjQ1LDIxNi4zOTAzLDk3NS45MDk5LDIyNi4zODc1LDk3NS45MTgxLDIzNi4zODQ3LDk3NS40OTM1LDI0Ni4zODE5LDk3NS43MDI0LDI1Ni4zNzkxLDk3NS45NDExLDI2Ni4zNzYzLDk3NC41MTc3LDI3Ni4zNzM0LDk3NS45MTc0LDI4Ni4zNzA2LDk3NC45NDIzLDI5Ni4zNjc4LDk3NS43NzI3LDMwNi4zNjUsOTc0Ljc0MzgsMzE2LjM2MjIsOTc1LjIzODgsMzI2LjM1OTQsOTc1LjIzODgsMzI2LjMzNjUsOTczLjYzODgsMzI2LjYwNjYsOTcyLjAzODgsMzI2LjM0MzEsOTcwLjQzODgsMzI2LjM5NDUsOTY4LjgzODgsMzI2LjQ3MjMsOTY3LjIzODgsMzI2LjM1OTQsOTY3LjY1NTEsMzI2LjM1OTQsOTY3LjIzNDksMzE2LjM2MjIsOTY3LjUyNjEsMzA2LjM2NSw5NjYuNjY2NCwyOTYuMzY3OCw5NjcuNTIzMiwyODYuMzcwNiw5NjcuNzg3LDI3Ni4zNzM0LDk2Ny42ODM0LDI2Ni4zNzYzLDk2Ny44NTE5LDI1Ni4zNzkxLDk2Ni43NTU4LDI0Ni4zODE5LDk2Ni41ODY3LDIzNi4zODQ3LDk2Ni42MTc0LDIyNi4zODc1LDk2Ny4xOCwyMTYuMzkwMyw5NjcuMDQyMywyMDYuMzkzMSw5NjcuOTIwMywxOTYuMzk1OSw5NjcuMDY0MiwxODYuMzk4Nyw5NjYuODk1OCwxNzYuNDAxNiw5NjcuNDY3MSwxNjYuNDA0NCw5NjYuNTcyLDE1Ni40MDcyLDk2Ni43MTk3LDE0Ni40MSw5NjcuODg3OCwxMzYuNDEyOCw5NjcuNjc0NSwxMjYuNDE1Niw5NjcuOTczMywxMTYuNDE4NCw5NjYuOTE3MSwxMDYuNDIxMiw5NjcuNTU4LDk2LjQyNDEsOTY3LjgyOTMsODYuNDI2OSw5NjcuMjM4OCw3Ni40Mjk3Ii8+PHBhdGggZD0iTTk3MC41NDkxLDc2LjQyOTcgTDk3MC44Mjk0LDc2LjQyOTcgTDk2OS45OTY3LDg2LjQyNjkgTDk3MC44MDY5LDk2LjQyNDEgTDk3MS4wODIxLDEwNi40MjEzIEw5NjkuNTk4LDExNi40MTg0IEw5NzAuNDQ1NSwxMjYuNDE1NiBMOTY5Ljk4MDUsMTM2LjQxMjggTDk3MC4wMzc4LDE0Ni40MSBMOTcwLjQ1ODMsMTU2LjQwNzIgTDk2OS42MjczLDE2Ni40MDQ0IEw5NzEuMjg3MywxNzYuNDAxNiBMOTY5LjcwODgsMTg2LjM5ODggTDk3MC4yODU1LDE5Ni4zOTU5IEw5NzEuMTI1MSwyMDYuMzkzMSBMOTcwLjQzNDgsMjE2LjM5MDMgTDk3MC42NDAxLDIyNi4zODc1IEw5NzAuNTA2NiwyMzYuMzg0NyBMOTcwLjc4NzIsMjQ2LjM4MTkgTDk3MC44NjgsMjU2LjM3OTEgTDk3MS4zMzAxLDI2Ni4zNzYzIEw5NzEuNDQzOSwyNzYuMzczNCBMOTcxLjQ1NDgsMjg2LjM3MDYgTDk3MC44ODg3LDI5Ni4zNjc4IEw5NzEuMTY3MywzMDYuMzY1IEw5NzEuNDg1NSwzMTYuMzYyMiBMOTcwLjU0OTEsMzI2LjM1OTQiIGZpbGw9Im5vbmUiIHN0eWxlPSJzdHJva2U6IzAwMDBGRjtzdHJva2Utd2lkdGg6MC41O3N0cm9rZS1kYXNoYXJyYXk6NS4wLDUuMDsiLz48L2c+PGcgY2xhc3M9InBhcnRpY2lwYW50IHBhcnRpY2lwYW50LWhlYWQiIGRhdGEtcGFydGljaXBhbnQ9IlBvZCI+PHBvbHlnb24gZmlsbD0iIzFFOTBGRiIgcG9pbnRzPSI3LjUsNDEuNjQwNiw3LjUsNDEuNzEwNywxNS41ODg3LDQxLjUwMjUsMjMuNjc3Myw0MS43MDUxLDMxLjc2Niw0MS43NzM5LDM5Ljg1NDcsNDEuNDAyOCw0Ny45NDM0LDQxLjY0MDYsNDcuOTMzNCw0MS42MTY3LDQ4LjI0MjUsNDEuNjU1Nyw0OC42MDE1LDQxLjgxNTQsNDguOTk1Myw0Mi4wNTksNDkuMjY5NCw0Mi4wMTM1LDQ5LjcxMTEsNDIuMzcyOSw0OS44ODE2LDQyLjQ0MzUsNDkuNjYzNSw0Mi42NDYsNDkuOTQzMSw0My4wNTQ3LDUwLjI4MzUsNDMuNDg4Niw1MC4yNzA1LDQzLjc3NjEsNTAuNDQzNCw0NC4xNDA2LDUwLjQ2NjEsNDQuMTQwNiw1MC40MzI3LDQ5Ljg5ODQsNTAuNTAyOSw1NS42NTYzLDUwLjUyMzEsNjEuNDE0MSw1MC42Mzg2LDY3LjE3MTksNTAuNDQzNCw3Mi45Mjk3LDUwLjY1LDczLjAxNTMsNTAuNTA2MSw3My4zNjk5LDUwLjIyODksNzMuNjY5Myw1MC4xNDY4LDc0LjA0OTUsNTAuMDczOCw3NC40MzM1LDQ5LjcxMTEsNzQuNjk3NSw0OS42MTkxLDc0LjQ3NTQsNDkuNDQ0MSw3NS4wNTI5LDQ4Ljk2NjIsNzQuODk5LDQ4LjcxODYsNzUuMzAxMiw0OC4yMzM4LDc1LjEzMDgsNDcuOTQzNCw3NS40Mjk3LDQ3Ljk0MzQsNzUuNDA2OSwzOS44NTQ3LDc1LjY3NjksMzEuNzY2LDc1LjQxMzQsMjMuNjc3Myw3NS40NjQ4LDE1LjU4ODcsNzUuNTQyNiw3LjUsNzUuNDI5Nyw3LjU1MzEsNzUuNTU3OSw3LjE0NTksNzUuMjgyLDYuODI5NSw3NS4yMjUyLDYuMzY2Myw3NC44MTQxLDYuMTIyMSw3NC45MzE1LDUuNzMyMiw3NC42OTc1LDUuOTAxMSw3NC43Njc0LDUuNzIyNyw3NC40MDA2LDUuNjI4MSw3NC4wNjg1LDUuMTQ0MSw3My41NzUyLDQuOTQ1Niw3My4yLDUsNzIuOTI5Nyw0Ljc5MjksNzIuOTI5Nyw0Ljk4MDQsNjcuMTcxOSw0LjkzNDUsNjEuNDE0MSw1LjIyNzEsNTUuNjU2Myw0Ljk0MTgsNDkuODk4NCw1LDQ0LjE0MDYsNC44OTQ0LDQ0LjA5NjksNS4yMTY3LDQzLjgxNjIsNS4wODc1LDQzLjM0ODUsNS4yNzk1LDQzLjAxMzcsNS43ODU2LDQyLjgwOTIsNS43MzIyLDQyLjM3MjksNS43ODc4LDQyLjUwNyw2LjE3OTUsNDIuNDUyNiw2LjM5ODMsNDEuOTgwOSw2LjgzMzYsNDIuMDMxOCw3LjIyMTgsNDEuOTY4OSw3LjUsNDEuNjQwNiIgc3R5bGU9InN0cm9rZTojMDBCRkZGO3N0cm9rZS13aWR0aDowLjU7Ii8+PHRleHQgZmlsbD0iI0E5RENERiIgZm9udC1mYW1pbHk9IkltcGFjdCIgZm9udC1zaXplPSIxNyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIzMS40NDM0IiB4PSIxMiIgeT0iNjQuNDIwNCI+UG9kPC90ZXh0PjwvZz48ZyBjbGFzcz0icGFydGljaXBhbnQgcGFydGljaXBhbnQtdGFpbCIgZGF0YS1wYXJ0aWNpcGFudD0iUG9kIj48cG9seWdvbiBmaWxsPSIjMUU5MEZGIiBwb2ludHM9IjcuNSwzMjUuMzU5NCw3LjUsMzI1LjQyOTQsMTUuNTg4NywzMjUuMjIxMywyMy42NzczLDMyNS40MjM4LDMxLjc2NiwzMjUuNDkyNiwzOS44NTQ3LDMyNS4xMjE2LDQ3Ljk0MzQsMzI1LjM1OTQsNDcuOTMzNCwzMjUuMzM1NCw0OC4yNDI1LDMyNS4zNzQ1LDQ4LjYwMTUsMzI1LjUzNDIsNDguOTk1MywzMjUuNzc3Nyw0OS4yNjk0LDMyNS43MzIyLDQ5LjcxMTEsMzI2LjA5MTYsNDkuODgxNiwzMjYuMTYyMiw0OS42NjM1LDMyNi4zNjQ4LDQ5Ljk0MzEsMzI2Ljc3MzUsNTAuMjgzNSwzMjcuMjA3NCw1MC4yNzA1LDMyNy40OTQ5LDUwLjQ0MzQsMzI3Ljg1OTQsNTAuNDY2MSwzMjcuODU5NCw1MC40MzI3LDMzMy42MTcyLDUwLjUwMjksMzM5LjM3NSw1MC41MjMxLDM0NS4xMzI4LDUwLjYzODYsMzUwLjg5MDYsNTAuNDQzNCwzNTYuNjQ4NCw1MC42NSwzNTYuNzM0LDUwLjUwNjEsMzU3LjA4ODYsNTAuMjI4OSwzNTcuMzg4LDUwLjE0NjgsMzU3Ljc2ODIsNTAuMDczOCwzNTguMTUyMiw0OS43MTExLDM1OC40MTYyLDQ5LjYxOTEsMzU4LjE5NDEsNDkuNDQ0MSwzNTguNzcxNiw0OC45NjYyLDM1OC42MTc4LDQ4LjcxODYsMzU5LjAxOTksNDguMjMzOCwzNTguODQ5NSw0Ny45NDM0LDM1OS4xNDg0LDQ3Ljk0MzQsMzU5LjEyNTYsMzkuODU0NywzNTkuMzk1NiwzMS43NjYsMzU5LjEzMjIsMjMuNjc3MywzNTkuMTgzNSwxNS41ODg3LDM1OS4yNjEzLDcuNSwzNTkuMTQ4NCw3LjU1MzEsMzU5LjI3NjYsNy4xNDU5LDM1OS4wMDA4LDYuODI5NSwzNTguOTQ0LDYuMzY2MywzNTguNTMyOCw2LjEyMjEsMzU4LjY1MDIsNS43MzIyLDM1OC40MTYyLDUuOTAxMSwzNTguNDg2MSw1LjcyMjcsMzU4LjExOTQsNS42MjgxLDM1Ny43ODczLDUuMTQ0MSwzNTcuMjkzOSw0Ljk0NTYsMzU2LjkxODgsNSwzNTYuNjQ4NCw0Ljc5MjksMzU2LjY0ODQsNC45ODA0LDM1MC44OTA2LDQuOTM0NSwzNDUuMTMyOCw1LjIyNzEsMzM5LjM3NSw0Ljk0MTgsMzMzLjYxNzIsNSwzMjcuODU5NCw0Ljg5NDQsMzI3LjgxNTYsNS4yMTY3LDMyNy41MzQ5LDUuMDg3NSwzMjcuMDY3Miw1LjI3OTUsMzI2LjczMjUsNS43ODU2LDMyNi41Mjc5LDUuNzMyMiwzMjYuMDkxNiw1Ljc4NzgsMzI2LjIyNTgsNi4xNzk1LDMyNi4xNzE0LDYuMzk4MywzMjUuNjk5Niw2LjgzMzYsMzI1Ljc1MDYsNy4yMjE4LDMyNS42ODc2LDcuNSwzMjUuMzU5NCIgc3R5bGU9InN0cm9rZTojMDBCRkZGO3N0cm9rZS13aWR0aDowLjU7Ii8+PHRleHQgZmlsbD0iI0E5RENERiIgZm9udC1mYW1pbHk9IkltcGFjdCIgZm9udC1zaXplPSIxNyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIzMS40NDM0IiB4PSIxMiIgeT0iMzQ4LjEzOTIiPlBvZDwvdGV4dD48L2c+PGcgY2xhc3M9InBhcnRpY2lwYW50IHBhcnRpY2lwYW50LWhlYWQiIGRhdGEtcGFydGljaXBhbnQ9ImNvcmVETlMiPjxwb2x5Z29uIGZpbGw9IiMxRTkwRkYiIHBvaW50cz0iMjIyLjE5MDUsNDEuNjQwNiwyMjIuMTkwNSw0MS44NTA4LDIzMi41Mzk3LDQxLjIyNjMsMjQyLjg4OSw0MS44MzM5LDI1My4yMzgyLDQyLjA0MDMsMjYzLjU4NzUsNDAuOTI3MiwyNzMuOTM2Nyw0MS41NjI5LDI4NC4yODYsNDEuMjE0MSwyOTQuNjM1Miw0MS4yNTcxLDMwNC45ODQ1LDQxLjY0MDYsMzA0Ljk3NTgsNDEuNjE5NiwzMDUuMjQ5OCw0MS41NzQyLDMwNS43NjIyLDQyLjEwNCwzMDUuOTY0Nyw0MS44ODU5LDMwNi4zNzM0LDQyLjE2NTUsMzA2Ljc1MjIsNDIuMzcyOSwzMDYuODg1Miw0Mi40MjgsMzA2Ljg3MjIsNDIuNzE1NSwzMDcuMDY2MSw0My4wODg3LDMwNy4xODE3LDQzLjQyOTQsMzA3LjM5Myw0My44MDk4LDMwNy40ODQ1LDQ0LjE0MDYsMzA3LjU2NDIsNDQuMTQwNiwzMDcuNjc5Nyw0OS44OTg0LDMwNy43MDgxLDU1LjY1NjMsMzA3LjcxMDksNjEuNDE0MSwzMDcuNTY5Myw2Ny4xNzE5LDMwNy40ODQ1LDcyLjkyOTcsMzA3LjYyNzIsNzIuOTg4OCwzMDcuNTU0Myw3My4zNzI4LDMwNi45Njk1LDczLjU0NDgsMzA3LjI1NDEsNzQuMDc2OSwzMDYuODA3NCw3NC4zMDYxLDMwNi43NTIyLDc0LjY5NzUsMzA2LjgyMDMsNzQuODYxOCwzMDYuMzM1NSw3NC42OTE1LDMwNi4wMzY0LDc0Ljk2OTMsMzA1Ljc4NjIsNzUuMzY1MiwzMDUuMzMxOCw3NS4yNjgyLDMwNC45ODQ1LDc1LjQyOTcsMzA0Ljk4NDUsNzUuNTM1LDI5NC42MzUyLDc1Ljc2ODMsMjg0LjI4Niw3NS44NDU5LDI3My45MzY3LDc1LjQyNTgsMjYzLjU4NzUsNzUuNzE2OSwyNTMuMjM4Miw3NC44NTczLDI0Mi44ODksNzUuNzE0MSwyMzIuNTM5Nyw3NS45Nzc5LDIyMi4xOTA1LDc1LjQyOTcsMjIyLjI0NzIsNzUuNTY2NiwyMjEuOTE1Miw3NS40NzIsMjIxLjQyMTgsNzQuOTg4LDIyMS4wNDY3LDc0Ljc4OTUsMjIwLjY5Nyw3NC42NTI1LDIyMC40MjI3LDc0LjY5NzUsMjIwLjQwNDYsNzQuNjg5OSwyMjAuMjE1OCw3NC4zMTg4LDIyMC4zMzk3LDc0LjA3NzMsMjE5LjkyOTYsNzMuNjE0NSwyMTkuNzMxMyw3My4yMzk1LDIxOS42OTA1LDcyLjkyOTcsMjE5Ljc2NjYsNzIuOTI5NywyMTkuNDY4Miw2Ny4xNzE5LDIxOS41MTc1LDYxLjQxNDEsMjE5LjkwNjgsNTUuNjU2MywyMTkuODM1Nyw0OS44OTg0LDIxOS42OTA1LDQ0LjE0MDYsMjE5LjkxNjcsNDQuMjM0MywyMTkuNzM3OSw0My43NDYsMjIwLjA4MTcsNDMuNDc0MiwyMjAuMzExNyw0My4xNTUzLDIyMC4xMzA4LDQyLjY2NjIsMjIwLjQyMjcsNDIuMzcyOSwyMjAuNDEwNSw0Mi4zNDMzLDIyMC43OTI0LDQyLjI2NTIsMjIxLjIxMyw0Mi4yODA3LDIyMS40ODI5LDQxLjkzMjIsMjIxLjg5Niw0MS45Mjk1LDIyMi4xOTA1LDQxLjY0MDYiIHN0eWxlPSJzdHJva2U6IzAwQkZGRjtzdHJva2Utd2lkdGg6MC41OyIvPjx0ZXh0IGZpbGw9IiNBOURDREYiIGZvbnQtZmFtaWx5PSJJbXBhY3QiIGZvbnQtc2l6ZT0iMTciIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNzMuNzkzOSIgeD0iMjI2LjY5MDUiIHk9IjY0LjQyMDQiPmNvcmVETlM8L3RleHQ+PC9nPjxnIGNsYXNzPSJwYXJ0aWNpcGFudCBwYXJ0aWNpcGFudC10YWlsIiBkYXRhLXBhcnRpY2lwYW50PSJjb3JlRE5TIj48cG9seWdvbiBmaWxsPSIjMUU5MEZGIiBwb2ludHM9IjIyMi4xOTA1LDMyNS4zNTk0LDIyMi4xOTA1LDMyNS41Njk2LDIzMi41Mzk3LDMyNC45NDUxLDI0Mi44ODksMzI1LjU1MjcsMjUzLjIzODIsMzI1Ljc1OTEsMjYzLjU4NzUsMzI0LjY0NiwyNzMuOTM2NywzMjUuMjgxNywyODQuMjg2LDMyNC45MzI5LDI5NC42MzUyLDMyNC45NzU5LDMwNC45ODQ1LDMyNS4zNTk0LDMwNC45NzU4LDMyNS4zMzg0LDMwNS4yNDk4LDMyNS4yOTI5LDMwNS43NjIyLDMyNS44MjI4LDMwNS45NjQ3LDMyNS42MDQ2LDMwNi4zNzM0LDMyNS44ODQzLDMwNi43NTIyLDMyNi4wOTE2LDMwNi44ODUyLDMyNi4xNDY3LDMwNi44NzIyLDMyNi40MzQyLDMwNy4wNjYxLDMyNi44MDc0LDMwNy4xODE3LDMyNy4xNDgyLDMwNy4zOTMsMzI3LjUyODYsMzA3LjQ4NDUsMzI3Ljg1OTQsMzA3LjU2NDIsMzI3Ljg1OTQsMzA3LjY3OTcsMzMzLjYxNzIsMzA3LjcwODEsMzM5LjM3NSwzMDcuNzEwOSwzNDUuMTMyOCwzMDcuNTY5MywzNTAuODkwNiwzMDcuNDg0NSwzNTYuNjQ4NCwzMDcuNjI3MiwzNTYuNzA3NiwzMDcuNTU0MywzNTcuMDkxNiwzMDYuOTY5NSwzNTcuMjYzNSwzMDcuMjU0MSwzNTcuNzk1NiwzMDYuODA3NCwzNTguMDI0OCwzMDYuNzUyMiwzNTguNDE2MiwzMDYuODIwMywzNTguNTgwNiwzMDYuMzM1NSwzNTguNDEwMiwzMDYuMDM2NCwzNTguNjg4LDMwNS43ODYyLDM1OS4wODM5LDMwNS4zMzE4LDM1OC45ODcsMzA0Ljk4NDUsMzU5LjE0ODQsMzA0Ljk4NDUsMzU5LjI1MzcsMjk0LjYzNTIsMzU5LjQ4NzEsMjg0LjI4NiwzNTkuNTY0NywyNzMuOTM2NywzNTkuMTQ0NSwyNjMuNTg3NSwzNTkuNDM1NywyNTMuMjM4MiwzNTguNTc2LDI0Mi44ODksMzU5LjQzMjgsMjMyLjUzOTcsMzU5LjY5NjYsMjIyLjE5MDUsMzU5LjE0ODQsMjIyLjI0NzIsMzU5LjI4NTMsMjIxLjkxNTIsMzU5LjE5MDgsMjIxLjQyMTgsMzU4LjcwNjgsMjIxLjA0NjcsMzU4LjUwODMsMjIwLjY5NywzNTguMzcxMywyMjAuNDIyNywzNTguNDE2MiwyMjAuNDA0NiwzNTguNDA4NywyMjAuMjE1OCwzNTguMDM3NiwyMjAuMzM5NywzNTcuNzk2LDIxOS45Mjk2LDM1Ny4zMzMzLDIxOS43MzEzLDM1Ni45NTgyLDIxOS42OTA1LDM1Ni42NDg0LDIxOS43NjY2LDM1Ni42NDg0LDIxOS40NjgyLDM1MC44OTA2LDIxOS41MTc1LDM0NS4xMzI4LDIxOS45MDY4LDMzOS4zNzUsMjE5LjgzNTcsMzMzLjYxNzIsMjE5LjY5MDUsMzI3Ljg1OTQsMjE5LjkxNjcsMzI3Ljk1MzEsMjE5LjczNzksMzI3LjQ2NDgsMjIwLjA4MTcsMzI3LjE5MywyMjAuMzExNywzMjYuODc0LDIyMC4xMzA4LDMyNi4zODQ5LDIyMC40MjI3LDMyNi4wOTE2LDIyMC40MTA1LDMyNi4wNjIxLDIyMC43OTI0LDMyNS45ODQsMjIxLjIxMywzMjUuOTk5NCwyMjEuNDgyOSwzMjUuNjUxLDIyMS44OTYsMzI1LjY0ODMsMjIyLjE5MDUsMzI1LjM1OTQiIHN0eWxlPSJzdHJva2U6IzAwQkZGRjtzdHJva2Utd2lkdGg6MC41OyIvPjx0ZXh0IGZpbGw9IiNBOURDREYiIGZvbnQtZmFtaWx5PSJJbXBhY3QiIGZvbnQtc2l6ZT0iMTciIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNzMuNzkzOSIgeD0iMjI2LjY5MDUiIHk9IjM0OC4xMzkyIj5jb3JlRE5TPC90ZXh0PjwvZz48ZyBjbGFzcz0icGFydGljaXBhbnQgcGFydGljaXBhbnQtaGVhZCIgZGF0YS1wYXJ0aWNpcGFudD0iaXB0YWJsZXMiPjxwb2x5Z29uIGZpbGw9IiMxRTkwRkYiIHBvaW50cz0iMzE5Ljk4NDUsNDEuNjQwNiwzMTkuOTg0NSw0MS44NTA4LDMyOS41Mzc5LDQxLjIyNjMsMzM5LjA5MTMsNDEuODMzOSwzNDguNjQ0Nyw0Mi4wNDAzLDM1OC4xOTgxLDQwLjkyNzIsMzY3Ljc1MTUsNDEuNTYyOSwzNzcuMzA0OSw0MS4yMTQxLDM4Ni44NTgzLDQxLjI1NzEsMzk2LjQxMTcsNDEuNjQwNiwzOTYuNDAzLDQxLjYxOTYsMzk2LjY3NzEsNDEuNTc0MiwzOTcuMTg5NCw0Mi4xMDQsMzk3LjM5Miw0MS44ODU5LDM5Ny44MDA3LDQyLjE2NTUsMzk4LjE3OTUsNDIuMzcyOSwzOTguMzEyNSw0Mi40MjgsMzk4LjI5OTUsNDIuNzE1NSwzOTguNDkzNCw0My4wODg3LDM5OC42MDksNDMuNDI5NCwzOTguODIwMiw0My44MDk4LDM5OC45MTE3LDQ0LjE0MDYsMzk4Ljk5MTQsNDQuMTQwNiwzOTkuMTA2OSw0OS44OTg0LDM5OS4xMzU0LDU1LjY1NjMsMzk5LjEzODEsNjEuNDE0MSwzOTguOTk2Niw2Ny4xNzE5LDM5OC45MTE3LDcyLjkyOTcsMzk5LjA1NDUsNzIuOTg4OCwzOTguOTgxNSw3My4zNzI4LDM5OC4zOTY3LDczLjU0NDgsMzk4LjY4MTMsNzQuMDc2OSwzOTguMjM0Niw3NC4zMDYxLDM5OC4xNzk1LDc0LjY5NzUsMzk4LjI0NzYsNzQuODYxOCwzOTcuNzYyOCw3NC42OTE1LDM5Ny40NjM2LDc0Ljk2OTMsMzk3LjIxMzQsNzUuMzY1MiwzOTYuNzU5LDc1LjI2ODIsMzk2LjQxMTcsNzUuNDI5NywzOTYuNDExNyw3NS41MzUsMzg2Ljg1ODMsNzUuNzY4MywzNzcuMzA0OSw3NS44NDU5LDM2Ny43NTE1LDc1LjQyNTgsMzU4LjE5ODEsNzUuNzE2OSwzNDguNjQ0Nyw3NC44NTczLDMzOS4wOTEzLDc1LjcxNDEsMzI5LjUzNzksNzUuOTc3OSwzMTkuOTg0NSw3NS40Mjk3LDMyMC4wNDEyLDc1LjU2NjYsMzE5LjcwOTEsNzUuNDcyLDMxOS4yMTU3LDc0Ljk4OCwzMTguODQwNiw3NC43ODk1LDMxOC40OTEsNzQuNjUyNSwzMTguMjE2Nyw3NC42OTc1LDMxOC4xOTg2LDc0LjY4OTksMzE4LjAwOTcsNzQuMzE4OCwzMTguMTMzNiw3NC4wNzczLDMxNy43MjM2LDczLjYxNDUsMzE3LjUyNTMsNzMuMjM5NSwzMTcuNDg0NSw3Mi45Mjk3LDMxNy41NjA1LDcyLjkyOTcsMzE3LjI2MjIsNjcuMTcxOSwzMTcuMzExNCw2MS40MTQxLDMxNy43MDA4LDU1LjY1NjMsMzE3LjYyOTcsNDkuODk4NCwzMTcuNDg0NSw0NC4xNDA2LDMxNy43MTA2LDQ0LjIzNDMsMzE3LjUzMTgsNDMuNzQ2LDMxNy44NzU2LDQzLjQ3NDIsMzE4LjEwNTYsNDMuMTU1MywzMTcuOTI0OCw0Mi42NjYyLDMxOC4yMTY3LDQyLjM3MjksMzE4LjIwNDUsNDIuMzQzMywzMTguNTg2Myw0Mi4yNjUyLDMxOS4wMDY5LDQyLjI4MDcsMzE5LjI3NjgsNDEuOTMyMiwzMTkuNjg5OSw0MS45Mjk1LDMxOS45ODQ1LDQxLjY0MDYiIHN0eWxlPSJzdHJva2U6IzAwQkZGRjtzdHJva2Utd2lkdGg6MC41OyIvPjx0ZXh0IGZpbGw9IiNBOURDREYiIGZvbnQtZmFtaWx5PSJJbXBhY3QiIGZvbnQtc2l6ZT0iMTciIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNjcuNDI3MiIgeD0iMzI0LjQ4NDUiIHk9IjY0LjQyMDQiPmlwdGFibGVzPC90ZXh0PjwvZz48ZyBjbGFzcz0icGFydGljaXBhbnQgcGFydGljaXBhbnQtdGFpbCIgZGF0YS1wYXJ0aWNpcGFudD0iaXB0YWJsZXMiPjxwb2x5Z29uIGZpbGw9IiMxRTkwRkYiIHBvaW50cz0iMzE5Ljk4NDUsMzI1LjM1OTQsMzE5Ljk4NDUsMzI1LjU2OTYsMzI5LjUzNzksMzI0Ljk0NTEsMzM5LjA5MTMsMzI1LjU1MjcsMzQ4LjY0NDcsMzI1Ljc1OTEsMzU4LjE5ODEsMzI0LjY0NiwzNjcuNzUxNSwzMjUuMjgxNywzNzcuMzA0OSwzMjQuOTMyOSwzODYuODU4MywzMjQuOTc1OSwzOTYuNDExNywzMjUuMzU5NCwzOTYuNDAzLDMyNS4zMzg0LDM5Ni42NzcxLDMyNS4yOTI5LDM5Ny4xODk0LDMyNS44MjI4LDM5Ny4zOTIsMzI1LjYwNDYsMzk3LjgwMDcsMzI1Ljg4NDMsMzk4LjE3OTUsMzI2LjA5MTYsMzk4LjMxMjUsMzI2LjE0NjcsMzk4LjI5OTUsMzI2LjQzNDIsMzk4LjQ5MzQsMzI2LjgwNzQsMzk4LjYwOSwzMjcuMTQ4MiwzOTguODIwMiwzMjcuNTI4NiwzOTguOTExNywzMjcuODU5NCwzOTguOTkxNCwzMjcuODU5NCwzOTkuMTA2OSwzMzMuNjE3MiwzOTkuMTM1NCwzMzkuMzc1LDM5OS4xMzgxLDM0NS4xMzI4LDM5OC45OTY2LDM1MC44OTA2LDM5OC45MTE3LDM1Ni42NDg0LDM5OS4wNTQ1LDM1Ni43MDc2LDM5OC45ODE1LDM1Ny4wOTE2LDM5OC4zOTY3LDM1Ny4yNjM1LDM5OC42ODEzLDM1Ny43OTU2LDM5OC4yMzQ2LDM1OC4wMjQ4LDM5OC4xNzk1LDM1OC40MTYyLDM5OC4yNDc2LDM1OC41ODA2LDM5Ny43NjI4LDM1OC40MTAyLDM5Ny40NjM2LDM1OC42ODgsMzk3LjIxMzQsMzU5LjA4MzksMzk2Ljc1OSwzNTguOTg3LDM5Ni40MTE3LDM1OS4xNDg0LDM5Ni40MTE3LDM1OS4yNTM3LDM4Ni44NTgzLDM1OS40ODcxLDM3Ny4zMDQ5LDM1OS41NjQ3LDM2Ny43NTE1LDM1OS4xNDQ1LDM1OC4xOTgxLDM1OS40MzU3LDM0OC42NDQ3LDM1OC41NzYsMzM5LjA5MTMsMzU5LjQzMjgsMzI5LjUzNzksMzU5LjY5NjYsMzE5Ljk4NDUsMzU5LjE0ODQsMzIwLjA0MTIsMzU5LjI4NTMsMzE5LjcwOTEsMzU5LjE5MDgsMzE5LjIxNTcsMzU4LjcwNjgsMzE4Ljg0MDYsMzU4LjUwODMsMzE4LjQ5MSwzNTguMzcxMywzMTguMjE2NywzNTguNDE2MiwzMTguMTk4NiwzNTguNDA4NywzMTguMDA5NywzNTguMDM3NiwzMTguMTMzNiwzNTcuNzk2LDMxNy43MjM2LDM1Ny4zMzMzLDMxNy41MjUzLDM1Ni45NTgyLDMxNy40ODQ1LDM1Ni42NDg0LDMxNy41NjA1LDM1Ni42NDg0LDMxNy4yNjIyLDM1MC44OTA2LDMxNy4zMTE0LDM0NS4xMzI4LDMxNy43MDA4LDMzOS4zNzUsMzE3LjYyOTcsMzMzLjYxNzIsMzE3LjQ4NDUsMzI3Ljg1OTQsMzE3LjcxMDYsMzI3Ljk1MzEsMzE3LjUzMTgsMzI3LjQ2NDgsMzE3Ljg3NTYsMzI3LjE5MywzMTguMTA1NiwzMjYuODc0LDMxNy45MjQ4LDMyNi4zODQ5LDMxOC4yMTY3LDMyNi4wOTE2LDMxOC4yMDQ1LDMyNi4wNjIxLDMxOC41ODYzLDMyNS45ODQsMzE5LjAwNjksMzI1Ljk5OTQsMzE5LjI3NjgsMzI1LjY1MSwzMTkuNjg5OSwzMjUuNjQ4MywzMTkuOTg0NSwzMjUuMzU5NCIgc3R5bGU9InN0cm9rZTojMDBCRkZGO3N0cm9rZS13aWR0aDowLjU7Ii8+PHRleHQgZmlsbD0iI0E5RENERiIgZm9udC1mYW1pbHk9IkltcGFjdCIgZm9udC1zaXplPSIxNyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI2Ny40MjcyIiB4PSIzMjQuNDg0NSIgeT0iMzQ4LjEzOTIiPmlwdGFibGVzPC90ZXh0PjwvZz48ZyBjbGFzcz0icGFydGljaXBhbnQgcGFydGljaXBhbnQtaGVhZCIgZGF0YS1wYXJ0aWNpcGFudD0ia3ViZV9wcm94eSI+PHBvbHlnb24gZmlsbD0iIzFFOTBGRiIgcG9pbnRzPSI0NjUuMDAxMyw0MS42NDA2LDQ2NS4wMDEzLDQxLjg1MDgsNDc1LjQ1ODgsNDEuMjI2Myw0ODUuOTE2Myw0MS44MzM5LDQ5Ni4zNzM5LDQyLjA0MDMsNTA2LjgzMTQsNDAuOTI3Miw1MTcuMjg4OSw0MS41NjI5LDUyNy43NDY0LDQxLjIxNDEsNTM4LjIwMzksNDEuMjU3MSw1NDguNjYxNSw0MS41NzI1LDU1OS4xMTksNDAuOTQ5Myw1NjkuNTc2NSw0MS42NDA2LDU2OS42NDcxLDQxLjgxMTEsNTY5Ljg0OTYsNDEuNTkzLDU3MC4yNTg0LDQxLjg3MjYsNTcwLjY5MjMsNDIuMjEzLDU3MC45Nzk4LDQyLjIsNTcxLjM0NDMsNDIuMzcyOSw1NzEuMzY1Myw0Mi4zODE2LDU3MS40ODA5LDQyLjcyMjMsNTcxLjY5MjEsNDMuMTAyNyw1NzEuODU3Miw0My40NjQsNTcyLjExMDQsNDMuODYxOCw1NzIuMDc2NSw0NC4xNDA2LDU3Mi4zMDAyLDQ0LjE0MDYsNTcyLjMwMjksNDkuODk4NCw1NzIuMTYxNCw1NS42NTYzLDU3Mi4yMzEsNjEuNDE0MSw1NzIuMzEwNiw2Ny4xNzE5LDU3Mi4wNzY1LDcyLjkyOTcsNTcxLjg1NDQsNzIuODM3Nyw1NzIuMTM5LDczLjM2OTgsNTcxLjY5MjMsNzMuNTk5LDU3MS44MDE1LDc0LjA1ODQsNTcxLjMzODMsNzQuMjgwOCw1NzEuMzQ0Myw3NC42OTc1LDU3MS4zMzU1LDc0LjY3NjQsNTcxLjA4NTMsNzUuMDcyMyw1NzAuNjMwOSw3NC45NzUzLDU3MC4yOTcsNzUuMTY5Miw1NjkuOTczMiw3NS4zODc1LDU2OS41NzY1LDc1LjQyOTcsNTY5LjU3NjUsNzUuODQ1OSw1NTkuMTE5LDc1LjQyNTgsNTQ4LjY2MTUsNzUuNzE2OSw1MzguMjAzOSw3NC44NTczLDUyNy43NDY0LDc1LjcxNDEsNTE3LjI4ODksNzUuOTc3OSw1MDYuODMxNCw3NS44NzQyLDQ5Ni4zNzM5LDc2LjA0MjcsNDg1LjkxNjMsNzQuOTQ2Niw0NzUuNDU4OCw3NC43Nzc1LDQ2NS4wMDEzLDc1LjQyOTcsNDY0LjkyMiw3NS4yMzgzLDQ2NC42NDAyLDc1LjI2NTEsNDY0LjI2OTEsNzUuMDc2Myw0NjQuMDI3Niw3NS4yMDAyLDQ2My41NjQ4LDc0Ljc5MDEsNDYzLjIzMzUsNzQuNjk3NSw0NjMuMTI3OSw3NC42NTM3LDQ2My4xNTc0LDc0LjM3Myw0NjIuNzM1Myw3My45MDUzLDQ2Mi42MzQzLDczLjU3MDYsNDYyLjg0NzYsNzMuMzY2LDQ2Mi41MDEzLDcyLjkyOTcsNDYyLjY0NjUsNzIuOTI5Nyw0NjIuNzQ2MSw2Ny4xNzE5LDQ2Mi4zOTQsNjEuNDE0MSw0NjIuNjA3Nyw1NS42NTYzLDQ2Mi42OTgxLDQ5Ljg5ODQsNDYyLjUwMTMsNDQuMTQwNiw0NjIuMzU1OCw0NC4wODA0LDQ2Mi42MTgyLDQzLjc3NDgsNDYyLjgzMyw0My40NDk2LDQ2My4xNDE0LDQzLjE2MzEsNDYzLjA4NTgsNDIuNzI1OSw0NjMuMjMzNSw0Mi4zNzI5LDQ2My4yOTI1LDQyLjUxNTMsNDYzLjUxNjQsNDIuMDU1OSw0NjMuODU0Miw0MS44NzE0LDQ2NC4zNTg0LDQyLjA4ODYsNDY0LjU1NjMsNDEuNTY2Myw0NjUuMDAxMyw0MS42NDA2IiBzdHlsZT0ic3Ryb2tlOiMwMEJGRkY7c3Ryb2tlLXdpZHRoOjAuNTsiLz48dGV4dCBmaWxsPSIjQTlEQ0RGIiBmb250LWZhbWlseT0iSW1wYWN0IiBmb250LXNpemU9IjE3IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9Ijk1LjU3NTIiIHg9IjQ2OS41MDEzIiB5PSI2NC40MjA0Ij5rdWJlIHByb3h5PC90ZXh0PjwvZz48ZyBjbGFzcz0icGFydGljaXBhbnQgcGFydGljaXBhbnQtdGFpbCIgZGF0YS1wYXJ0aWNpcGFudD0ia3ViZV9wcm94eSI+PHBvbHlnb24gZmlsbD0iIzFFOTBGRiIgcG9pbnRzPSI0NjUuMDAxMywzMjUuMzU5NCw0NjUuMDAxMywzMjUuNTY5Niw0NzUuNDU4OCwzMjQuOTQ1MSw0ODUuOTE2MywzMjUuNTUyNyw0OTYuMzczOSwzMjUuNzU5MSw1MDYuODMxNCwzMjQuNjQ2LDUxNy4yODg5LDMyNS4yODE3LDUyNy43NDY0LDMyNC45MzI5LDUzOC4yMDM5LDMyNC45NzU5LDU0OC42NjE1LDMyNS4yOTEyLDU1OS4xMTksMzI0LjY2OCw1NjkuNTc2NSwzMjUuMzU5NCw1NjkuNjQ3MSwzMjUuNTI5OSw1NjkuODQ5NiwzMjUuMzExNyw1NzAuMjU4NCwzMjUuNTkxNCw1NzAuNjkyMywzMjUuOTMxNyw1NzAuOTc5OCwzMjUuOTE4Nyw1NzEuMzQ0MywzMjYuMDkxNiw1NzEuMzY1MywzMjYuMTAwMyw1NzEuNDgwOSwzMjYuNDQxMSw1NzEuNjkyMSwzMjYuODIxNSw1NzEuODU3MiwzMjcuMTgyOCw1NzIuMTEwNCwzMjcuNTgwNSw1NzIuMDc2NSwzMjcuODU5NCw1NzIuMzAwMiwzMjcuODU5NCw1NzIuMzAyOSwzMzMuNjE3Miw1NzIuMTYxNCwzMzkuMzc1LDU3Mi4yMzEsMzQ1LjEzMjgsNTcyLjMxMDYsMzUwLjg5MDYsNTcyLjA3NjUsMzU2LjY0ODQsNTcxLjg1NDQsMzU2LjU1NjQsNTcyLjEzOSwzNTcuMDg4NSw1NzEuNjkyMywzNTcuMzE3Nyw1NzEuODAxNSwzNTcuNzc3Miw1NzEuMzM4MywzNTcuOTk5NSw1NzEuMzQ0MywzNTguNDE2Miw1NzEuMzM1NSwzNTguMzk1MSw1NzEuMDg1MywzNTguNzkxLDU3MC42MzA5LDM1OC42OTQxLDU3MC4yOTcsMzU4Ljg4OCw1NjkuOTczMiwzNTkuMTA2Myw1NjkuNTc2NSwzNTkuMTQ4NCw1NjkuNTc2NSwzNTkuNTY0Nyw1NTkuMTE5LDM1OS4xNDQ1LDU0OC42NjE1LDM1OS40MzU3LDUzOC4yMDM5LDM1OC41NzYsNTI3Ljc0NjQsMzU5LjQzMjgsNTE3LjI4ODksMzU5LjY5NjYsNTA2LjgzMTQsMzU5LjU5Myw0OTYuMzczOSwzNTkuNzYxNSw0ODUuOTE2MywzNTguNjY1NCw0NzUuNDU4OCwzNTguNDk2Myw0NjUuMDAxMywzNTkuMTQ4NCw0NjQuOTIyLDM1OC45NTcxLDQ2NC42NDAyLDM1OC45ODM5LDQ2NC4yNjkxLDM1OC43OTUsNDY0LjAyNzYsMzU4LjkxODksNDYzLjU2NDgsMzU4LjUwODksNDYzLjIzMzUsMzU4LjQxNjIsNDYzLjEyNzksMzU4LjM3MjQsNDYzLjE1NzQsMzU4LjA5MTgsNDYyLjczNTMsMzU3LjYyNCw0NjIuNjM0MywzNTcuMjg5Myw0NjIuODQ3NiwzNTcuMDg0OCw0NjIuNTAxMywzNTYuNjQ4NCw0NjIuNjQ2NSwzNTYuNjQ4NCw0NjIuNzQ2MSwzNTAuODkwNiw0NjIuMzk0LDM0NS4xMzI4LDQ2Mi42MDc3LDMzOS4zNzUsNDYyLjY5ODEsMzMzLjYxNzIsNDYyLjUwMTMsMzI3Ljg1OTQsNDYyLjM1NTgsMzI3Ljc5OTEsNDYyLjYxODIsMzI3LjQ5MzYsNDYyLjgzMywzMjcuMTY4Myw0NjMuMTQxNCwzMjYuODgxOSw0NjMuMDg1OCwzMjYuNDQ0Niw0NjMuMjMzNSwzMjYuMDkxNiw0NjMuMjkyNSwzMjYuMjM0MSw0NjMuNTE2NCwzMjUuNzc0Niw0NjMuODU0MiwzMjUuNTkwMSw0NjQuMzU4NCwzMjUuODA3NCw0NjQuNTU2MywzMjUuMjg1LDQ2NS4wMDEzLDMyNS4zNTk0IiBzdHlsZT0ic3Ryb2tlOiMwMEJGRkY7c3Ryb2tlLXdpZHRoOjAuNTsiLz48dGV4dCBmaWxsPSIjQTlEQ0RGIiBmb250LWZhbWlseT0iSW1wYWN0IiBmb250LXNpemU9IjE3IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9Ijk1LjU3NTIiIHg9IjQ2OS41MDEzIiB5PSIzNDguMTM5MiI+a3ViZSBwcm94eTwvdGV4dD48L2c+PGcgY2xhc3M9InBhcnRpY2lwYW50IHBhcnRpY2lwYW50LWhlYWQiIGRhdGEtcGFydGljaXBhbnQ9ImVuZHBvaW50Ij48cG9seWdvbiBmaWxsPSIjMUU5MEZGIiBwb2ludHM9IjkyOS4wNDkxLDQxLjY0MDYsOTI5LjA0OTEsNDEuODUwOCw5MzkuNTk2Niw0MS4yMjYzLDk1MC4xNDQsNDEuODMzOSw5NjAuNjkxNCw0Mi4wNDAzLDk3MS4yMzg4LDQwLjkyNzIsOTgxLjc4NjMsNDEuNTYyOSw5OTIuMzMzNyw0MS4yMTQxLDEwMDIuODgxMSw0MS4yNTcxLDEwMTMuNDI4NSw0MS42NDA2LDEwMTMuNDE5OCw0MS42MTk2LDEwMTMuNjkzOSw0MS41NzQyLDEwMTQuMjA2Myw0Mi4xMDQsMTAxNC40MDg4LDQxLjg4NTksMTAxNC44MTc1LDQyLjE2NTUsMTAxNS4xOTYzLDQyLjM3MjksMTAxNS4zMjkzLDQyLjQyOCwxMDE1LjMxNjMsNDIuNzE1NSwxMDE1LjUxMDIsNDMuMDg4NywxMDE1LjYyNTgsNDMuNDI5NCwxMDE1LjgzNzEsNDMuODA5OCwxMDE1LjkyODUsNDQuMTQwNiwxMDE2LjAwODMsNDQuMTQwNiwxMDE2LjEyMzgsNDkuODk4NCwxMDE2LjE1MjIsNTUuNjU2MywxMDE2LjE1NSw2MS40MTQxLDEwMTYuMDEzNCw2Ny4xNzE5LDEwMTUuOTI4NSw3Mi45Mjk3LDEwMTYuMDcxMyw3Mi45ODg4LDEwMTUuOTk4NCw3My4zNzI4LDEwMTUuNDEzNiw3My41NDQ4LDEwMTUuNjk4Miw3NC4wNzY5LDEwMTUuMjUxNCw3NC4zMDYxLDEwMTUuMTk2Myw3NC42OTc1LDEwMTUuMjY0NCw3NC44NjE4LDEwMTQuNzc5Niw3NC42OTE1LDEwMTQuNDgwNSw3NC45NjkzLDEwMTQuMjMwMiw3NS4zNjUyLDEwMTMuNzc1OSw3NS4yNjgyLDEwMTMuNDI4NSw3NS40Mjk3LDEwMTMuNDI4NSw3NS41MzUsMTAwMi44ODExLDc1Ljc2ODMsOTkyLjMzMzcsNzUuODQ1OSw5ODEuNzg2Myw3NS40MjU4LDk3MS4yMzg4LDc1LjcxNjksOTYwLjY5MTQsNzQuODU3Myw5NTAuMTQ0LDc1LjcxNDEsOTM5LjU5NjYsNzUuOTc3OSw5MjkuMDQ5MSw3NS40Mjk3LDkyOS4xMDU5LDc1LjU2NjYsOTI4Ljc3MzgsNzUuNDcyLDkyOC4yODA0LDc0Ljk4OCw5MjcuOTA1Myw3NC43ODk1LDkyNy41NTU3LDc0LjY1MjUsOTI3LjI4MTQsNzQuNjk3NSw5MjcuMjYzMiw3NC42ODk5LDkyNy4wNzQ0LDc0LjMxODgsOTI3LjE5ODMsNzQuMDc3Myw5MjYuNzg4Miw3My42MTQ1LDkyNi41ODk5LDczLjIzOTUsOTI2LjU0OTEsNzIuOTI5Nyw5MjYuNjI1Miw3Mi45Mjk3LDkyNi4zMjY5LDY3LjE3MTksOTI2LjM3NjEsNjEuNDE0MSw5MjYuNzY1NSw1NS42NTYzLDkyNi42OTQ0LDQ5Ljg5ODQsOTI2LjU0OTEsNDQuMTQwNiw5MjYuNzc1Myw0NC4yMzQzLDkyNi41OTY1LDQzLjc0Niw5MjYuOTQwMyw0My40NzQyLDkyNy4xNzAzLDQzLjE1NTMsOTI2Ljk4OTUsNDIuNjY2Miw5MjcuMjgxNCw0Mi4zNzI5LDkyNy4yNjkyLDQyLjM0MzMsOTI3LjY1MSw0Mi4yNjUyLDkyOC4wNzE2LDQyLjI4MDcsOTI4LjM0MTUsNDEuOTMyMiw5MjguNzU0Niw0MS45Mjk1LDkyOS4wNDkxLDQxLjY0MDYiIHN0eWxlPSJzdHJva2U6IzAwQkZGRjtzdHJva2Utd2lkdGg6MC41OyIvPjx0ZXh0IGZpbGw9IiNBOURDREYiIGZvbnQtZmFtaWx5PSJJbXBhY3QiIGZvbnQtc2l6ZT0iMTciIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNzUuMzc5NCIgeD0iOTMzLjU0OTEiIHk9IjY0LjQyMDQiPmVuZHBvaW50PC90ZXh0PjwvZz48ZyBjbGFzcz0icGFydGljaXBhbnQgcGFydGljaXBhbnQtdGFpbCIgZGF0YS1wYXJ0aWNpcGFudD0iZW5kcG9pbnQiPjxwb2x5Z29uIGZpbGw9IiMxRTkwRkYiIHBvaW50cz0iOTI5LjA0OTEsMzI1LjM1OTQsOTI5LjA0OTEsMzI1LjU2OTYsOTM5LjU5NjYsMzI0Ljk0NTEsOTUwLjE0NCwzMjUuNTUyNyw5NjAuNjkxNCwzMjUuNzU5MSw5NzEuMjM4OCwzMjQuNjQ2LDk4MS43ODYzLDMyNS4yODE3LDk5Mi4zMzM3LDMyNC45MzI5LDEwMDIuODgxMSwzMjQuOTc1OSwxMDEzLjQyODUsMzI1LjM1OTQsMTAxMy40MTk4LDMyNS4zMzg0LDEwMTMuNjkzOSwzMjUuMjkyOSwxMDE0LjIwNjMsMzI1LjgyMjgsMTAxNC40MDg4LDMyNS42MDQ2LDEwMTQuODE3NSwzMjUuODg0MywxMDE1LjE5NjMsMzI2LjA5MTYsMTAxNS4zMjkzLDMyNi4xNDY3LDEwMTUuMzE2MywzMjYuNDM0MiwxMDE1LjUxMDIsMzI2LjgwNzQsMTAxNS42MjU4LDMyNy4xNDgyLDEwMTUuODM3MSwzMjcuNTI4NiwxMDE1LjkyODUsMzI3Ljg1OTQsMTAxNi4wMDgzLDMyNy44NTk0LDEwMTYuMTIzOCwzMzMuNjE3MiwxMDE2LjE1MjIsMzM5LjM3NSwxMDE2LjE1NSwzNDUuMTMyOCwxMDE2LjAxMzQsMzUwLjg5MDYsMTAxNS45Mjg1LDM1Ni42NDg0LDEwMTYuMDcxMywzNTYuNzA3NiwxMDE1Ljk5ODQsMzU3LjA5MTYsMTAxNS40MTM2LDM1Ny4yNjM1LDEwMTUuNjk4MiwzNTcuNzk1NiwxMDE1LjI1MTQsMzU4LjAyNDgsMTAxNS4xOTYzLDM1OC40MTYyLDEwMTUuMjY0NCwzNTguNTgwNiwxMDE0Ljc3OTYsMzU4LjQxMDIsMTAxNC40ODA1LDM1OC42ODgsMTAxNC4yMzAyLDM1OS4wODM5LDEwMTMuNzc1OSwzNTguOTg3LDEwMTMuNDI4NSwzNTkuMTQ4NCwxMDEzLjQyODUsMzU5LjI1MzcsMTAwMi44ODExLDM1OS40ODcxLDk5Mi4zMzM3LDM1OS41NjQ3LDk4MS43ODYzLDM1OS4xNDQ1LDk3MS4yMzg4LDM1OS40MzU3LDk2MC42OTE0LDM1OC41NzYsOTUwLjE0NCwzNTkuNDMyOCw5MzkuNTk2NiwzNTkuNjk2Niw5MjkuMDQ5MSwzNTkuMTQ4NCw5MjkuMTA1OSwzNTkuMjg1Myw5MjguNzczOCwzNTkuMTkwOCw5MjguMjgwNCwzNTguNzA2OCw5MjcuOTA1MywzNTguNTA4Myw5MjcuNTU1NywzNTguMzcxMyw5MjcuMjgxNCwzNTguNDE2Miw5MjcuMjYzMiwzNTguNDA4Nyw5MjcuMDc0NCwzNTguMDM3Niw5MjcuMTk4MywzNTcuNzk2LDkyNi43ODgyLDM1Ny4zMzMzLDkyNi41ODk5LDM1Ni45NTgyLDkyNi41NDkxLDM1Ni42NDg0LDkyNi42MjUyLDM1Ni42NDg0LDkyNi4zMjY5LDM1MC44OTA2LDkyNi4zNzYxLDM0NS4xMzI4LDkyNi43NjU1LDMzOS4zNzUsOTI2LjY5NDQsMzMzLjYxNzIsOTI2LjU0OTEsMzI3Ljg1OTQsOTI2Ljc3NTMsMzI3Ljk1MzEsOTI2LjU5NjUsMzI3LjQ2NDgsOTI2Ljk0MDMsMzI3LjE5Myw5MjcuMTcwMywzMjYuODc0LDkyNi45ODk1LDMyNi4zODQ5LDkyNy4yODE0LDMyNi4wOTE2LDkyNy4yNjkyLDMyNi4wNjIxLDkyNy42NTEsMzI1Ljk4NCw5MjguMDcxNiwzMjUuOTk5NCw5MjguMzQxNSwzMjUuNjUxLDkyOC43NTQ2LDMyNS42NDgzLDkyOS4wNDkxLDMyNS4zNTk0IiBzdHlsZT0ic3Ryb2tlOiMwMEJGRkY7c3Ryb2tlLXdpZHRoOjAuNTsiLz48dGV4dCBmaWxsPSIjQTlEQ0RGIiBmb250LWZhbWlseT0iSW1wYWN0IiBmb250LXNpemU9IjE3IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9Ijc1LjM3OTQiIHg9IjkzMy41NDkxIiB5PSIzNDguMTM5MiI+ZW5kcG9pbnQ8L3RleHQ+PC9nPjxnIGNsYXNzPSJtZXNzYWdlIiBkYXRhLXBhcnRpY2lwYW50LTE9IlBvZCIgZGF0YS1wYXJ0aWNpcGFudC0yPSJjb3JlRE5TIj48cG9seWdvbiBmaWxsPSIjMDBCRkZGIiBwb2ludHM9IjI1MS41ODc1LDEwMy41NjI1LDI1MS42MTM1LDEwMy42Mjc1LDI1My41MzYyLDEwNC4yMzQzLDI1NS42MTE0LDEwNS4yMjIzLDI1Ny42MzcsMTA2LjA4NjIsMjU5LjQ5OTIsMTA2LjU0MTcsMjYxLjU4NzUsMTA3LjU2MjUsMjYxLjU3NzksMTA3LjUzODQsMjU5LjUzNDcsMTA4LjIzMDUsMjU3LjU0LDEwOS4wNDM4LDI1NS41NzksMTA5Ljk0MTQsMjUzLjUwMTksMTEwLjU0ODUsMjUxLjU4NzUsMTExLjU2MjUsMjUxLjcxOCwxMTEuNjkzLDI1Mi4yMzg5LDExMC42MTM5LDI1My4xNDA5LDEwOS45MTU5LDI1NC4wODkzLDEwOS4yNjQzLDI1NC43NjczLDEwOC4zNDIzLDI1NS41ODc1LDEwNy41NjI1LDI1NS42MDM2LDEwNy41Nzg2LDI1NC43Nzk5LDEwNi43NTUsMjU0LjAyOTYsMTA2LjAwNDYsMjUzLjI0MzgsMTA1LjIxODksMjUyLjUyNTUsMTA0LjUwMDUsMjUxLjU4NzUsMTAzLjU2MjUiIHN0eWxlPSJzdHJva2U6IzAwQkZGRjtzdHJva2Utd2lkdGg6MTsiLz48cGF0aCBkPSJNMjcuNzIxNywxMDcuNTYyNSBMMjcuNzIxNywxMDcuODQyNyBMMzcuNzE1OCwxMDcuMDEwMSBMNDcuNzEsMTA3LjgyMDIgTDU3LjcwNDIsMTA4LjA5NTQgTDY3LjY5ODMsMTA2LjYxMTMgTDc3LjY5MjUsMTA3LjQ1ODkgTDg3LjY4NjcsMTA2Ljk5MzggTDk3LjY4MDgsMTA3LjA1MTIgTDEwNy42NzUsMTA3LjQ3MTYgTDExNy42NjkyLDEwNi42NDA3IEwxMjcuNjYzMywxMDguMzAwNyBMMTM3LjY1NzUsMTA2LjcyMjEgTDE0Ny42NTE3LDEwNy4yOTg4IEwxNTcuNjQ1OCwxMDguMTM4NCBMMTY3LjY0LDEwNy40NDgxIEwxNzcuNjM0MiwxMDcuNjUzNSBMMTg3LjYyODMsMTA3LjUxOTkgTDE5Ny42MjI1LDEwNy44MDA1IEwyMDcuNjE2NywxMDcuODgxMyBMMjE3LjYxMDgsMTA4LjM0MzQgTDIyNy42MDUsMTA4LjQ1NzIgTDIzNy41OTkxLDEwOC40NjgyIEwyNDcuNTkzMywxMDcuOTAyIEwyNTcuNTg3NSwxMDcuNTYyNSIgZmlsbD0ibm9uZSIgc3R5bGU9InN0cm9rZTojMDBCRkZGO3N0cm9rZS13aWR0aDoxOyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjIxMS44NjU4IiB4PSIzNC43MjE3IiB5PSIxMDIuNDk2NiI+JiMyNjU5NzsmIzM1ODEwO3NlcnZpY2VOYW1lJiMyMzU0NTsmIzI0MjEyOyYjMzAzNDA7Q2x1c3RlciBJUDwvdGV4dD48L2c+PGcgY2xhc3M9Im1lc3NhZ2UiIGRhdGEtcGFydGljaXBhbnQtMT0iY29yZUROUyIgZGF0YS1wYXJ0aWNpcGFudC0yPSJQb2QiPjxwb2x5Z29uIGZpbGw9IiMwMEJGRkYiIHBvaW50cz0iMzguNzIxNywxMzIuNjk1MywzOC43NDc3LDEzMi43NjA0LDM2LjY3MDQsMTMzLjM2NzEsMzQuNzQ1NiwxMzQuMzU1MSwzMi43NzEyLDEzNS4yMTksMzAuNjMzNCwxMzUuNjc0NSwyOC43MjE3LDEzNi42OTUzLDI4LjcxMjEsMTM2LjY3MTMsMzAuNjY4OSwxMzcuMzYzMywzMi42NzQyLDEzOC4xNzY2LDM0LjcxMzIsMTM5LjA3NDIsMzYuNjM2MSwxMzkuNjgxMywzOC43MjE3LDE0MC42OTUzLDM4Ljg1MjIsMTQwLjgyNTgsMzcuNzczMSwxMzkuNzQ2OCwzNy4wNzUxLDEzOS4wNDg3LDM2LjQyMzUsMTM4LjM5NzEsMzUuNTAxNSwxMzcuNDc1MSwzNC43MjE3LDEzNi42OTUzLDM0LjczNzgsMTM2LjcxMTQsMzUuNTE0MSwxMzUuODg3OCwzNi4zNjM4LDEzNS4xMzc0LDM3LjE3OCwxMzQuMzUxNywzOC4wNTk3LDEzMy42MzM0LDM4LjcyMTcsMTMyLjY5NTMiIHN0eWxlPSJzdHJva2U6IzAwQkZGRjtzdHJva2Utd2lkdGg6MTsiLz48cGF0aCBkPSJNMzIuNzIxNywxMzYuNjk1MyBMMzIuNzIxNywxMzYuOTc1NiBMNDIuNzE1OCwxMzYuMTQyOSBMNTIuNzEsMTM2Ljk1MyBMNjIuNzA0MiwxMzcuMjI4MiBMNzIuNjk4MywxMzUuNzQ0MSBMODIuNjkyNSwxMzYuNTkxNyBMOTIuNjg2NywxMzYuMTI2NyBMMTAyLjY4MDgsMTM2LjE4NCBMMTEyLjY3NSwxMzYuNjA0NCBMMTIyLjY2OTIsMTM1Ljc3MzUgTDEzMi42NjMzLDEzNy40MzM1IEwxNDIuNjU3NSwxMzUuODU0OSBMMTUyLjY1MTcsMTM2LjQzMTYgTDE2Mi42NDU4LDEzNy4yNzEyIEwxNzIuNjQsMTM2LjU4MDkgTDE4Mi42MzQyLDEzNi43ODYzIEwxOTIuNjI4MywxMzYuNjUyNyBMMjAyLjYyMjUsMTM2LjkzMzMgTDIxMi42MTY3LDEzNy4wMTQyIEwyMjIuNjEwOCwxMzcuNDc2MiBMMjMyLjYwNSwxMzcuNTkwMSBMMjQyLjU5OTEsMTM3LjYwMSBMMjUyLjU5MzMsMTM3LjAzNDggTDI2Mi41ODc1LDEzNi42OTUzIiBmaWxsPSJub25lIiBzdHlsZT0ic3Ryb2tlOiMwMEJGRkY7c3Ryb2tlLXdpZHRoOjE7c3Ryb2tlLWRhc2hhcnJheToyLjAsMi4wOyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjQwLjI2MzIiIHg9IjQ0LjcyMTciIHk9IjEzMS42Mjk0Ij5yZXR1cm48L3RleHQ+PC9nPjxnIGNsYXNzPSJtZXNzYWdlIiBkYXRhLXBhcnRpY2lwYW50LTE9IlBvZCIgZGF0YS1wYXJ0aWNpcGFudC0yPSJpcHRhYmxlcyI+PHBvbHlnb24gZmlsbD0iIzAwQkZGRiIgcG9pbnRzPSIzNDYuMTk4MSwxNjEuODI4MSwzNDYuMjI0MSwxNjEuODkzMiwzNDguMTQ2OCwxNjIuNDk5OSwzNTAuMjIyLDE2My40ODc5LDM1Mi4yNDc2LDE2NC4zNTE4LDM1NC4xMDk4LDE2NC44MDczLDM1Ni4xOTgxLDE2NS44MjgxLDM1Ni4xODg1LDE2NS44MDQxLDM1NC4xNDUzLDE2Ni40OTYxLDM1Mi4xNTA2LDE2Ny4zMDk0LDM1MC4xODk2LDE2OC4yMDcsMzQ4LjExMjUsMTY4LjgxNDIsMzQ2LjE5ODEsMTY5LjgyODEsMzQ2LjMyODYsMTY5Ljk1ODYsMzQ2Ljg0OTUsMTY4Ljg3OTYsMzQ3Ljc1MTUsMTY4LjE4MTUsMzQ4LjY5OTksMTY3LjUyOTksMzQ5LjM3NzksMTY2LjYwNzksMzUwLjE5ODEsMTY1LjgyODEsMzUwLjIxNDIsMTY1Ljg0NDIsMzQ5LjM5MDUsMTY1LjAyMDYsMzQ4LjY0MDIsMTY0LjI3MDIsMzQ3Ljg1NDQsMTYzLjQ4NDUsMzQ3LjEzNjEsMTYyLjc2NjIsMzQ2LjE5ODEsMTYxLjgyODEiIHN0eWxlPSJzdHJva2U6IzAwQkZGRjtzdHJva2Utd2lkdGg6MTsiLz48cGF0aCBkPSJNMjcuNzIxNywxNjUuODI4MSBMMjcuNzIxNywxNjYuMTA4NCBMMzcuODYxNiwxNjUuMjc1NyBMNDguMDAxNSwxNjYuMDg1OCBMNTguMTQxMywxNjYuMzYxIEw2OC4yODEyLDE2NC44NzY5IEw3OC40MjExLDE2NS43MjQ1IEw4OC41NjEsMTY1LjI1OTUgTDk4LjcwMDksMTY1LjMxNjggTDEwOC44NDA4LDE2NS43MzcyIEwxMTguOTgwNywxNjQuOTA2MyBMMTI5LjEyMDYsMTY2LjU2NjMgTDEzOS4yNjA0LDE2NC45ODc4IEwxNDkuNDAwMywxNjUuNTY0NCBMMTU5LjU0MDIsMTY2LjQwNDEgTDE2OS42ODAxLDE2NS43MTM4IEwxNzkuODIsMTY1LjkxOTEgTDE4OS45NTk5LDE2NS43ODU1IEwyMDAuMDk5OCwxNjYuMDY2MiBMMjEwLjIzOTcsMTY2LjE0NyBMMjIwLjM3OTUsMTY2LjYwOSBMMjMwLjUxOTQsMTY2LjcyMjkgTDI0MC42NTkzLDE2Ni43MzM4IEwyNTAuNzk5MiwxNjYuMTY3NiBMMjYwLjkzOTEsMTY2LjQ0NjIgTDI3MS4wNzksMTY2Ljc2NDQgTDI4MS4yMTg5LDE2NC44NjY1IEwyOTEuMzU4OCwxNjYuNzMyOCBMMzAxLjQ5ODYsMTY1LjQzMjggTDMxMS42Mzg1LDE2Ni41Mzk5IEwzMjEuNzc4NCwxNjUuMTY4MSBMMzMxLjkxODMsMTY1LjczNjggTDM0Mi4wNTgyLDE2Ni44MTY5IEwzNTIuMTk4MSwxNjUuODI4MSIgZmlsbD0ibm9uZSIgc3R5bGU9InN0cm9rZTojMDBCRkZGO3N0cm9rZS13aWR0aDoxOyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjEyMS41ODMiIHg9IjM0LjcyMTciIHk9IjE2MC43NjIyIj50cmFmZmljIHRvIENsdXN0ZXIgSVA8L3RleHQ+PC9nPjxnIGNsYXNzPSJtZXNzYWdlIiBkYXRhLXBhcnRpY2lwYW50LTE9ImlwdGFibGVzIiBkYXRhLXBhcnRpY2lwYW50LTI9ImlwdGFibGVzIj48cGF0aCBkPSJNMzU4LjE5ODEsMTk0Ljk2MDkgTDM1OC4xOTgxLDE5NS4wNTQ0IEwzNjYuNTk4MSwxOTQuNzc2OCBMMzc0Ljk5ODEsMTk1LjA0NjggTDM4My4zOTgxLDE5NS4xMzg2IEwzOTEuNzk4MSwxOTQuNjQzOSBMNDAwLjE5ODEsMTk0Ljk2MDkiIGZpbGw9Im5vbmUiIHN0eWxlPSJzdHJva2U6IzAwQkZGRjtzdHJva2Utd2lkdGg6MTsiLz48cGF0aCBkPSJNNDAwLjE5ODEsMTk0Ljk2MDkgTDQwMC4yOTE1LDE5NC45NjA5IEw0MDAuMDEzOSwxOTcuNTYwOSBMNDAwLjI4NCwyMDAuMTYwOSBMNDAwLjM3NTcsMjAyLjc2MDkgTDM5OS44ODEsMjA1LjM2MDkgTDQwMC4xOTgxLDIwNy45NjA5IiBmaWxsPSJub25lIiBzdHlsZT0ic3Ryb2tlOiMwMEJGRkY7c3Ryb2tlLXdpZHRoOjE7Ii8+PHBhdGggZD0iTTM1OS4xOTgxLDIwNy45NjA5IEwzNTkuMTk4MSwyMDguMDU0NCBMMzY3LjM5ODEsMjA3Ljc3NjggTDM3NS41OTgxLDIwOC4wNDY4IEwzODMuNzk4MSwyMDguMTM4NiBMMzkxLjk5ODEsMjA3LjY0MzkgTDQwMC4xOTgxLDIwNy45NjA5IiBmaWxsPSJub25lIiBzdHlsZT0ic3Ryb2tlOiMwMEJGRkY7c3Ryb2tlLXdpZHRoOjE7Ii8+PHBvbHlnb24gZmlsbD0iIzAwQkZGRiIgcG9pbnRzPSIzNjkuMTk4MSwyMDMuOTYwOSwzNjkuMjI0MSwyMDQuMDI2LDM2Ny4xNDY4LDIwNC42MzI3LDM2NS4yMjIsMjA1LjYyMDgsMzYzLjI0NzYsMjA2LjQ4NDYsMzYxLjEwOTgsMjA2Ljk0MDEsMzU5LjE5ODEsMjA3Ljk2MDksMzU5LjE4ODUsMjA3LjkzNjksMzYxLjE0NTMsMjA4LjYyODksMzYzLjE1MDYsMjA5LjQ0MjIsMzY1LjE4OTYsMjEwLjMzOTgsMzY3LjExMjUsMjEwLjk0NywzNjkuMTk4MSwyMTEuOTYwOSwzNjkuMzI4NiwyMTIuMDkxNCwzNjguMjQ5NSwyMTEuMDEyNCwzNjcuNTUxNSwyMTAuMzE0MywzNjYuODk5OSwyMDkuNjYyNywzNjUuOTc3OSwyMDguNzQwNywzNjUuMTk4MSwyMDcuOTYwOSwzNjUuMjE0MiwyMDcuOTc3LDM2NS45OTA1LDIwNy4xNTM0LDM2Ni44NDAyLDIwNi40MDMsMzY3LjY1NDQsMjA1LjYxNzMsMzY4LjUzNjEsMjA0Ljg5OSwzNjkuMTk4MSwyMDMuOTYwOSIgc3R5bGU9InN0cm9rZTojMDBCRkZGO3N0cm9rZS13aWR0aDoxOyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjUyLjAwMDEiIHg9IjM2NS4xOTgxIiB5PSIxODkuODk1Ij4mIzM1MjY4OyYjMjEwMTc7JiMyMTMwNTsmIzM3MTk3OzwvdGV4dD48L2c+PGcgY2xhc3M9Im1lc3NhZ2UiIGRhdGEtcGFydGljaXBhbnQtMT0iaXB0YWJsZXMiIGRhdGEtcGFydGljaXBhbnQtMj0ia3ViZV9wcm94eSI+PHBvbHlnb24gZmlsbD0iIzAwQkZGRiIgcG9pbnRzPSI1MDUuMjg4OSwyMzMuMDkzOCw1MDUuMzE0OSwyMzMuMTU4OCw1MDcuMjM3NiwyMzMuNzY1NSw1MDkuMzEyOCwyMzQuNzUzNiw1MTEuMzM4NCwyMzUuNjE3NCw1MTMuMjAwNiwyMzYuMDczLDUxNS4yODg5LDIzNy4wOTM4LDUxNS4yNzkzLDIzNy4wNjk3LDUxMy4yMzYxLDIzNy43NjE4LDUxMS4yNDE0LDIzOC41NzUxLDUwOS4yODA1LDIzOS40NzI3LDUwNy4yMDMzLDI0MC4wNzk4LDUwNS4yODg5LDI0MS4wOTM4LDUwNS40MTk0LDI0MS4yMjQyLDUwNS45NDAzLDI0MC4xNDUyLDUwNi44NDIzLDIzOS40NDcxLDUwNy43OTA3LDIzOC43OTU2LDUwOC40Njg3LDIzNy44NzM1LDUwOS4yODg5LDIzNy4wOTM4LDUwOS4zMDUsMjM3LjEwOTgsNTA4LjQ4MTQsMjM2LjI4NjIsNTA3LjczMSwyMzUuNTM1OCw1MDYuOTQ1MywyMzQuNzUwMSw1MDYuMjI2OSwyMzQuMDMxOCw1MDUuMjg4OSwyMzMuMDkzOCIgc3R5bGU9InN0cm9rZTojMDBCRkZGO3N0cm9rZS13aWR0aDoxOyIvPjxwYXRoIGQ9Ik0zNTguMTk4MSwyMzcuMDkzOCBMMzU4LjE5ODEsMjM3LjM3NCBMMzY4LjQwNDEsMjM2LjU0MTMgTDM3OC42MTAyLDIzNy4zNTE1IEwzODguODE2MiwyMzcuNjI2NyBMMzk5LjAyMjMsMjM2LjE0MjYgTDQwOS4yMjgzLDIzNi45OTAxIEw0MTkuNDM0NCwyMzYuNTI1MSBMNDI5LjY0MDUsMjM2LjU4MjQgTDQzOS44NDY1LDIzNy4wMDI5IEw0NTAuMDUyNiwyMzYuMTcxOSBMNDYwLjI1ODYsMjM3LjgzMTkgTDQ3MC40NjQ3LDIzNi4yNTM0IEw0ODAuNjcwNywyMzYuODMwMSBMNDkwLjg3NjgsMjM3LjY2OTcgTDUwMS4wODI4LDIzNi45Nzk0IEw1MTEuMjg4OSwyMzcuMDkzOCIgZmlsbD0ibm9uZSIgc3R5bGU9InN0cm9rZTojMDBCRkZGO3N0cm9rZS13aWR0aDoxOyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjEzNS4wOTA4IiB4PSIzNjUuMTk4MSIgeT0iMjMyLjAyNzgiPnRyYWZmaWMgdG8ga3ViZV9wcm94eTwvdGV4dD48L2c+PGcgY2xhc3M9Im1lc3NhZ2UiIGRhdGEtcGFydGljaXBhbnQtMT0ia3ViZV9wcm94eSIgZGF0YS1wYXJ0aWNpcGFudC0yPSJrdWJlX3Byb3h5Ij48cGF0aCBkPSJNNTE3LjI4ODksMjY2LjIyNjYgTDUxNy4yODg5LDI2Ni4zMiBMNTI1LjY4ODksMjY2LjA0MjQgTDUzNC4wODg5LDI2Ni4zMTI1IEw1NDIuNDg4OSwyNjYuNDA0MiBMNTUwLjg4ODksMjY1LjkwOTUgTDU1OS4yODg5LDI2Ni4yMjY2IiBmaWxsPSJub25lIiBzdHlsZT0ic3Ryb2tlOiMwMEJGRkY7c3Ryb2tlLXdpZHRoOjE7Ii8+PHBhdGggZD0iTTU1OS4yODg5LDI2Ni4yMjY2IEw1NTkuMzgyMywyNjYuMjI2NiBMNTU5LjEwNDgsMjY4LjgyNjYgTDU1OS4zNzQ4LDI3MS40MjY2IEw1NTkuNDY2NSwyNzQuMDI2NiBMNTU4Ljk3MTgsMjc2LjYyNjYgTDU1OS4yODg5LDI3OS4yMjY2IiBmaWxsPSJub25lIiBzdHlsZT0ic3Ryb2tlOiMwMEJGRkY7c3Ryb2tlLXdpZHRoOjE7Ii8+PHBhdGggZD0iTTUxOC4yODg5LDI3OS4yMjY2IEw1MTguMjg4OSwyNzkuMzIgTDUyNi40ODg5LDI3OS4wNDI0IEw1MzQuNjg4OSwyNzkuMzEyNSBMNTQyLjg4ODksMjc5LjQwNDIgTDU1MS4wODg5LDI3OC45MDk1IEw1NTkuMjg4OSwyNzkuMjI2NiIgZmlsbD0ibm9uZSIgc3R5bGU9InN0cm9rZTojMDBCRkZGO3N0cm9rZS13aWR0aDoxOyIvPjxwb2x5Z29uIGZpbGw9IiMwMEJGRkYiIHBvaW50cz0iNTI4LjI4ODksMjc1LjIyNjYsNTI4LjMxNDksMjc1LjI5MTYsNTI2LjIzNzYsMjc1Ljg5ODMsNTI0LjMxMjgsMjc2Ljg4NjQsNTIyLjMzODQsMjc3Ljc1MDMsNTIwLjIwMDYsMjc4LjIwNTgsNTE4LjI4ODksMjc5LjIyNjYsNTE4LjI3OTMsMjc5LjIwMjUsNTIwLjIzNjEsMjc5Ljg5NDYsNTIyLjI0MTQsMjgwLjcwNzksNTI0LjI4MDUsMjgxLjYwNTUsNTI2LjIwMzMsMjgyLjIxMjYsNTI4LjI4ODksMjgzLjIyNjYsNTI4LjQxOTQsMjgzLjM1NzEsNTI3LjM0MDMsMjgyLjI3OCw1MjYuNjQyMywyODEuNTc5OSw1MjUuOTkwNywyODAuOTI4NCw1MjUuMDY4NywyODAuMDA2Myw1MjQuMjg4OSwyNzkuMjI2Niw1MjQuMzA1LDI3OS4yNDI2LDUyNS4wODE0LDI3OC40MTksNTI1LjkzMSwyNzcuNjY4Niw1MjYuNzQ1MywyNzYuODgyOSw1MjcuNjI2OSwyNzYuMTY0Niw1MjguMjg4OSwyNzUuMjI2NiIgc3R5bGU9InN0cm9rZTojMDBCRkZGO3N0cm9rZS13aWR0aDoxOyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjQzOS45NSIgeD0iNTI0LjI4ODkiIHk9IjI2MS4xNjA2Ij4mIzI2NTk3OyYjMzU4MTA7JiMyMDE5NTsmIzI5NzAyOyYjMzE0NzE7JiMyMTQ3NTsmIzIxNDk1OyYjMjE2NDQ7U2VydmljZSYjMzAzNDA7JiMyNjE0NDsmIzIzNTU2OyYjMjA4NTE7JiMzMTk5NTsmIzY1MjkyOyYjMjAxOTc7JiMyMTQ1MDtTZXJ2aWNlJiMyMTY0NDtFbmRwb2ludCYjMzAzNDA7JiMyNjE0NDsmIzIzNTU2OyYjMjA4NTE7JiMzMTk5NTs8L3RleHQ+PC9nPjxnIGNsYXNzPSJtZXNzYWdlIiBkYXRhLXBhcnRpY2lwYW50LTE9Imt1YmVfcHJveHkiIGRhdGEtcGFydGljaXBhbnQtMj0iZW5kcG9pbnQiPjxwb2x5Z29uIGZpbGw9IiMwMEJGRkYiIHBvaW50cz0iOTU5LjIzODgsMzA0LjM1OTQsOTU5LjI2NDksMzA0LjQyNDQsOTYxLjE4NzYsMzA1LjAzMTEsOTYzLjI2MjgsMzA2LjAxOTIsOTY1LjI4ODMsMzA2Ljg4MzEsOTY3LjE1MDUsMzA3LjMzODYsOTY5LjIzODgsMzA4LjM1OTQsOTY5LjIyOTIsMzA4LjMzNTMsOTY3LjE4NiwzMDkuMDI3NCw5NjUuMTkxNCwzMDkuODQwNyw5NjMuMjMwNCwzMTAuNzM4Myw5NjEuMTUzMywzMTEuMzQ1NCw5NTkuMjM4OCwzMTIuMzU5NCw5NTkuMzY5MywzMTIuNDg5OSw5NTkuODkwMywzMTEuNDEwOCw5NjAuNzkyMiwzMTAuNzEyOCw5NjEuNzQwNywzMTAuMDYxMiw5NjIuNDE4NiwzMDkuMTM5Miw5NjMuMjM4OCwzMDguMzU5NCw5NjMuMjU0OSwzMDguMzc1NSw5NjIuNDMxMywzMDcuNTUxOCw5NjEuNjgwOSwzMDYuODAxNSw5NjAuODk1MiwzMDYuMDE1Nyw5NjAuMTc2OSwzMDUuMjk3NCw5NTkuMjM4OCwzMDQuMzU5NCIgc3R5bGU9InN0cm9rZTojMDBCRkZGO3N0cm9rZS13aWR0aDoxOyIvPjxwYXRoIGQ9Ik01MTcuMjg4OSwzMDguMzU5NCBMNTE3LjI4ODksMzA4LjYzOTYgTDUyNy4yNDMzLDMwNy44MDY5IEw1MzcuMTk3OCwzMDguNjE3MSBMNTQ3LjE1MjIsMzA4Ljg5MjMgTDU1Ny4xMDY3LDMwNy40MDgyIEw1NjcuMDYxMSwzMDguMjU1OCBMNTc3LjAxNTYsMzA3Ljc5MDcgTDU4Ni45NywzMDcuODQ4IEw1OTYuOTI0NCwzMDguMjY4NSBMNjA2Ljg3ODksMzA3LjQzNzUgTDYxNi44MzMzLDMwOS4wOTc2IEw2MjYuNzg3OCwzMDcuNTE5IEw2MzYuNzQyMiwzMDguMDk1NyBMNjQ2LjY5NjcsMzA4LjkzNTMgTDY1Ni42NTExLDMwOC4yNDUgTDY2Ni42MDU1LDMwOC40NTA0IEw2NzYuNTYsMzA4LjMxNjggTDY4Ni41MTQ0LDMwOC41OTc0IEw2OTYuNDY4OSwzMDguNjc4MiBMNzA2LjQyMzMsMzA5LjE0MDMgTDcxNi4zNzc4LDMwOS4yNTQxIEw3MjYuMzMyMiwzMDkuMjY1MSBMNzM2LjI4NjYsMzA4LjY5ODkgTDc0Ni4yNDExLDMwOC45Nzc1IEw3NTYuMTk1NSwzMDkuMjk1NyBMNzY2LjE1LDMwNy4zOTc4IEw3NzYuMTA0NCwzMDkuMjY0MSBMNzg2LjA1ODksMzA3Ljk2NCBMNzk2LjAxMzMsMzA5LjA3MTEgTDgwNS45Njc4LDMwNy42OTkzIEw4MTUuOTIyMiwzMDguMjY4IEw4MjUuODc2NiwzMDkuMzQ4MiBMODM1LjgzMTEsMzA4LjI5NDQgTDg0NS43ODU1LDMwOC40OTk4IEw4NTUuNzQsMzA4LjgxMDkgTDg2NS42OTQ0LDMwOC45MTQ0IEw4NzUuNjQ4OSwzMDguMzU0MiBMODg1LjYwMzMsMzA4Ljc0MjMgTDg5NS41NTc3LDMwNy41OTYyIEw5MDUuNTEyMiwzMDguNzM4NiBMOTE1LjQ2NjYsMzA5LjA5MDMgTDkyNS40MjExLDMwOC45NTIxIEw5MzUuMzc1NSwzMDkuMTc2NyBMOTQ1LjMzLDMwNy43MTUzIEw5NTUuMjg0NCwzMDcuNDg5OCBMOTY1LjIzODgsMzA4LjM1OTQiIGZpbGw9Im5vbmUiIHN0eWxlPSJzdHJva2U6IzAwQkZGRjtzdHJva2Utd2lkdGg6MTsiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMTcuMjc5MyIgeD0iNTI0LjI4ODkiIHk9IjMwMy4yOTM1Ij50cmFmZmljIHRvIGVuZHBvaW50PC90ZXh0PjwvZz48IS0tU1JDPVtUUEJGSWlEMDRDUkZ0UVRPekRvMzl4NDdlTXFnMjJBNUZlMWlhd2FrUk5WTm9TUV9VQWlZS2djODFfTVlBRUIxR21LRmVsTG5OQWlkTnk1ZUtmRGp6OVFQeHhWcFZKRjRSdEFYNkI4c2hKRXRrT21vNDV2UGpZSklvS2diS2RCQW5GeWJMZlptcmY1aDNPOWczODJhRDF6TTBuMGtxNnNJQW9CQXpNWTgwdzFncFNySUF3SHBITFRCQjRkcTBGekc1dFczNWhZMEQ1MnRiVjY0bkhjZHhDb0g3Q2JMNk1oa1NpTTRfalNXcE9uRFNnSXQzOVoxdmdKR1l3bURUQndqY0FpcE1lcmwwUHNRcGxHcHlRQkRucXBQUWkxWUFOY0tGUFhiekRsdllMTGEyWlI4M2I2OUZRckFwd2ZUWVUwaXJnbVVMdmhMTS0xUnBNUEdYb001U2NFSkNmekVWOVZxZnZvbUMxMlVhYm5lR2FBZF82bXlsYTNWQmN4VS1yUy11MWZ0dUprVHdKLVB2dkZYVVFWUzJkbURJRVVoOUFScC1UZG1TTzRZdzAxNUQ2WUtnSDMtTWdwSHUyeExhZ1FVWmxHcS1OeFJDVmpkZmxscWlOa08wZjlEaDY1OWNvSVZEWHFqeUpndTdYeGozVV93ZmRUalVlX2NrNWtCcldnTlVKa3pERlNUaV9pbVYxWHlsZEhWMXBVY1RuM0I4TFk5aHBENk1lUVoycmhYSGlxbF0tLT48L2c+PC9zdmc+'>
<h3 id="212-proxy-mode-iptables"><a class="markdownIt-Anchor" href="#212-proxy-mode-iptables"></a> 2.1.2 Proxy-mode: iptables</h3>
<ol>
<li><strong>该模式最主要的特征是：流量重定向的工作是由<code>iptable</code>完成的，也就是在内核空间完成的</strong></li>
<li><code>kube-proxy</code>会监听<code>Service</code>、<code>Endpoint</code>的变化，并且更新<code>iptable</code>的路由表</li>
<li>更高效、安全，但是灵活性较差（当某个<code>Pod</code>没有应答时，不会尝试其他<code>Pod</code>）</li>
</ol>
<p><img src="/images/Kubernetes-Concept/proxy-mode-iptables.svg" alt="proxy-mode-iptables" /></p>
<p>在<code>Pod</code>中访问<code>Service</code>的时序图如下</p>
<img src='data:image/svg+xml;base64,iVBORw0KGgoAAAANSUhEUgAAA2EAAADHAQAAAAC42mb8AAAJ/ElEQVR4AezYB67cNhAG4FEYYB4qD5DClAsE1d1MTpUeSnG7Fhc+SJiObqYTMM0/Q0rc8tzk3rYNZkeEPlVqsITn+BqflnbUjtpRO2pH7agdtQnwtlejfnZaJkIhV4i3VXWvsYUBf6qWLIAAgB9FS2QLbQ2iZ6tFMoWGvloi90y1QLps9yjva9k+QLvxmNpFXcy4GInDTkvmAZp6DE0DvnBB6JrOz1wD4nLQoinPVpug9jSL56ClnYZnd5WIpsTb19bfb6+aZl4rjbHZHcGkAQxA0csgB++22qYtg+SuakkjBANGNGu1wvCiuUVj+ZJLF5VC+MIW0oVM15hcIueR3icxkvUKgVi0kddp5GYtLFpWIpNJZ+kKQrKJOBN37W2ysiwgXSSu2kiiKdFoWKnpWRuxaCQy6fTJrEXiRKprJFTTzs4aiSYQF6KVGjct9eGFLPw3nD7ebLBJNhiOZthqX+jwjY4ufmFU1VRwwYzgzN6t09SsbQ8FaUzgxH81zbvfg9t0bSj6x9I0d6VqkornOJm4UhtmjXvVM67gStK3PSbR8F9A6Joq/Ds42vAlNlWzyQZE0SRZowl3at+CAotmECTaCdjsNAbfqkq4PWuuaZajW6mBvmva9omdCIybVXMq2StVi3saRDEes4aqparllZpvGrZaIeh6xhAdN+2mZAdaNpsDzXBENo+kBbstf7dolzlZBq7cpelpTxOIw2otXG5aFG0cGn+ZaKhruqybNhLta4WLvgJMTYuLRrRSi7OWTNfCg7XYtDw0bXxMLW+1+P6ivXtPbeTCCqFpmR5ZswrToaYB0fK7ZjlvwE4rgwQxP6taPFk0AI+ppa6d3EvLQr3FGDZVC2efQAP2tXJi9zQFTFVLhvG9Ltw0n55Q+080njWatanVuxYdY9TZNO1K19xaLdgJ6kAzswZyy1xyWvOma30uWa+5pqVF++s+2lA/ogVULdmm8SNr3o2F7+y6oHpoZ22UOPXmZ0RRXQt2X4ui2XXaLYzwhbOLXXNBiDtdq08cBweMNvG9tfZ8ww9rtB8LIZzVWXu3aGa0I/7Yau73YLMDvA730bxoGmaNFmiQr85EXZPM26lqG9GCuRF1cHUg6aZ9x4gumalqKtrgRnBWaaWmBDCiLcU0dzZdi8RJ/LYVpmrxYtWyHqo2Bdu7oJUaC2CzoL3nGhBn7WfMHV7TamwakUv1lxFtJDV3eCu1SAb54B8MyTJx1wr1ZlFi1dJQtUKfVs2fqNgOsCe3RkMdNgDe9GqQjMQC/m/HPnQbR+4wgFPhwkwV06tgpgc95RqJJTzpPfEjpFwROqxcowHFI2OLLoAhpicCBM9bpBc5XpgphoiOoGWp0NCg3pLglSE0N//MULTW5fpJTuOn+lHlB7ANyaeLLyEYmsV0szwhkGsswHax+0hcEwon0avrXJVWaZX2f6dVWqVVWqVVWqVVWqV1tHeCDKsxKF6BpcAYnAvHi9Q071hLIFm+Zs81HJ3R/IVpYLFC4e+ca2i4dA0KbXqhWia11HrsjAZL0mKl+a9eprYPhtIYOrCGttSuv1NqwmSo9ya+ZcZd8K8AaHibCbTzrVesabwGjNuRecPoKO1PttS4HpmPvZox/Z86+BoIbUtrb6HGJ/Er1Wy+obaAuLsfFHMy8qTGsrh75e+MjaOnoecCb7ddt2013FestT0mNe9WEMSFlhTaNAi6jKXpGKC3Box7oiG1LfRKNd7iWO25jjXGlAZ+7PNWzGKpIUi4B6v2qrsgDW5rzxQaPqFZkPIW9OzeIrQNrdC6pQZK41ZH9/n7Ik1qvlFo/jt32gvTuHFSE4bUxAdm2vZMe9ONRWit2f7xCyc1uOKD1GJQWrR4LQ2UhpNSG0sNjJnGcKFdifgCNK/QYqVxNC61NFBaWmhcah5Yi9LwXLP2Zto0DaZKE1LrccyU1k0WobVdpY2vBfH4H5quNA2x8Tj2wWee0mys9iUoSBehbWlKS2pBnFgds9T0RJca15SmAdfklxaj4RowSdwbxAxFaKYJg5k+3BT6bAtQYwDcmr5irTp6rbRKq7RKq7RKqzSVxHoWLQwghLPJAYBC+aQSwPMkP/mSwSxoaIAKPa11T2r8rIYAgAB0QUXg59Oc01p3rF74GQ29GA29dM1Kn1WbnpuTN8/OSaWVefp55uTNmSZUW8McVM5q2TmNPI9Gn0cjM61gXO8Qn9dGZvTnLVNYxs+Ju3ovT+D78n1uXkmoL6z3Ucfcg0FX1Otexq+vfWe1vRcxzPMklxWttKG7d4S2wZDFcMDYh+1s78/eHZPPWG70de/N7+QNCub+0cdva8Oha/C6/v2ve/VP8Qh3vBWDGbVh02KGRm2jAwNdvN6wKb+0ulFvbw83kHhw6GSy6g7onWi1JvSiCEODzoOd4cfumLzKdIP6xhvf6L2eckOL3ntiTgaNmD/e6o02Dy5zinsOJSzeDB9AOW007XiABy1wY6llvdZBm47u+KN4MJRa1sscuDy4t7cpykJc2H3wd0Ejm2wGTrjbfHB0+ZDyp106wLe1sJ/xdk5GD04wj4HckZE8y8kRzrK1ppOt4UEOTvbmL/BMfqNNycdBfIT0JRBmbwFrrXmYgypS293C5A4eDqRGHbLbvCNEhzQXW83dk9rPdeHWyFGygnlaaimJYKZpSrP1H66XWscGKLX4R+BrSotVKTV2Sts5r/UBGkCOMoE5K7XvkaNSQyA1B+Ya4RjMmfaWLgSISu0tqpTajWNtkNwRul99Vu0QSKo0gWeaQyb4lBZYxxog8KWmagCZ0sSDqpTa4Fiz2YOhc3heG0yfGX2XpPlTmD+OiUNJTp2QopwqjWCpudNSs2n4yzvAD+14pj1ImqPNmVauJVJLD6TW+3iWKc0Fl57QkvWBzus1krIVzCNMbOMKM5xhkzBDaZ1C02ca1SK5ggMZurqqIeid5qh2rF3RoKO0d65sUntPLzVDO6mxdWII6wqZijrmCZA1a59bnaQZCktpEUgNGbf+WGg7SeI9CCQRd/AsrIXQjWhYg5oqDuyrrXu4vtt4YJO6sS/npHuJImN/rr2cTOc7MgJnM5/CsfimBfMsWROIh2QR2tPzkQc9twbmeDEavCito0fWQjQ+V59HS6wE/w8cc1VapVVapTF84mQhX7YWoYvUgj9epBbCXKNiE4BchEYLrbVsLeDtvkmS+7Dl6Mkd6JK5VC1O3L6Jom+6ptQ+sbpkLc0GHkUH9zaoE/J00ERL1Vg8yCd41Pz5RGrZgC5X402l7Tb7k02p9ZesCakdQaH5LOtPlq39PD2Cwfq7Ji2Sx/0DvFTtd/c6WQo7I3t0L8mpPVqu1kmUNhy26/oV9hG3rt+xTG2P5VkGN4YCvWWff8RdX66mkl3oaEr/h7XwQjX/v+MoqNIqrdIqrdIqrdL+BRHP3ADfQwzjAAAAAElFTkSuQmCC'>
<h3 id="213-proxy-mode-ipvs"><a class="markdownIt-Anchor" href="#213-proxy-mode-ipvs"></a> 2.1.3 Proxy-mode: ipvs</h3>
<p>与<code>iptable</code>模式类似，<code>ipvs</code>也是利用<code>netfilter</code>的<code>hook function</code>来实现的，但是<code>ipvs</code>利用的是哈希表，且工作在内核空间，因此效率非常高，同时<code>ipvs</code>还支持多种负载均衡算法</p>
<ol>
<li><code>rr</code>: round-rogin</li>
<li><code>lc</code>: least connection</li>
<li><code>dh</code>: destination hashing</li>
<li><code>sh</code>: source hashing</li>
<li><code>sed</code>: shortest expected delay</li>
<li><code>nq</code>: never queue</li>
</ol>
<p><img src="/images/Kubernetes-Concept/proxy-mode-ipvs.svg" alt="proxy-mode-ipvs" /></p>
<p>在以上任何一种模式中，来自<code>Cluster IP:Port</code>的流量都会被重定向到其中一个后端<code>Pod</code>中，且用户不感知这些过程</p>
<h2 id="22-自定义chain介绍"><a class="markdownIt-Anchor" href="#22-自定义chain介绍"></a> 2.2 自定义chain介绍</h2>
<p><img src="/images/Kubernetes-Network/iptables-chains.svg" alt="iptables_chains" /></p>
<p>定义可以参考源码<a target="_blank" rel="noopener" href="https://github.com/kubernetes/kubernetes/blob/master/pkg/proxy/iptables/proxier.go">proxier.go </a></p>
<figure class="highlight golang"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> (</span><br><span class="line">	<span class="comment">// the services chain</span></span><br><span class="line">	kubeServicesChain utiliptables.Chain = <span class="string">&quot;KUBE-SERVICES&quot;</span></span><br><span class="line"></span><br><span class="line">	<span class="comment">// the external services chain</span></span><br><span class="line">	kubeExternalServicesChain utiliptables.Chain = <span class="string">&quot;KUBE-EXTERNAL-SERVICES&quot;</span></span><br><span class="line"></span><br><span class="line">	<span class="comment">// the nodeports chain</span></span><br><span class="line">	kubeNodePortsChain utiliptables.Chain = <span class="string">&quot;KUBE-NODEPORTS&quot;</span></span><br><span class="line"></span><br><span class="line">	<span class="comment">// the kubernetes postrouting chain</span></span><br><span class="line">	kubePostroutingChain utiliptables.Chain = <span class="string">&quot;KUBE-POSTROUTING&quot;</span></span><br><span class="line"></span><br><span class="line">	<span class="comment">// KubeMarkMasqChain is the mark-for-masquerade chain</span></span><br><span class="line">	KubeMarkMasqChain utiliptables.Chain = <span class="string">&quot;KUBE-MARK-MASQ&quot;</span></span><br><span class="line"></span><br><span class="line">	<span class="comment">// KubeMarkDropChain is the mark-for-drop chain</span></span><br><span class="line">	KubeMarkDropChain utiliptables.Chain = <span class="string">&quot;KUBE-MARK-DROP&quot;</span></span><br><span class="line"></span><br><span class="line">	<span class="comment">// the kubernetes forward chain</span></span><br><span class="line">	kubeForwardChain utiliptables.Chain = <span class="string">&quot;KUBE-FORWARD&quot;</span></span><br><span class="line"></span><br><span class="line">	<span class="comment">// kube proxy canary chain is used for monitoring rule reload</span></span><br><span class="line">	kubeProxyCanaryChain utiliptables.Chain = <span class="string">&quot;KUBE-PROXY-CANARY&quot;</span></span><br><span class="line">)</span><br></pre></td></tr></table></figure>
<p><strong>KUBE-SERVICES</strong>：所有的<code>service</code>（无论是<code>ClusterIP</code>、<code>NodePort</code>、<code>LoadBalance</code>，因为它们都有<code>ClusterIP</code>）都会存在一条或多条（每个端口映射对应一条规则）指向<code>KUBE-SVC-xxx</code>链的规则。而每个<code>KUBE-SVC-xxx</code>链的规则，依据副本数量的不同，会存在一个或多个指向<code>KUBE-SEP-xxx</code>链的规则（通过随机变量实现负载均衡）</p>
<p><strong>KUBE-NODEPORTS</strong>：<code>NodePort</code>类型的<code>service</code>会存在一条或多条（每个端口映射对应一条规则）指向<code>KUBE-SVC-xxx</code>链的规则。而每个<code>KUBE-SVC-xxx</code>链的规则，依据副本数量的不同，会存在一个或多个指向<code>KUBE-SEP-xxx</code>链的规则（通过随机变量实现负载均衡）</p>
<p><strong>KUBE-MARK-MASQ</strong>：用于给流量打上标签，配合<code>KUBE-POSTROUTING</code>链一起作用</p>
<p><strong>KUBE-POSTROUTING</strong>：一般用于<code>SNAT</code>配置。对于通过<code>ClusterIP</code>访问某个服务的流量而言（<code>NodePort</code>同理，不再赘述），存在如下几种情况</p>
<ul>
<li><code>sourceIp</code>不属于<code>podCidr</code>，会设置<code>SNAT</code>，这样服务看到的流量来源就是<code>cni0</code>（这样做的目的是？）</li>
<li><code>sourceIp</code>属于<code>podCidr</code>，但是与<code>ClusterIP</code>背后的<code>pod</code>的<code>IP</code>不同，不设置<code>SNAT</code></li>
<li><code>sourceIp</code>属于<code>podCidr</code>，且与<code>ClusterIP</code>背后的<code>pod</code>的<code>IP</code>不同（自己访问自己），会设置<code>SNAT</code>，这样服务看到的流量来源就是<code>cni0</code>（这样做的目的是？）</li>
<li><strong>即便不做SNAT，也是没有问题的，只不过服务看到的流量来源没有被隐藏（通过<code>iptables -t nat -I KUBE-POSTROUTING -j RETURN</code>可以禁用后续的规则）</strong></li>
</ul>
<h2 id="23-iptables规则链-示例讲解"><a class="markdownIt-Anchor" href="#23-iptables规则链-示例讲解"></a> 2.3 iptables规则链-示例讲解</h2>
<h3 id="231-nodeport-单副本"><a class="markdownIt-Anchor" href="#231-nodeport-单副本"></a> 2.3.1 nodeport-单副本</h3>
<p><strong>deployment（hello-world-deployment.yml）</strong></p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">apiVersion:</span> <span class="string">apps/v1</span></span><br><span class="line"><span class="attr">kind:</span> <span class="string">Deployment</span></span><br><span class="line"><span class="attr">metadata:</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">hello-world-deployment</span></span><br><span class="line">  <span class="attr">labels:</span></span><br><span class="line">    <span class="attr">mylabel:</span> <span class="string">label_hello_world_deployment</span></span><br><span class="line"><span class="attr">spec:</span></span><br><span class="line">  <span class="attr">replicas:</span> <span class="number">1</span></span><br><span class="line">  <span class="attr">selector:</span></span><br><span class="line">    <span class="attr">matchLabels:</span></span><br><span class="line">      <span class="attr">mylabel:</span> <span class="string">label_hello_world</span></span><br><span class="line">  <span class="attr">template:</span></span><br><span class="line">    <span class="attr">metadata:</span></span><br><span class="line">      <span class="attr">labels:</span></span><br><span class="line">        <span class="attr">mylabel:</span> <span class="string">label_hello_world</span></span><br><span class="line">    <span class="attr">spec:</span></span><br><span class="line">      <span class="attr">containers:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">hello-world</span></span><br><span class="line">        <span class="attr">image:</span> <span class="string">registry.cn-hangzhou.aliyuncs.com/liuyehcf_default/liuye_repo:v1</span></span><br><span class="line">        <span class="attr">imagePullPolicy:</span> <span class="string">IfNotPresent</span></span><br><span class="line">        <span class="attr">command:</span> [<span class="string">&quot;java&quot;</span>, <span class="string">&quot;-jar&quot;</span>, <span class="string">&quot;lib/spring-boot-1.0-SNAPSHOT.jar&quot;</span>]</span><br><span class="line">        <span class="attr">ports:</span></span><br><span class="line">        <span class="bullet">-</span> <span class="attr">containerPort:</span> <span class="number">8080</span></span><br></pre></td></tr></table></figure>
<p><strong>service（hello-world-service.yml）</strong></p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">apiVersion:</span> <span class="string">v1</span></span><br><span class="line"><span class="attr">kind:</span> <span class="string">Service</span></span><br><span class="line"><span class="attr">metadata:</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">hello-world-service</span></span><br><span class="line"><span class="attr">spec:</span></span><br><span class="line">  <span class="attr">ports:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">protocol:</span> <span class="string">TCP</span></span><br><span class="line">      <span class="attr">port:</span> <span class="number">4000</span></span><br><span class="line">      <span class="attr">targetPort:</span> <span class="number">8080</span></span><br><span class="line">      <span class="attr">nodePort:</span> <span class="number">30001</span></span><br><span class="line">  <span class="attr">selector:</span></span><br><span class="line">    <span class="attr">mylabel:</span> <span class="string">label_hello_world</span></span><br><span class="line">  <span class="attr">type:</span> <span class="string">NodePort</span></span><br></pre></td></tr></table></figure>
<p>创建<code>deployment</code>以及<code>service</code></p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">[root@k8s-master ~]$ kubectl apply -f hello-world-service.yml</span><br><span class="line"><span class="comment">#-------------------------↓↓↓↓↓↓-------------------------</span></span><br><span class="line">service/hello-world-service created</span><br><span class="line"><span class="comment">#-------------------------↑↑↑↑↑↑-------------------------</span></span><br><span class="line"></span><br><span class="line">[root@k8s-master ~]$ kubectl apply -f hello-world-deployment.yml</span><br><span class="line"><span class="comment">#-------------------------↓↓↓↓↓↓-------------------------</span></span><br><span class="line">deployment.apps/hello-world-deployment created</span><br><span class="line"><span class="comment">#-------------------------↑↑↑↑↑↑-------------------------</span></span><br></pre></td></tr></table></figure>
<p>查找一下该<code>pod</code>部署在哪个<code>node</code>上</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[root@k8s-master ~]$ kubectl get pods -o wide</span><br><span class="line"><span class="comment">#-------------------------↓↓↓↓↓↓-------------------------</span></span><br><span class="line">NAME                                     READY   STATUS    RESTARTS   AGE   IP           NODE      NOMINATED NODE   READINESS GATES</span><br><span class="line">hello-world-deployment-cbdf4db7b-j6fpq   1/1     Running   0          56s   10.244.1.5   k8s-n-1   &lt;none&gt;           &lt;none&gt;</span><br><span class="line"><span class="comment">#-------------------------↑↑↑↑↑↑-------------------------</span></span><br></pre></td></tr></table></figure>
<p>发现，应用部署在<code>k8s-n-1</code>上，查看<code>k8s-n-1</code>节点上的<code>iptables</code>规则，用<code>30001</code>作为条件过滤</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[root@k8s-n-1 ~]$ iptables-save | grep <span class="string">&#x27;30001&#x27;</span></span><br><span class="line"><span class="comment">#-------------------------↓↓↓↓↓↓-------------------------</span></span><br><span class="line">-A KUBE-NODEPORTS -p tcp -m comment --comment <span class="string">&quot;default/hello-world-service:&quot;</span> -m tcp --dport 30001 -j KUBE-MARK-MASQ</span><br><span class="line">-A KUBE-NODEPORTS -p tcp -m comment --comment <span class="string">&quot;default/hello-world-service:&quot;</span> -m tcp --dport 30001 -j KUBE-SVC-5MRENC7Q6ZQR6GKR</span><br><span class="line"><span class="comment">#-------------------------↑↑↑↑↑↑-------------------------</span></span><br></pre></td></tr></table></figure>
<p>我们找到了名为<code>KUBE-NODEPORTS</code>的<code>Chain</code>的两条规则，继续用<code>KUBE-NODEPORTS</code>寻找上游<code>Chain</code></p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">[root@k8s-n-1 ~]$ iptables-save | grep <span class="string">&#x27;KUBE-NODEPORTS&#x27;</span></span><br><span class="line"><span class="comment">#-------------------------↓↓↓↓↓↓-------------------------</span></span><br><span class="line">:KUBE-NODEPORTS - [0:0]</span><br><span class="line">-A KUBE-NODEPORTS -p tcp -m comment --comment <span class="string">&quot;default/hello-world-service:&quot;</span> -m tcp --dport 30001 -j KUBE-MARK-MASQ</span><br><span class="line">-A KUBE-NODEPORTS -p tcp -m comment --comment <span class="string">&quot;default/hello-world-service:&quot;</span> -m tcp --dport 30001 -j KUBE-SVC-5MRENC7Q6ZQR6GKR</span><br><span class="line">-A KUBE-SERVICES -m comment --comment <span class="string">&quot;kubernetes service nodeports; NOTE: this must be the last rule in this chain&quot;</span> -m addrtype --dst-type LOCAL -j KUBE-NODEPORTS</span><br><span class="line"><span class="comment">#-------------------------↑↑↑↑↑↑-------------------------</span></span><br></pre></td></tr></table></figure>
<p>我们找到了名为<code>KUBE-SERVICES</code>的<code>Chain</code>的一条规则，继续用<code>KUBE-SERVICES</code>寻找上游<code>Chain</code></p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">[root@k8s-n-1 ~]$ iptables-save | grep <span class="string">&#x27;KUBE-SERVICES&#x27;</span></span><br><span class="line"><span class="comment">#-------------------------↓↓↓↓↓↓-------------------------</span></span><br><span class="line">:KUBE-SERVICES - [0:0]</span><br><span class="line">-A INPUT -m conntrack --ctstate NEW -m comment --comment <span class="string">&quot;kubernetes service portals&quot;</span> -j KUBE-SERVICES</span><br><span class="line">-A FORWARD -m conntrack --ctstate NEW -m comment --comment <span class="string">&quot;kubernetes service portals&quot;</span> -j KUBE-SERVICES</span><br><span class="line">-A OUTPUT -m conntrack --ctstate NEW -m comment --comment <span class="string">&quot;kubernetes service portals&quot;</span> -j KUBE-SERVICES</span><br><span class="line">:KUBE-SERVICES - [0:0]</span><br><span class="line">-A PREROUTING -m comment --comment <span class="string">&quot;kubernetes service portals&quot;</span> -j KUBE-SERVICES</span><br><span class="line">-A OUTPUT -m comment --comment <span class="string">&quot;kubernetes service portals&quot;</span> -j KUBE-SERVICES</span><br><span class="line">-A KUBE-SERVICES ! -s 10.244.0.0/16 -d 10.96.103.220/32 -p tcp -m comment --comment <span class="string">&quot;default/hello-world-service: cluster IP&quot;</span> -m tcp --dport 4000 -j KUBE-MARK-MASQ</span><br><span class="line">-A KUBE-SERVICES -d 10.96.103.220/32 -p tcp -m comment --comment <span class="string">&quot;default/hello-world-service: cluster IP&quot;</span> -m tcp --dport 4000 -j KUBE-SVC-5MRENC7Q6ZQR6GKR</span><br><span class="line">-A KUBE-SERVICES ! -s 10.244.0.0/16 -d 10.96.0.1/32 -p tcp -m comment --comment <span class="string">&quot;default/kubernetes:https cluster IP&quot;</span> -m tcp --dport 443 -j KUBE-MARK-MASQ</span><br><span class="line">-A KUBE-SERVICES -d 10.96.0.1/32 -p tcp -m comment --comment <span class="string">&quot;default/kubernetes:https cluster IP&quot;</span> -m tcp --dport 443 -j KUBE-SVC-NPX46M4PTMTKRN6Y</span><br><span class="line">-A KUBE-SERVICES ! -s 10.244.0.0/16 -d 10.96.0.10/32 -p udp -m comment --comment <span class="string">&quot;kube-system/kube-dns:dns cluster IP&quot;</span> -m udp --dport 53 -j KUBE-MARK-MASQ</span><br><span class="line">-A KUBE-SERVICES -d 10.96.0.10/32 -p udp -m comment --comment <span class="string">&quot;kube-system/kube-dns:dns cluster IP&quot;</span> -m udp --dport 53 -j KUBE-SVC-TCOU7JCQXEZGVUNU</span><br><span class="line">-A KUBE-SERVICES ! -s 10.244.0.0/16 -d 10.96.0.10/32 -p tcp -m comment --comment <span class="string">&quot;kube-system/kube-dns:dns-tcp cluster IP&quot;</span> -m tcp --dport 53 -j KUBE-MARK-MASQ</span><br><span class="line">-A KUBE-SERVICES -d 10.96.0.10/32 -p tcp -m comment --comment <span class="string">&quot;kube-system/kube-dns:dns-tcp cluster IP&quot;</span> -m tcp --dport 53 -j KUBE-SVC-ERIFXISQEP7F7OF4</span><br><span class="line">-A KUBE-SERVICES ! -s 10.244.0.0/16 -d 10.96.0.10/32 -p tcp -m comment --comment <span class="string">&quot;kube-system/kube-dns:metrics cluster IP&quot;</span> -m tcp --dport 9153 -j KUBE-MARK-MASQ</span><br><span class="line">-A KUBE-SERVICES -d 10.96.0.10/32 -p tcp -m comment --comment <span class="string">&quot;kube-system/kube-dns:metrics cluster IP&quot;</span> -m tcp --dport 9153 -j KUBE-SVC-JD5MR3NA4I4DYORP</span><br><span class="line">-A KUBE-SERVICES -m comment --comment <span class="string">&quot;kubernetes service nodeports; NOTE: this must be the last rule in this chain&quot;</span> -m addrtype --dst-type LOCAL -j KUBE-NODEPORTS</span><br><span class="line"><span class="comment">#-------------------------↑↑↑↑↑↑-------------------------</span></span><br></pre></td></tr></table></figure>
<p>我们发现，<code>PREROUTING</code>、<code>INPUT</code>、<code>FORWARD</code>、<code>OUTPUT</code>为<code>KUBE-SERVICES</code>的上游<code>Chain</code></p>
<p>接着我们回到<code>Chain KUBE-NODEPORTS</code>的规则，继续往下游分析，查看<code>Chain KUBE-SVC-5MRENC7Q6ZQR6GKR</code></p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">[root@k8s-n-1 ~]$ iptables-save | grep <span class="string">&#x27;KUBE-SVC-5MRENC7Q6ZQR6GKR&#x27;</span></span><br><span class="line"><span class="comment">#-------------------------↓↓↓↓↓↓-------------------------</span></span><br><span class="line">:KUBE-SVC-5MRENC7Q6ZQR6GKR - [0:0]</span><br><span class="line">-A KUBE-NODEPORTS -p tcp -m comment --comment <span class="string">&quot;default/hello-world-service:&quot;</span> -m tcp --dport 30001 -j KUBE-SVC-5MRENC7Q6ZQR6GKR</span><br><span class="line">-A KUBE-SERVICES -d 10.96.103.220/32 -p tcp -m comment --comment <span class="string">&quot;default/hello-world-service: cluster IP&quot;</span> -m tcp --dport 4000 -j KUBE-SVC-5MRENC7Q6ZQR6GKR</span><br><span class="line">-A KUBE-SVC-5MRENC7Q6ZQR6GKR -j KUBE-SEP-2KIVNDBOTOCNVG2U</span><br><span class="line"><span class="comment">#-------------------------↑↑↑↑↑↑-------------------------</span></span><br></pre></td></tr></table></figure>
<p>找到了一条规则，该规则指向了另一个<code>Chain KUBE-SEP-2KIVNDBOTOCNVG2U</code>，继续往下查看</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">[root@k8s-n-1 ~]$ iptables-save | grep <span class="string">&#x27;KUBE-SEP-2KIVNDBOTOCNVG2U&#x27;</span></span><br><span class="line"><span class="comment">#-------------------------↓↓↓↓↓↓-------------------------</span></span><br><span class="line">:KUBE-SEP-2KIVNDBOTOCNVG2U - [0:0]</span><br><span class="line">-A KUBE-SEP-2KIVNDBOTOCNVG2U -s 10.244.1.5/32 -j KUBE-MARK-MASQ</span><br><span class="line">-A KUBE-SEP-2KIVNDBOTOCNVG2U -p tcp -m tcp -j DNAT --to-destination 10.244.1.5:8080</span><br><span class="line">-A KUBE-SVC-5MRENC7Q6ZQR6GKR -j KUBE-SEP-2KIVNDBOTOCNVG2U</span><br><span class="line"><span class="comment">#-------------------------↑↑↑↑↑↑-------------------------</span></span><br></pre></td></tr></table></figure>
<p>找到了一条DNAT规则，该规则将数据包的目的ip以及端口改写为<code>10.244.1.5</code>以及<code>8080</code>，然后继续查找路由表</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[root@k8s-n-1 ~]$ ip r | grep <span class="string">&#x27;10.244.1.0/24&#x27;</span></span><br><span class="line"><span class="comment">#-------------------------↓↓↓↓↓↓-------------------------</span></span><br><span class="line">10.244.1.0/24 dev cni0 proto kernel scope <span class="built_in">link</span> src 10.244.1.1</span><br><span class="line"><span class="comment">#-------------------------↑↑↑↑↑↑-------------------------</span></span><br></pre></td></tr></table></figure>
<p>我们发现，路由表指向的是<code>cni0</code>，每个pod都对应了一个<code>veth pair</code>，一端连接在网桥上，另一端在容器的网络命名空间中，我们可以通过<code>brctl</code>来查看网桥<code>cni0</code>的相关信息</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">[root@k8s-n-1 ~]$ brctl show cni0</span><br><span class="line"><span class="comment">#-------------------------↓↓↓↓↓↓-------------------------</span></span><br><span class="line">bridge name	bridge <span class="built_in">id</span>		STP enabled	interfaces</span><br><span class="line">cni0		8000.2a11eb4c8527	no		veth8469bbce</span><br><span class="line"><span class="comment">#-------------------------↑↑↑↑↑↑-------------------------</span></span><br><span class="line"></span><br><span class="line">[root@k8s-n-1 ~]$ brctl showmacs cni0</span><br><span class="line"><span class="comment">#-------------------------↓↓↓↓↓↓-------------------------</span></span><br><span class="line">port no	mac addr		is <span class="built_in">local</span>?	ageing timer</span><br><span class="line">  2	a6:92:e2:fd:6c:9c	<span class="built_in">yes</span>		   0.00</span><br><span class="line">  2	a6:92:e2:fd:6c:9c	<span class="built_in">yes</span>		   0.00</span><br><span class="line">  2	ca:97:47:ed:<span class="built_in">dd</span>:01	no		   3.75</span><br><span class="line"><span class="comment">#-------------------------↑↑↑↑↑↑-------------------------</span></span><br></pre></td></tr></table></figure>
<p>可以看到，目前网桥<code>cni0</code>上只有一张网卡，该网卡类型是<code>veth</code>，veth是一对网卡，其中一张网卡在默认的网络命名空间中，另外一张网卡在pod的网络命名空间中。<code>brctl showmacs cni0</code>输出的三条数据中，其<code>port</code>都是2，代表这些对应着同一个网卡，即<code>veth</code>网卡，<code>is local</code>字段为<code>true</code>表示位于默认网络命名空间中，<code>is local</code>字段为<code>false</code>表示位于另一个网络命名空间中，接下来找到该docker的命名空间，然后进入该命名空间查看一下网卡的mac地址是否为<code>ca:97:47:ed:dd:01</code>，同时看一下该网卡的ip是否为<code>10.244.1.5</code></p>
<ul>
<li>注意，<code>brctl showmacs cni0</code>的输出中，<code>is local</code>为<code>false</code>的这条数据，<code>ageing timer</code>不是<code>0.00</code>，大约在300s后，这条数据将会消失。可以通过重新访问该<code>veth</code>网卡来激活（<code>ping</code>一下对应的<code>pod ip</code>）</li>
</ul>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 其中 e464807dae4f 是容器id</span></span><br><span class="line">[root@k8s-n-1 ~]$ pid=$(docker inspect -f <span class="string">&#x27;&#123;&#123;.State.Pid&#125;&#125;&#x27;</span> e464807dae4f)</span><br><span class="line">[root@k8s-n-1 ~]$ nsenter -t <span class="variable">$&#123;pid&#125;</span> -n ifconfig</span><br><span class="line"><span class="comment">#-------------------------↓↓↓↓↓↓-------------------------</span></span><br><span class="line">eth0: flags=4163&lt;UP,BROADCAST,RUNNING,MULTICAST&gt;  mtu 1450</span><br><span class="line">        inet 10.244.1.5  netmask 255.255.255.0  broadcast 0.0.0.0</span><br><span class="line">        inet6 fe80::c897:47ff:feed:dd01  prefixlen 64  scopeid 0x20&lt;<span class="built_in">link</span>&gt;</span><br><span class="line">        ether ca:97:47:ed:<span class="built_in">dd</span>:01  txqueuelen 0  (Ethernet)</span><br><span class="line">        RX packets 64  bytes 6286 (6.1 KiB)</span><br><span class="line">        RX errors 0  dropped 0  overruns 0  frame 0</span><br><span class="line">        TX packets 49  bytes 5643 (5.5 KiB)</span><br><span class="line">        TX errors 0  dropped 0 overruns 0  carrier 0  collisions 0</span><br><span class="line"></span><br><span class="line">lo: flags=73&lt;UP,LOOPBACK,RUNNING&gt;  mtu 65536</span><br><span class="line">        inet 127.0.0.1  netmask 255.0.0.0</span><br><span class="line">        inet6 ::1  prefixlen 128  scopeid 0x10&lt;host&gt;</span><br><span class="line">        loop  txqueuelen 1000  (Local Loopback)</span><br><span class="line">        RX packets 0  bytes 0 (0.0 B)</span><br><span class="line">        RX errors 0  dropped 0  overruns 0  frame 0</span><br><span class="line">        TX packets 0  bytes 0 (0.0 B)</span><br><span class="line">        TX errors 0  dropped 0 overruns 0  carrier 0  collisions 0</span><br><span class="line"><span class="comment">#-------------------------↑↑↑↑↑↑-------------------------</span></span><br></pre></td></tr></table></figure>
<p>接着，我们看下在<code>k8s-n-2</code>节点上，路由规则是怎样的</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[root@k8s-n-2 ~]$ ip r | grep <span class="string">&#x27;10.244.1.0/24&#x27;</span></span><br><span class="line"><span class="comment">#-------------------------↓↓↓↓↓↓-------------------------</span></span><br><span class="line">10.244.1.0/24 via 10.244.1.0 dev flannel.1 onlink</span><br><span class="line"><span class="comment">#-------------------------↑↑↑↑↑↑-------------------------</span></span><br></pre></td></tr></table></figure>
<p>可以看到，在<code>k8s-n-1</code>节点上，直接路由到了<code>flannel.1</code>这样网卡，然后通过<code>flannel</code>的网络（主机网络或覆盖网络）到达<code>k8s-n-1</code>上</p>
<p><strong>iptables规则链</strong></p>
<pre class="mermaid">flowchart TD
    A["PREROUTING/INPUT/OUTPUT/FORWARD"]
    B["KUBE-SERVICES"]
    C1["KUBE-MARK-MASQ"]
    C2["KUBE-SVC-nginx"]
    C3["KUBE-MARK-MASQ"]
    C4["KUBE-SVC-tomcat"]
    C5["KUBE-NODEPORTS"]
    D1["KUBE-SEP-nginx"]
    E1["DNAT redirect to nginx pod's ip and port"]

    A --> B
    B --> |nginx, srcIp not in cidr| C1
    B --> |nginx, srcIp in cidr| C2
    B --> |tomcat, srcIp not in cidr| C3
    B --> |tomcat, srcIp in cidr| C4
    B --> |last rule in the chain 'KUBE-SERVICES'| C5
    C2 --> D1
    D1 --> E1</pre>
<h3 id="232-nodeport-多副本"><a class="markdownIt-Anchor" href="#232-nodeport-多副本"></a> 2.3.2 nodeport-多副本</h3>
<p><strong>deployment（hello-world-deployment.yml）</strong></p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">apiVersion:</span> <span class="string">apps/v1</span></span><br><span class="line"><span class="attr">kind:</span> <span class="string">Deployment</span></span><br><span class="line"><span class="attr">metadata:</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">hello-world-deployment</span></span><br><span class="line">  <span class="attr">labels:</span></span><br><span class="line">    <span class="attr">mylabel:</span> <span class="string">label_hello_world_deployment</span></span><br><span class="line"><span class="attr">spec:</span></span><br><span class="line">  <span class="attr">replicas:</span> <span class="number">3</span> <span class="comment"># 这里改成3副本</span></span><br><span class="line">  <span class="attr">selector:</span></span><br><span class="line">    <span class="attr">matchLabels:</span></span><br><span class="line">      <span class="attr">mylabel:</span> <span class="string">label_hello_world</span></span><br><span class="line">  <span class="attr">template:</span></span><br><span class="line">    <span class="attr">metadata:</span></span><br><span class="line">      <span class="attr">labels:</span></span><br><span class="line">        <span class="attr">mylabel:</span> <span class="string">label_hello_world</span></span><br><span class="line">    <span class="attr">spec:</span></span><br><span class="line">      <span class="attr">containers:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">hello-world</span></span><br><span class="line">        <span class="attr">image:</span> <span class="string">registry.cn-hangzhou.aliyuncs.com/liuyehcf_default/liuye_repo:v1</span></span><br><span class="line">        <span class="attr">imagePullPolicy:</span> <span class="string">IfNotPresent</span></span><br><span class="line">        <span class="attr">command:</span> [<span class="string">&quot;java&quot;</span>, <span class="string">&quot;-jar&quot;</span>, <span class="string">&quot;lib/spring-boot-1.0-SNAPSHOT.jar&quot;</span>]</span><br><span class="line">        <span class="attr">ports:</span></span><br><span class="line">        <span class="bullet">-</span> <span class="attr">containerPort:</span> <span class="number">8080</span></span><br></pre></td></tr></table></figure>
<p><strong>service（hello-world-service.yml）</strong></p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">apiVersion:</span> <span class="string">v1</span></span><br><span class="line"><span class="attr">kind:</span> <span class="string">Service</span></span><br><span class="line"><span class="attr">metadata:</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">hello-world-service</span></span><br><span class="line"><span class="attr">spec:</span></span><br><span class="line">  <span class="attr">ports:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">protocol:</span> <span class="string">TCP</span></span><br><span class="line">      <span class="attr">port:</span> <span class="number">4000</span></span><br><span class="line">      <span class="attr">targetPort:</span> <span class="number">8080</span></span><br><span class="line">      <span class="attr">nodePort:</span> <span class="number">30001</span></span><br><span class="line">  <span class="attr">selector:</span></span><br><span class="line">    <span class="attr">mylabel:</span> <span class="string">label_hello_world</span></span><br><span class="line">  <span class="attr">type:</span> <span class="string">NodePort</span></span><br></pre></td></tr></table></figure>
<p>创建<code>deployment</code>以及<code>service</code></p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">[root@k8s-master ~]$ kubectl apply -f hello-world-service.yml</span><br><span class="line"><span class="comment">#-------------------------↓↓↓↓↓↓-------------------------</span></span><br><span class="line">service/hello-world-service created</span><br><span class="line"><span class="comment">#-------------------------↑↑↑↑↑↑-------------------------</span></span><br><span class="line"></span><br><span class="line">[root@k8s-master ~]$ kubectl apply -f hello-world-deployment.yml</span><br><span class="line"><span class="comment">#-------------------------↓↓↓↓↓↓-------------------------</span></span><br><span class="line">deployment.apps/hello-world-deployment created</span><br><span class="line"><span class="comment">#-------------------------↑↑↑↑↑↑-------------------------</span></span><br></pre></td></tr></table></figure>
<p>查看一下<code>pod</code>的部署情况</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">[root@k8s-master ~]$ kubectl get pods -o wide</span><br><span class="line"><span class="comment">#-------------------------↓↓↓↓↓↓-------------------------</span></span><br><span class="line">NAME                                     READY   STATUS    RESTARTS   AGE     IP           NODE      NOMINATED NODE   READINESS GATES</span><br><span class="line">hello-world-deployment-cbdf4db7b-5qflq   1/1     Running   0          5m      10.244.2.2   k8s-n-2   &lt;none&gt;           &lt;none&gt;</span><br><span class="line">hello-world-deployment-cbdf4db7b-j6fpq   1/1     Running   1          5h35m   10.244.1.6   k8s-n-1   &lt;none&gt;           &lt;none&gt;</span><br><span class="line">hello-world-deployment-cbdf4db7b-qc624   1/1     Running   0          5m      10.244.1.7   k8s-n-1   &lt;none&gt;           &lt;none&gt;</span><br><span class="line"><span class="comment">#-------------------------↑↑↑↑↑↑-------------------------</span></span><br></pre></td></tr></table></figure>
<p>我们以<code>k8s-n-1</code>为例，首先以<code>NodePort</code>为关键字进行搜索</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[root@k8s-n-1 ~]$ iptables-save | grep 30001</span><br><span class="line"><span class="comment">#-------------------------↓↓↓↓↓↓-------------------------</span></span><br><span class="line">-A KUBE-NODEPORTS -p tcp -m comment --comment <span class="string">&quot;default/hello-world-service:&quot;</span> -m tcp --dport 30001 -j KUBE-MARK-MASQ</span><br><span class="line">-A KUBE-NODEPORTS -p tcp -m comment --comment <span class="string">&quot;default/hello-world-service:&quot;</span> -m tcp --dport 30001 -j KUBE-SVC-5MRENC7Q6ZQR6GKR</span><br><span class="line"><span class="comment">#-------------------------↑↑↑↑↑↑-------------------------</span></span><br></pre></td></tr></table></figure>
<p>上游<code>Chain</code>与单副本完全一致，不再赘述，继续沿着下游<code>Chain</code>进行分析，搜索<code>KUBE-SVC-5MRENC7Q6ZQR6GKR</code>关键词</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">[root@k8s-n-1 ~]$ iptables-save | grep KUBE-SVC-5MRENC7Q6ZQR6GKR</span><br><span class="line"><span class="comment">#-------------------------↓↓↓↓↓↓-------------------------</span></span><br><span class="line">:KUBE-SVC-5MRENC7Q6ZQR6GKR - [0:0]</span><br><span class="line">-A KUBE-NODEPORTS -p tcp -m comment --comment <span class="string">&quot;default/hello-world-service:&quot;</span> -m tcp --dport 30001 -j KUBE-SVC-5MRENC7Q6ZQR6GKR</span><br><span class="line">-A KUBE-SERVICES -d 10.96.103.220/32 -p tcp -m comment --comment <span class="string">&quot;default/hello-world-service: cluster IP&quot;</span> -m tcp --dport 4000 -j KUBE-SVC-5MRENC7Q6ZQR6GKR</span><br><span class="line">-A KUBE-SVC-5MRENC7Q6ZQR6GKR -m statistic --mode random --probability 0.33333333349 -j KUBE-SEP-NQUZNNDG4S4UQTZI</span><br><span class="line">-A KUBE-SVC-5MRENC7Q6ZQR6GKR -m statistic --mode random --probability 0.50000000000 -j KUBE-SEP-XYEBSHB6XMTA6LVQ</span><br><span class="line">-A KUBE-SVC-5MRENC7Q6ZQR6GKR -j KUBE-SEP-AFBU56PEPWZ4VPIJ</span><br><span class="line"><span class="comment">#-------------------------↑↑↑↑↑↑-------------------------</span></span><br></pre></td></tr></table></figure>
<p>这里，我们就能发现单副本与多副本之间的差异了，在单副本的例子中，只有一条规则，而多副本的例子中，有多条规则（规则数量与副本数保持一致），并且使用了<code>statistic</code>模块，引入了随机因子，用于实现负载均衡的功能（<code>iptables -m statistic -h</code>查看该模块的参数），然后，分别查看三个下游<code>Chain</code></p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">[root@k8s-n-1 ~]$ iptables-save | grep KUBE-SEP-NQUZNNDG4S4UQTZI</span><br><span class="line"><span class="comment">#-------------------------↓↓↓↓↓↓-------------------------</span></span><br><span class="line">:KUBE-SEP-NQUZNNDG4S4UQTZI - [0:0]</span><br><span class="line">-A KUBE-SEP-NQUZNNDG4S4UQTZI -s 10.244.1.6/32 -j KUBE-MARK-MASQ</span><br><span class="line">-A KUBE-SEP-NQUZNNDG4S4UQTZI -p tcp -m tcp -j DNAT --to-destination 10.244.1.6:8080</span><br><span class="line">-A KUBE-SVC-5MRENC7Q6ZQR6GKR -m statistic --mode random --probability 0.33333333349 -j KUBE-SEP-NQUZNNDG4S4UQTZI</span><br><span class="line"><span class="comment">#-------------------------↑↑↑↑↑↑-------------------------</span></span><br><span class="line"></span><br><span class="line">[root@k8s-n-1 ~]$ iptables-save | grep KUBE-SEP-XYEBSHB6XMTA6LVQ</span><br><span class="line"><span class="comment">#-------------------------↓↓↓↓↓↓-------------------------</span></span><br><span class="line">:KUBE-SEP-XYEBSHB6XMTA6LVQ - [0:0]</span><br><span class="line">-A KUBE-SEP-XYEBSHB6XMTA6LVQ -s 10.244.1.7/32 -j KUBE-MARK-MASQ</span><br><span class="line">-A KUBE-SEP-XYEBSHB6XMTA6LVQ -p tcp -m tcp -j DNAT --to-destination 10.244.1.7:8080</span><br><span class="line">-A KUBE-SVC-5MRENC7Q6ZQR6GKR -m statistic --mode random --probability 0.50000000000 -j KUBE-SEP-XYEBSHB6XMTA6LVQ</span><br><span class="line"><span class="comment">#-------------------------↑↑↑↑↑↑-------------------------</span></span><br><span class="line"></span><br><span class="line">[root@k8s-n-1 ~]$ iptables-save | grep KUBE-SEP-AFBU56PEPWZ4VPIJ</span><br><span class="line"><span class="comment">#-------------------------↓↓↓↓↓↓-------------------------</span></span><br><span class="line">:KUBE-SEP-AFBU56PEPWZ4VPIJ - [0:0]</span><br><span class="line">-A KUBE-SEP-AFBU56PEPWZ4VPIJ -s 10.244.2.2/32 -j KUBE-MARK-MASQ</span><br><span class="line">-A KUBE-SEP-AFBU56PEPWZ4VPIJ -p tcp -m tcp -j DNAT --to-destination 10.244.2.2:8080</span><br><span class="line">-A KUBE-SVC-5MRENC7Q6ZQR6GKR -j KUBE-SEP-AFBU56PEPWZ4VPIJ</span><br><span class="line"><span class="comment">#-------------------------↑↑↑↑↑↑-------------------------</span></span><br></pre></td></tr></table></figure>
<p>这里，可以看到，三个<code>Chain</code>，每个<code>Chain</code>分别配置了一个DNAT，指向某一个<code>pod</code>。后续的链路，如果在<code>pod</code>在本机，则走<code>cni0</code>网桥，否则就走<code>flannel</code></p>
<p><strong>iptables规则链</strong></p>
<pre class="mermaid">flowchart TD
    A["PREROUTING/INPUT/OUTPUT/FORWARD"]
    B["KUBE-SERVICES"]
    C1["KUBE-MARK-MASQ"]
    C2["KUBE-SVC-NGINX"]
    C3["KUBE-MARK-MASQ"]
    C4["KUBE-SVC-TOMCAT"]
    C5["KUBE-NODEPORTS"]
    D1["KUBE-SEP-nginx1"]
    D2["KUBE-SEP-nginx2"]
    D3["KUBE-SEP-nginx3"]
    E1["DNAT redirect to nginx pod1's ip and port"]
    E2["DNAT redirect to nginx pod2's ip and port"]
    E3["DNAT redirect to nginx pod3's ip and port"]

    A --> B
    B --> |nginx, srcIp not in cidr| C1
    B --> |nginx, srcIp in cidr| C2
    B --> |tomcat, srcIp not in cidr| C3
    B --> |tomcat, srcIp in cidr| C4
    B --> |last rule in the chain 'KUBE-SERVICES'| C5
    C2 --> |random| D1
    C2 --> |random| D2
    C2 --> |random| D3
    D1 --> E1
    D2 --> E2
    D3 --> E3</pre>
<h2 id="24-总结"><a class="markdownIt-Anchor" href="#24-总结"></a> 2.4 总结</h2>
<ol>
<li>每个<code>node</code>上的<code>pod</code>，其子网都相同</li>
<li>同个<code>node</code>之间<code>pod</code>相互访问，最终会走到<code>cni</code>网桥，该网桥等价于一个二层交换机，接着一对<code>veth</code>网卡，其中一段在默认的网络命名空间，另一端在<code>pod</code>的网络命名空间</li>
<li>不同<code>node</code>之间的<code>pod</code>相互访问，最终会走到<code>flannel</code></li>
</ol>
<h1 id="3-coredns"><a class="markdownIt-Anchor" href="#3-coredns"></a> 3 coreDNS</h1>
<p><code>coreDNS</code>是每个<code>Kubernetes</code>集群都会安装的系统组件，用于<code>Service</code>的解析，将服务名称解析成<code>ClusterIP</code></p>
<p>一般来说，<code>coredns</code>以<code>deployment</code>运行在集群中（也可能是<code>daemonset</code>）</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[root@k8s-master ~]$ kubectl get deployment -n kube-system</span><br><span class="line"><span class="comment">#-------------------------↓↓↓↓↓↓-------------------------</span></span><br><span class="line">NAME            READY   UP-TO-DATE   AVAILABLE   AGE</span><br><span class="line">coredns         2/2     2            2           149d</span><br><span class="line"><span class="comment">#-------------------------↑↑↑↑↑↑-------------------------</span></span><br></pre></td></tr></table></figure>
<p><strong>下面，我们用一个pod来验证一下<code>dnsutils.yaml</code>，yaml文件内容如下，<code>dnsutils</code>这个镜像中包含了<code>dig</code>、<code>nslookup</code>等命令，换成其他任何包含这个两个命令的镜像都行</strong></p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">apiVersion:</span> <span class="string">v1</span></span><br><span class="line"><span class="attr">kind:</span> <span class="string">Pod</span></span><br><span class="line"><span class="attr">metadata:</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">dnsutils</span></span><br><span class="line">  <span class="attr">namespace:</span> <span class="string">default</span></span><br><span class="line"><span class="attr">spec:</span></span><br><span class="line">  <span class="attr">containers:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">dnsutils</span></span><br><span class="line">    <span class="attr">image:</span> <span class="string">gcr.io/kubernetes-e2e-test-images/dnsutils:1.3</span></span><br><span class="line">    <span class="attr">command:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">sleep</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">&quot;3600&quot;</span></span><br><span class="line">    <span class="attr">imagePullPolicy:</span> <span class="string">IfNotPresent</span></span><br></pre></td></tr></table></figure>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 创建pod</span></span><br><span class="line">[root@k8s-master ~]$ kubectl apply -f dnsutils.yaml</span><br><span class="line"><span class="comment">#-------------------------↓↓↓↓↓↓-------------------------</span></span><br><span class="line">pod/dnsutils created</span><br><span class="line"><span class="comment">#-------------------------↑↑↑↑↑↑-------------------------</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 查看一下pod是否启动成功</span></span><br><span class="line">[root@k8s-master ~]$ kubectl get pods</span><br><span class="line"><span class="comment">#-------------------------↓↓↓↓↓↓-------------------------</span></span><br><span class="line">NAME                                      READY   STATUS    RESTARTS   AGE</span><br><span class="line">dnsutils                                  1/1     Running   0          33s</span><br><span class="line"><span class="comment">#-------------------------↑↑↑↑↑↑-------------------------</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 看下default以及kube-system命名空间下各有什么service</span></span><br><span class="line">[root@k8s-master ~]$ kubectl get svc</span><br><span class="line"><span class="comment">#-------------------------↓↓↓↓↓↓-------------------------</span></span><br><span class="line">NAME                  TYPE        CLUSTER-IP       EXTERNAL-IP   PORT(S)          AGE</span><br><span class="line">kubernetes            ClusterIP   10.96.0.1        &lt;none&gt;        443/TCP          28d</span><br><span class="line"><span class="comment">#-------------------------↑↑↑↑↑↑-------------------------</span></span><br><span class="line">[root@k8s-master ~]$ kubectl get svc -n kube-system</span><br><span class="line"><span class="comment">#-------------------------↓↓↓↓↓↓-------------------------</span></span><br><span class="line">NAME            TYPE        CLUSTER-IP       EXTERNAL-IP   PORT(S)                  AGE</span><br><span class="line">kube-dns        ClusterIP   10.96.0.10       &lt;none&gt;        53/UDP,53/TCP,9153/TCP   149d</span><br><span class="line">tiller-deploy   ClusterIP   10.108.160.127   &lt;none&gt;        44134/TCP                118d</span><br><span class="line"><span class="comment">#-------------------------↑↑↑↑↑↑-------------------------</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 查看/etc/resolv.conf，我们发现，指定的nameserver就是coredns的ClusterIP</span></span><br><span class="line">[root@k8s-master ~]$ kubectl <span class="built_in">exec</span> -it dnsutils -- <span class="built_in">cat</span> /etc/resolv.conf</span><br><span class="line"><span class="comment">#-------------------------↓↓↓↓↓↓-------------------------</span></span><br><span class="line">nameserver 10.96.0.10</span><br><span class="line">search default.svc.cluster.local svc.cluster.local cluster.local hz.ali.com</span><br><span class="line">options ndots:5</span><br><span class="line"><span class="comment">#-------------------------↑↑↑↑↑↑-------------------------</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 用nslookup查找位于相同命名空间下的服务 kubernetes</span></span><br><span class="line">[root@k8s-master ~]$ kubectl <span class="built_in">exec</span> -it dnsutils -- nslookup kubernetes</span><br><span class="line"><span class="comment">#-------------------------↓↓↓↓↓↓-------------------------</span></span><br><span class="line">Server:		10.96.0.10</span><br><span class="line">Address:	10.96.0.10<span class="comment">#53</span></span><br><span class="line"></span><br><span class="line">Name:	kubernetes.default.svc.cluster.local</span><br><span class="line">Address: 10.96.0.1</span><br><span class="line"><span class="comment">#-------------------------↑↑↑↑↑↑-------------------------</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 用nslookup查找位于不同命名空间下的服务 tiller-deploy</span></span><br><span class="line">[root@k8s-master ~]$ kubectl <span class="built_in">exec</span> -it dnsutils -- nslookup tiller-deploy.kube-system</span><br><span class="line"><span class="comment">#-------------------------↓↓↓↓↓↓-------------------------</span></span><br><span class="line">Server:		10.96.0.10</span><br><span class="line">Address:	10.96.0.10<span class="comment">#53</span></span><br><span class="line"></span><br><span class="line">Non-authoritative answer:</span><br><span class="line">Name:	tiller-deploy.kube-system.svc.cluster.local</span><br><span class="line">Address: 10.108.160.127</span><br><span class="line"><span class="comment">#-------------------------↑↑↑↑↑↑-------------------------</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 清理资源</span></span><br><span class="line">[root@k8s-master ~]$ kubectl delete -f dnsutils.yaml</span><br><span class="line"><span class="comment">#-------------------------↓↓↓↓↓↓-------------------------</span></span><br><span class="line">pod <span class="string">&quot;dnsutils&quot;</span> deleted</span><br><span class="line"><span class="comment">#-------------------------↑↑↑↑↑↑-------------------------</span></span><br></pre></td></tr></table></figure>
<p><strong>接下来，将修改<code>dnsutils.yaml</code>，设置成<code>hostnetwork</code>，同时不指定<code>dnsPolicy</code></strong></p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">apiVersion:</span> <span class="string">v1</span></span><br><span class="line"><span class="attr">kind:</span> <span class="string">Pod</span></span><br><span class="line"><span class="attr">metadata:</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">dnsutils</span></span><br><span class="line">  <span class="attr">namespace:</span> <span class="string">default</span></span><br><span class="line"><span class="attr">spec:</span></span><br><span class="line">  <span class="attr">hostNetwork:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">containers:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">dnsutils</span></span><br><span class="line">    <span class="attr">image:</span> <span class="string">gcr.io/kubernetes-e2e-test-images/dnsutils:1.3</span></span><br><span class="line">    <span class="attr">command:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">sleep</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">&quot;3600&quot;</span></span><br><span class="line">    <span class="attr">imagePullPolicy:</span> <span class="string">IfNotPresent</span></span><br></pre></td></tr></table></figure>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 创建pod</span></span><br><span class="line">[root@k8s-master ~]$ kubectl apply -f dnsutils.yaml</span><br><span class="line"><span class="comment">#-------------------------↓↓↓↓↓↓-------------------------</span></span><br><span class="line">pod/dnsutils created</span><br><span class="line"><span class="comment">#-------------------------↑↑↑↑↑↑-------------------------</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 查看一下pod是否启动成功</span></span><br><span class="line">[root@k8s-master ~]$ kubectl get pods</span><br><span class="line"><span class="comment">#-------------------------↓↓↓↓↓↓-------------------------</span></span><br><span class="line">NAME                                      READY   STATUS    RESTARTS   AGE</span><br><span class="line">dnsutils                                  1/1     Running   0          29s</span><br><span class="line"><span class="comment">#-------------------------↑↑↑↑↑↑-------------------------</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 看下default以及kube-system命名空间下各有什么service</span></span><br><span class="line">[root@k8s-master ~]$ kubectl get svc</span><br><span class="line"><span class="comment">#-------------------------↓↓↓↓↓↓-------------------------</span></span><br><span class="line">NAME                  TYPE        CLUSTER-IP       EXTERNAL-IP   PORT(S)          AGE</span><br><span class="line">kubernetes            ClusterIP   10.96.0.1        &lt;none&gt;        443/TCP          28d</span><br><span class="line"><span class="comment">#-------------------------↑↑↑↑↑↑-------------------------</span></span><br><span class="line">[root@k8s-master ~]$ kubectl get svc -n kube-system</span><br><span class="line"><span class="comment">#-------------------------↓↓↓↓↓↓-------------------------</span></span><br><span class="line">NAME            TYPE        CLUSTER-IP       EXTERNAL-IP   PORT(S)                  AGE</span><br><span class="line">kube-dns        ClusterIP   10.96.0.10       &lt;none&gt;        53/UDP,53/TCP,9153/TCP   149d</span><br><span class="line">tiller-deploy   ClusterIP   10.108.160.127   &lt;none&gt;        44134/TCP                118d</span><br><span class="line"><span class="comment">#-------------------------↑↑↑↑↑↑-------------------------</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 查看/etc/resolv.conf，我们发现，这个配置就是主机的配置</span></span><br><span class="line">[root@k8s-master ~]$ kubectl <span class="built_in">exec</span> -it dnsutils -- <span class="built_in">cat</span> /etc/resolv.conf</span><br><span class="line"><span class="comment">#-------------------------↓↓↓↓↓↓-------------------------</span></span><br><span class="line">nameserver 30.14.129.245</span><br><span class="line">nameserver 30.14.128.82</span><br><span class="line">nameserver 10.65.0.201</span><br><span class="line">search hz.ali.com</span><br><span class="line"><span class="comment">#-------------------------↑↑↑↑↑↑-------------------------</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 用nslookup查找位于相同命名空间下的服务 kubernetes，查找不到</span></span><br><span class="line">[root@k8s-master ~]$ kubectl <span class="built_in">exec</span> -it dnsutils -- nslookup kubernetes</span><br><span class="line"><span class="comment">#-------------------------↓↓↓↓↓↓-------------------------</span></span><br><span class="line">;; Got SERVFAIL reply from 30.14.129.245, trying next server</span><br><span class="line">;; Got SERVFAIL reply from 30.14.128.82, trying next server</span><br><span class="line">Server:		10.65.0.201</span><br><span class="line">Address:	10.65.0.201<span class="comment">#53</span></span><br><span class="line"></span><br><span class="line">server cant find kubernetes: SERVFAIL</span><br><span class="line"></span><br><span class="line"><span class="built_in">command</span> terminated with <span class="built_in">exit</span> code 1</span><br><span class="line"><span class="comment">#-------------------------↑↑↑↑↑↑-------------------------</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 清理资源</span></span><br><span class="line">[root@k8s-master ~]$ kubectl delete -f dnsutils.yaml</span><br><span class="line"><span class="comment">#-------------------------↓↓↓↓↓↓-------------------------</span></span><br><span class="line">pod <span class="string">&quot;dnsutils&quot;</span> deleted</span><br><span class="line"><span class="comment">#-------------------------↑↑↑↑↑↑-------------------------</span></span><br></pre></td></tr></table></figure>
<p><strong>我们继续修改<code>dnsutils.yaml</code>，设置成<code>hostnetwork</code>，同时将<code>dnsPolicy</code>设置为<code>ClusterFirstWithHostNet</code></strong></p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">apiVersion:</span> <span class="string">v1</span></span><br><span class="line"><span class="attr">kind:</span> <span class="string">Pod</span></span><br><span class="line"><span class="attr">metadata:</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">dnsutils</span></span><br><span class="line">  <span class="attr">namespace:</span> <span class="string">default</span></span><br><span class="line"><span class="attr">spec:</span></span><br><span class="line">  <span class="attr">hostNetwork:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">dnsPolicy:</span> <span class="string">ClusterFirstWithHostNet</span></span><br><span class="line">  <span class="attr">containers:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">dnsutils</span></span><br><span class="line">    <span class="attr">image:</span> <span class="string">gcr.io/kubernetes-e2e-test-images/dnsutils:1.3</span></span><br><span class="line">    <span class="attr">command:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">sleep</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">&quot;3600&quot;</span></span><br><span class="line">    <span class="attr">imagePullPolicy:</span> <span class="string">IfNotPresent</span></span><br></pre></td></tr></table></figure>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 创建pod</span></span><br><span class="line">[root@k8s-master ~]$ kubectl apply -f dnsutils.yaml</span><br><span class="line"><span class="comment">#-------------------------↓↓↓↓↓↓-------------------------</span></span><br><span class="line">pod/dnsutils created</span><br><span class="line"><span class="comment">#-------------------------↑↑↑↑↑↑-------------------------</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 查看一下pod是否启动成功</span></span><br><span class="line">[root@k8s-master ~]$ kubectl get pods</span><br><span class="line"><span class="comment">#-------------------------↓↓↓↓↓↓-------------------------</span></span><br><span class="line">NAME                                      READY   STATUS    RESTARTS   AGE</span><br><span class="line">dnsutils                                  1/1     Running   0          42</span><br><span class="line"><span class="comment">#-------------------------↑↑↑↑↑↑-------------------------</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 看下default以及kube-system命名空间下各有什么service</span></span><br><span class="line">[root@k8s-master ~]$ kubectl get svc</span><br><span class="line"><span class="comment">#-------------------------↓↓↓↓↓↓-------------------------</span></span><br><span class="line">NAME                  TYPE        CLUSTER-IP       EXTERNAL-IP   PORT(S)          AGE</span><br><span class="line">kubernetes            ClusterIP   10.96.0.1        &lt;none&gt;        443/TCP          28d</span><br><span class="line"><span class="comment">#-------------------------↑↑↑↑↑↑-------------------------</span></span><br><span class="line">[root@k8s-master ~]$ kubectl get svc -n kube-system</span><br><span class="line"><span class="comment">#-------------------------↓↓↓↓↓↓-------------------------</span></span><br><span class="line">NAME            TYPE        CLUSTER-IP       EXTERNAL-IP   PORT(S)                  AGE</span><br><span class="line">kube-dns        ClusterIP   10.96.0.10       &lt;none&gt;        53/UDP,53/TCP,9153/TCP   149d</span><br><span class="line">tiller-deploy   ClusterIP   10.108.160.127   &lt;none&gt;        44134/TCP                118d</span><br><span class="line"><span class="comment">#-------------------------↑↑↑↑↑↑-------------------------</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 查看/etc/resolv.conf，我们发现，指定的nameserver就是coredns的ClusterIP</span></span><br><span class="line">[root@k8s-master ~]$ kubectl <span class="built_in">exec</span> -it dnsutils -- <span class="built_in">cat</span> /etc/resolv.conf</span><br><span class="line"><span class="comment">#-------------------------↓↓↓↓↓↓-------------------------</span></span><br><span class="line">nameserver 10.96.0.10</span><br><span class="line">search default.svc.cluster.local svc.cluster.local cluster.local hz.ali.com</span><br><span class="line">options ndots:5</span><br><span class="line"><span class="comment">#-------------------------↑↑↑↑↑↑-------------------------</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 用nslookup查找位于相同命名空间下的服务 kubernetes</span></span><br><span class="line">[root@k8s-master ~]$ kubectl <span class="built_in">exec</span> -it dnsutils -- nslookup kubernetes</span><br><span class="line"><span class="comment">#-------------------------↓↓↓↓↓↓-------------------------</span></span><br><span class="line">Server:		10.96.0.10</span><br><span class="line">Address:	10.96.0.10<span class="comment">#53</span></span><br><span class="line"></span><br><span class="line">Name:	kubernetes.default.svc.cluster.local</span><br><span class="line">Address: 10.96.0.1</span><br><span class="line"><span class="comment">#-------------------------↑↑↑↑↑↑-------------------------</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 用nslookup查找位于不同命名空间下的服务 tiller-deploy</span></span><br><span class="line">[root@k8s-master ~]$ kubectl <span class="built_in">exec</span> -it dnsutils -- nslookup tiller-deploy.kube-system</span><br><span class="line"><span class="comment">#-------------------------↓↓↓↓↓↓-------------------------</span></span><br><span class="line">Server:		10.96.0.10</span><br><span class="line">Address:	10.96.0.10<span class="comment">#53</span></span><br><span class="line"></span><br><span class="line">Non-authoritative answer:</span><br><span class="line">Name:	tiller-deploy.kube-system.svc.cluster.local</span><br><span class="line">Address: 10.108.160.127</span><br><span class="line"><span class="comment">#-------------------------↑↑↑↑↑↑-------------------------</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 清理资源</span></span><br><span class="line">[root@k8s-master ~]$ kubectl delete -f dnsutils.yaml</span><br><span class="line"><span class="comment">#-------------------------↓↓↓↓↓↓-------------------------</span></span><br><span class="line">pod <span class="string">&quot;dnsutils&quot;</span> deleted</span><br><span class="line"><span class="comment">#-------------------------↑↑↑↑↑↑-------------------------</span></span><br></pre></td></tr></table></figure>
<h1 id="4-hostnetwork"><a class="markdownIt-Anchor" href="#4-hostnetwork"></a> 4 HostNetwork</h1>
<p>使用主机网络后，<code>PodIP</code>就是主机<code>IP</code>，<code>ContainerPort</code>就是主机<code>Port</code></p>
<p>如果一个设置了主机网络的<code>Pod</code>，想要通过<code>serviceName:servicePort</code>来访问其他服务的时候，需要将<code>dnsPolicy</code>配置成<code>ClusterFirstWithHostNet</code></p>
<p>此外，如果配置了一个<code>Service</code>，以<code>NodePort</code>方式将设置了主机网络的<code>Pod</code>对外露出，可能会导致这样的问题：假设主机A上部署了一个主机网络的<code>Pod</code>，并且以<code>NodePort</code>对外露出，<code>NodePort=30001</code>，此时访问主机B的30001端口，请求有可能无法触达A，原因如下：</p>
<ul>
<li><code>kube-proxy</code>设置的<code>iptables</code>规则可能会与用户设置的<code>iptables</code>规则冲突，因此<code>k8s</code>事先约定了一个NodePort范围，<code>30000-32767</code>，且在初始化集群时，需要指定一个网段用于分配<code>PodIP</code>，在这样的限制条件下，<code>kube-proxy</code>设置的<code>iptables</code>规则才能与用户原有的<code>iptables</code>规则互不影响</li>
<li>当服务以<code>NodePort</code>形式露出时，且<code>Pod</code>为容器网络时，<code>kube-proxy</code>会配置如下两条规则
<ul>
<li>一条<code>DNAT</code>规则，改写目的端口为<code>NodePort</code>的IP数据包头，将其改为<code>PodIP</code></li>
<li>一条<code>FORWARD</code>规则，对应的网段就是<code>PodIP</code>的网段</li>
</ul>
</li>
<li>当服务以<code>NodePort</code>形式露出，且<code>Pod</code>为主机网络时，只设置了一条<code>DNAT</code>规则，而一般来说，<code>FORWARD</code>的默认策略是<code>DROP</code>。因此
<ul>
<li>当<code>Pod</code>的IP就是当前主机的IP时，直接走<code>INPUT</code>，进入本地网络协议栈，可以正常访问服务</li>
<li>当<code>Pod</code>的IP是其他主机的IP时，经过<code>FORWARD</code>，由于没有配置对应的规则，流量被直接<code>DROP</code>，无法正常访问服务</li>
</ul>
</li>
<li>解决方式：<code>iptables -P FORWARD ACCEPT</code>，将默认的<code>FORWARD</code>策略改为<code>ACCEPT</code></li>
</ul>
<h1 id="5-问题排查"><a class="markdownIt-Anchor" href="#5-问题排查"></a> 5 问题排查</h1>
<h2 id="51-排查一般思路"><a class="markdownIt-Anchor" href="#51-排查一般思路"></a> 5.1 排查一般思路</h2>
<h3 id="511-步骤1确认系统网络参数是否配置正确"><a class="markdownIt-Anchor" href="#511-步骤1确认系统网络参数是否配置正确"></a> 5.1.1 步骤1：确认系统网络参数是否配置正确</h3>
<p><strong>以下两个配置项，需要设置成1，否则iptables规则无法应用于二层转发（同主机的pod之间的网络通信走的是二层转发）</strong></p>
<ol>
<li>net.bridge.bridge-nf-call-ip6tables</li>
<li>net.bridge.bridge-nf-call-iptables</li>
</ol>
<p><strong>以下三个配置项，需要设置成1，否则流量从网卡<code>cni0</code>出来之后，无法forward到主机的外网网卡上，意味着，容器里面是无法访问公网的，具体表现就是在容器网络的容器中无法ping通外网ip</strong></p>
<ol>
<li>net.ipv4.ip_forward</li>
<li>net.ipv4.conf.all.forwarding</li>
<li>net.ipv6.conf.all.forwarding</li>
</ol>
<p><strong>如何修改配置</strong></p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 临时修改</span></span><br><span class="line"><span class="built_in">echo</span> 1 &gt; /proc/sys/net/bridge/bridge-nf-call-ip6tables</span><br><span class="line"><span class="built_in">echo</span> 1 &gt; /proc/sys/net/bridge/bridge-nf-call-iptables</span><br><span class="line"><span class="built_in">echo</span> 1 &gt; /proc/sys/net/ipv4/ip_forward</span><br><span class="line"><span class="built_in">echo</span> 1 &gt; /proc/sys/net/ipv4/conf/all/forwarding</span><br><span class="line"><span class="built_in">echo</span> 1 &gt; /proc/sys/net/ipv6/conf/all/forwarding</span><br><span class="line"></span><br><span class="line"><span class="comment"># 永久修改</span></span><br><span class="line"><span class="built_in">cat</span> &gt;&gt; /etc/sysctl.conf &lt;&lt; <span class="string">&#x27;EOF&#x27;</span></span><br><span class="line">net.bridge.bridge-nf-call-ip6tables=1</span><br><span class="line">net.bridge.bridge-nf-call-iptables=1</span><br><span class="line">net.ipv4.ip_forward=1</span><br><span class="line">net.ipv4.conf.all.forwarding=1</span><br><span class="line">net.ipv6.conf.all.forwarding=1</span><br><span class="line">EOF</span><br><span class="line">sysctl -p /etc/sysctl.conf</span><br></pre></td></tr></table></figure>
<h3 id="512-步骤2检查防火墙是否已关闭"><a class="markdownIt-Anchor" href="#512-步骤2检查防火墙是否已关闭"></a> 5.1.2 步骤2：检查防火墙是否已关闭</h3>
<p>systemctl status firewalld</p>
<h3 id="513-步骤3校验iptables中的dnat规则的目的ip是否可访问"><a class="markdownIt-Anchor" href="#513-步骤3校验iptables中的dnat规则的目的ip是否可访问"></a> 5.1.3 步骤3：校验iptables中的DNAT规则的目的ip是否可访问</h3>
<p>一般来说，DNAT的目的ip的流转方式有3类</p>
<ol>
<li>如果<code>目的ip</code>是当前主机的某个<code>podIp</code>，那么流量会转发到<code>cni0</code>，一般来说，这种情况都是没啥问题的</li>
<li>如果<code>目的ip</code>是另一台主机的某个<code>podIp</code>，那么流量会转发到<code>flannel.1</code>，然后通过<code>overlay</code>转发到<code>podIp</code>所在的主机上
<ul>
<li>可能的网络限制：由于overlay是通过udp转发的，需要检查下主机是否有针对udp的过滤配置</li>
</ul>
</li>
<li>如果<code>目的ip</code>是某个<code>机器的ip</code>，那么直接走外网网卡或者<code>lo</code>
<ul>
<li>机器的ip如果变化了，那么iptables中记录的DNAT目的ip可能还是一个旧的主机ip，因此这个时候需要重启下pod，更新下iptables规则</li>
</ul>
</li>
</ol>
<h3 id="514-步骤4检查容器中etcresolvconf配置是否有效"><a class="markdownIt-Anchor" href="#514-步骤4检查容器中etcresolvconf配置是否有效"></a> 5.1.4 步骤4：检查容器中/etc/resolv.conf配置是否有效</h3>
<ol>
<li>对于<code>coredns</code>来说，容器内的<code>/etc/resolv.conf</code>文件是在容器创建的时候，从宿主机上拷贝的。如果主机恰好用的dhcp的方式获取ip，那么获取的dns地址很有可能是dhcp的地址，这个地址是可能会失效的</li>
<li>对于普通的容器网络的容器来说，容器内的<code>/etc/resolv.conf</code>配置的是coredns的clusterIp，因此不需要改动</li>
<li>对于主机网络，且dnsPolicy为<code>ClusterFirst</code>的容器来说，容器内的<code>/etc/resolv.conf</code>文件是在容器创建的时候，从宿主机上拷贝的。如果主机恰好用的dhcp的方式获取ip，那么获取的dns地址很有可能是dhcp的地址，这个地址是可能会失效的</li>
</ol>
<h2 id="52-排查手段"><a class="markdownIt-Anchor" href="#52-排查手段"></a> 5.2 排查手段</h2>
<ol>
<li>tcpdump抓包</li>
<li>iptables配置一些打印日志的规则</li>
</ol>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">iptables -I INPUT -p icmp -j LOG --log-prefix <span class="string">&quot;liuye-input: &quot;</span></span><br><span class="line">iptables -I FORWARD -p icmp -j LOG --log-prefix <span class="string">&quot;liuye-forward: &quot;</span></span><br><span class="line">iptables -I OUTPUT -p icmp -j LOG --log-prefix <span class="string">&quot;liuye-output: &quot;</span></span><br><span class="line">iptables -t nat -I PREROUTING -p icmp -j LOG --log-prefix <span class="string">&quot;liuye-prerouting: &quot;</span></span><br><span class="line">iptables -t nat -I POSTROUTING -p icmp -j LOG --log-prefix <span class="string">&quot;liuye-postrouting: &quot;</span></span><br></pre></td></tr></table></figure>
<h2 id="53-容器网络不通"><a class="markdownIt-Anchor" href="#53-容器网络不通"></a> 5.3 容器网络不通</h2>
<p>现象：在容器中，pingk8s域名失败，ping外网域名失败</p>
<p>kube-proxy包含如下日志：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">W1009 12:41:47.192659       6 proxier.go:320] missing br-netfilter module or unset sysctl br-nf-call-iptables; proxy may not work as intended</span><br></pre></td></tr></table></figure>
<p>原因就是没有开启<code>bridge-nf-call-iptables</code>，当<code>bridge-nf-call-iptables</code>开启时，在二层网桥转发的数据也会被iptables链进制规则限制，而同主机的pod直接的数据转发是直接通过网桥进行转发的，而网桥在二层网络进行数据处理，所以<code>bridge-nf-call-iptables</code>没有开启时，pod无法通过clusterIP访问同主机的pod</p>
<p><strong>如何开启</strong></p>
<ol>
<li><code>echo '1' &gt; /proc/sys/net/bridge/bridge-nf-call-iptables</code>：立即生效，重启后还原为默认配置</li>
<li><code>echo 'net.bridge.bridge-nf-call-iptables=1' &gt;&gt; /etc/sysctl.conf &amp;&amp; sysctl -p /etc/sysctl.conf</code>：修改默认配置，重启后也能生效</li>
</ol>
<h1 id="6-参考"><a class="markdownIt-Anchor" href="#6-参考"></a> 6 参考</h1>
<ul>
<li><a target="_blank" rel="noopener" href="https://xuxinkun.github.io/2016/07/22/kubernetes-proxy/">kubernetes入门之kube-proxy实现原理</a></li>
<li><a target="_blank" rel="noopener" href="https://cizixs.com/2017/03/30/kubernetes-introduction-service-and-kube-proxy/">kubernetes 简介：service 和 kube-proxy 原理</a></li>
<li><a target="_blank" rel="noopener" href="https://cloud.tencent.com/developer/article/1097449">kube-proxy工作原理</a></li>
<li><a target="_blank" rel="noopener" href="https://juejin.im/post/5caccf256fb9a06851504647">如何找到VEth设备的对端接口VEth peer</a></li>
<li><a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/34749675">技术干货|深入理解flannel</a></li>
<li><a target="_blank" rel="noopener" href="https://kubernetes.io/docs/tasks/administer-cluster/dns-debugging-resolution/">Debugging DNS Resolution</a></li>
<li><a target="_blank" rel="noopener" href="https://yuyicai.com/posts/k8s-pod-can-not-conne-to-pod-with-clusterip/">记一次pod无法通过clusterIP访问同主机其它pod的排障过程</a></li>
<li><a target="_blank" rel="noopener" href="https://www.cnblogs.com/charlieroro/p/9588019.html">理解kubernetes环境的iptables</a></li>
<li><a target="_blank" rel="noopener" href="https://www.stackrox.com/post/2020/01/kubernetes-networking-demystified/">Kubernetes Networking Demystified: A Brief Guide</a></li>
<li><a target="_blank" rel="noopener" href="https://blog.csdn.net/shida_csdn/article/details/104626839/">Kube Proxy 工作模式对比分析</a></li>
<li><a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/94418251">IPVS从入门到精通kube-proxy实现原理</a></li>
</ul>
<script type="text&#x2F;javascript" src="https://unpkg.com/kity@2.0.4/dist/kity.min.js"></script><script type="text&#x2F;javascript" src="https://unpkg.com/kityminder-core@1.4.50/dist/kityminder.core.min.js"></script><script defer="true" type="text&#x2F;javascript" src="https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.js"></script><link rel="stylesheet" type="text&#x2F;css" href="https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.css">
    </div>

    
    
    

      <footer class="post-footer">
          <div class="post-tags">
              <a href="/tags/%E5%8E%9F%E5%88%9B/" rel="tag"># 原创</a>
          </div>

        


        
    <div class="post-nav">
      <div class="post-nav-item">
    <a href="/2019/11/27/Tun-Tap-Demo/" rel="prev" title="Tun-Tap-Demo">
      <i class="fa fa-chevron-left"></i> Tun-Tap-Demo
    </a></div>
      <div class="post-nav-item">
    <a href="/2020/01/02/Kubernetes-helm/" rel="next" title="Kubernetes-helm">
      Kubernetes-helm <i class="fa fa-chevron-right"></i>
    </a></div>
    </div>
      </footer>
    
  </article>
  
  
  



          </div>
          
      <div class="tabs tabs-comment">
        <ul class="nav-tabs">
            <li class="tab"><a href="#comment-livere">livere</a></li>
            <li class="tab"><a href="#comment-valine">valine</a></li>
        </ul>
        <div class="tab-content">
            <div class="tab-pane livere" id="comment-livere">
              
  <div class="comments">
    <div id="lv-container" data-id="city" data-uid="MTAyMC8zMzY0My8xMDE5OA=="></div>
  </div>
  
            </div>
            <div class="tab-pane valine" id="comment-valine">
              <div class="comments" id="valine-comments"></div>
            </div>
        </div>
      </div>

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#1-%E7%BB%BC%E8%BF%B0"><span class="nav-text"> 1 综述</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#2-kube-proxy"><span class="nav-text"> 2 kube-proxy</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#21-%E5%B7%A5%E4%BD%9C%E6%A8%A1%E5%BC%8F"><span class="nav-text"> 2.1 工作模式</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#211-proxy-mode-userspace"><span class="nav-text"> 2.1.1 Proxy-mode: userspace</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#212-proxy-mode-iptables"><span class="nav-text"> 2.1.2 Proxy-mode: iptables</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#213-proxy-mode-ipvs"><span class="nav-text"> 2.1.3 Proxy-mode: ipvs</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#22-%E8%87%AA%E5%AE%9A%E4%B9%89chain%E4%BB%8B%E7%BB%8D"><span class="nav-text"> 2.2 自定义chain介绍</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#23-iptables%E8%A7%84%E5%88%99%E9%93%BE-%E7%A4%BA%E4%BE%8B%E8%AE%B2%E8%A7%A3"><span class="nav-text"> 2.3 iptables规则链-示例讲解</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#231-nodeport-%E5%8D%95%E5%89%AF%E6%9C%AC"><span class="nav-text"> 2.3.1 nodeport-单副本</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#232-nodeport-%E5%A4%9A%E5%89%AF%E6%9C%AC"><span class="nav-text"> 2.3.2 nodeport-多副本</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#24-%E6%80%BB%E7%BB%93"><span class="nav-text"> 2.4 总结</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#3-coredns"><span class="nav-text"> 3 coreDNS</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#4-hostnetwork"><span class="nav-text"> 4 HostNetwork</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#5-%E9%97%AE%E9%A2%98%E6%8E%92%E6%9F%A5"><span class="nav-text"> 5 问题排查</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#51-%E6%8E%92%E6%9F%A5%E4%B8%80%E8%88%AC%E6%80%9D%E8%B7%AF"><span class="nav-text"> 5.1 排查一般思路</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#511-%E6%AD%A5%E9%AA%A41%E7%A1%AE%E8%AE%A4%E7%B3%BB%E7%BB%9F%E7%BD%91%E7%BB%9C%E5%8F%82%E6%95%B0%E6%98%AF%E5%90%A6%E9%85%8D%E7%BD%AE%E6%AD%A3%E7%A1%AE"><span class="nav-text"> 5.1.1 步骤1：确认系统网络参数是否配置正确</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#512-%E6%AD%A5%E9%AA%A42%E6%A3%80%E6%9F%A5%E9%98%B2%E7%81%AB%E5%A2%99%E6%98%AF%E5%90%A6%E5%B7%B2%E5%85%B3%E9%97%AD"><span class="nav-text"> 5.1.2 步骤2：检查防火墙是否已关闭</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#513-%E6%AD%A5%E9%AA%A43%E6%A0%A1%E9%AA%8Ciptables%E4%B8%AD%E7%9A%84dnat%E8%A7%84%E5%88%99%E7%9A%84%E7%9B%AE%E7%9A%84ip%E6%98%AF%E5%90%A6%E5%8F%AF%E8%AE%BF%E9%97%AE"><span class="nav-text"> 5.1.3 步骤3：校验iptables中的DNAT规则的目的ip是否可访问</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#514-%E6%AD%A5%E9%AA%A44%E6%A3%80%E6%9F%A5%E5%AE%B9%E5%99%A8%E4%B8%ADetcresolvconf%E9%85%8D%E7%BD%AE%E6%98%AF%E5%90%A6%E6%9C%89%E6%95%88"><span class="nav-text"> 5.1.4 步骤4：检查容器中&#x2F;etc&#x2F;resolv.conf配置是否有效</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#52-%E6%8E%92%E6%9F%A5%E6%89%8B%E6%AE%B5"><span class="nav-text"> 5.2 排查手段</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#53-%E5%AE%B9%E5%99%A8%E7%BD%91%E7%BB%9C%E4%B8%8D%E9%80%9A"><span class="nav-text"> 5.3 容器网络不通</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#6-%E5%8F%82%E8%80%83"><span class="nav-text"> 6 参考</span></a></li></ol></div>
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="Liuyehcf"
      src="/images/avatar.jpg">
  <p class="site-author-name" itemprop="name">Liuyehcf</p>
  <div class="site-description" itemprop="description">大音希声，大象无形</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">285</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">99</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">2</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 2017 – 
  <span itemprop="copyrightYear">2025</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Liuyehcf</span>
</div>
  <div class="powered-by">由 <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://muse.theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Muse</a> 强力驱动
  </div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/muse.js"></script>


<script src="/js/next-boot.js"></script>




  




  
<script src="/js/local-search.js"></script>











<script>
if (document.querySelectorAll('pre.mermaid').length) {
  NexT.utils.getScript('//cdn.jsdelivr.net/npm/mermaid@8/dist/mermaid.min.js', () => {
    mermaid.initialize({
      theme    : 'forest',
      logLevel : 3,
      flowchart: { curve     : 'linear' },
      gantt    : { axisFormat: '%m/%d/%Y' },
      sequence : { actorMargin: 50 }
    });
  }, window.mermaid);
}
</script>


  

  

  

<script>
NexT.utils.loadComments(document.querySelector('#lv-container'), () => {
  window.livereOptions = {
    refer: location.pathname.replace(CONFIG.root, '').replace('index.html', '')
  };
  (function(d, s) {
    var j, e = d.getElementsByTagName(s)[0];
    if (typeof LivereTower === 'function') { return; }
    j = d.createElement(s);
    j.src = 'https://cdn-city.livere.com/js/embed.dist.js';
    j.async = true;
    e.parentNode.insertBefore(j, e);
  })(document, 'script');
});
</script>


<script>
NexT.utils.loadComments(document.querySelector('#valine-comments'), () => {
  NexT.utils.getScript('//unpkg.com/valine/dist/Valine.min.js', () => {
    var GUEST = ['nick', 'mail', 'link'];
    var guest = 'nick,mail,link';
    guest = guest.split(',').filter(item => {
      return GUEST.includes(item);
    });
    new Valine({
      el         : '#valine-comments',
      verify     : false,
      notify     : false,
      appId      : 'qhEhLuMeMOy1zgcBhkqUS6P8-gzGzoHsz',
      appKey     : 'uhkruDLNLNdL5rQjRBY2X9Ke',
      placeholder: "Just go go",
      avatar     : 'mm',
      meta       : guest,
      pageSize   : '10' || 10,
      visitor    : true,
      lang       : '' || 'zh-cn',
      path       : location.pathname,
      recordIP   : false,
      serverURLs : ''
    });
  }, window.Valine);
});
</script>

</body>
</html>
